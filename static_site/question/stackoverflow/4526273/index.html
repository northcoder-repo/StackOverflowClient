<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>What does enctype='multipart/form-data' mean?</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>What does enctype='multipart/form-data' mean?</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>1834</span>
    </div>
    <div>
     <span>Asker: </span> <span>EBAG</span>
    </div>
    <div>
     <span>Asked: </span> <span>24 Dec 2010 at 12:19</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/4526273/what-does-enctype-multipart-form-data-mean">source</a>
    </div>
   </div>
   <div>
    <p>What does <code>enctype='multipart/form-data'</code> mean in an HTML form and when should we use it?</p>
   </div>
   <div class="tags">
    <span class="tag">html</span><span class="tag">http-headers</span><span class="tag">multipartform-data</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td>4</td>
       <td><span><a href="https://www.w3.org/html/wg/spec/association-of-controls-and-forms.html#attr-fs-enctype" rel="nofollow noreferrer">w3.org/html/wg/spec/…</a></span> <span> - </span> <span class="display-name">IEnjoyEatingVegetables</span> <span> </span> <span class="date">9 Aug 2018 at 10:26</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>It's for POSTing entire files as part of form submission. I thought it might have something to do with multiple parts of text-form input, but it doesn't, it's just for file uploads.</span> <span> - </span> <span class="display-name">Janac Meena</span> <span> </span> <span class="date">7 May 2021 at 00:06</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span> <span class="arrow"> <a href="#answer_2">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1996</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Quentin</span>
     </div>
     <div>
      <span> Answered: </span> <span>24 Dec 2010 at 12:21</span>
     </div>
    </div>
    <div>
     <p>When you make a POST request, you have to encode the data that forms the body of the request in some way.</p>
     <p>HTML forms provide <a href="https://www.w3.org/html/wg/spec/association-of-controls-and-forms.html#attr-fs-enctype" rel="noreferrer">three methods of encoding</a>.</p>
     <ul>
      <li><code>application/x-www-form-urlencoded</code> (the default)</li>
      <li><code>multipart/form-data</code></li>
      <li><code>text/plain</code></li>
     </ul>
     <p>Work was being done on adding <a href="http://www.w3.org/TR/html-json-forms/" rel="noreferrer"><code>application/json</code></a>, but that has been abandoned.</p>
     <p>(Other encodings are possible with HTTP requests generated using other means than an HTML form submission. JSON is a common format for use with web services and some still use SOAP.)</p>
     <p>The specifics of the formats don't matter to most developers. The important points are:</p>
     <ul>
      <li>Never use <code>text/plain</code>.</li>
     </ul>
     <p>When you are writing client-side code:</p>
     <ul>
      <li>use <code>multipart/form-data</code> when your form includes any <code>&lt;input type="file"&gt;</code> elements</li>
      <li>otherwise you can use <code>multipart/form-data</code> or <code>application/x-www-form-urlencoded</code> but <code>application/x-www-form-urlencoded</code> will be more efficient</li>
     </ul>
     <p>When you are writing server-side code:</p>
     <ul>
      <li>Use a prewritten form handling library</li>
     </ul>
     <p>Most (such as Perl's <code>CGI-&gt;param</code> or the one exposed by PHP's <code>$_POST</code> superglobal) will take care of the differences for you. Don't bother trying to parse the raw input received by the server.</p>
     <p>Sometimes you will find a library that can't handle both formats. Node.js's most popular library for handling form data is <a href="https://github.com/expressjs/body-parser" rel="noreferrer">body-parser</a> which cannot handle multipart requests (but has documentation that recommends some alternatives which can).</p>
     <hr>
     <p>If you are writing (or debugging) a library for parsing or generating the raw data, then you need to start worrying about the format. You might also want to know about it for interest's sake.</p>
     <p><code>application/x-www-form-urlencoded</code> is more or less the same as a query string on the end of the URL.</p>
     <p><code>multipart/form-data</code> is significantly more complicated but it allows entire files to be included in the data. An example of the result can be found in the <a href="http://www.w3.org/TR/html401/interact/forms.html#h-17.13.4" rel="noreferrer">HTML 4 specification</a>.</p>
     <p><code>text/plain</code> is introduced by HTML 5 and is useful only for debugging — from <a href="http://www.w3.org/TR/html5/forms.html#text/plain-encoding-algorithm" rel="noreferrer">the spec</a>: <em>They are not reliably interpretable by computer</em> — and I'd argue that the others combined with tools (like <a href="https://developers.google.com/web/tools/chrome-devtools/network" rel="noreferrer">the Network Panel</a> in the developer tools of most browsers) are better for that).</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>8</td>
        <td><span>@Quentin Excuse me, what will be any probable problem if we use multipart for all forms? with and whit out files.</span> <span> - </span> <span class="display-name">Positivity</span> <span> </span> <span class="date">20 Oct 2013 at 09:47</span></td>
       </tr>
       <tr>
        <td>25</td>
        <td><span>It doesn't make sense for GET forms, and it makes the file size of requests bigger.</span> <span> - </span> <span class="display-name">Quentin</span> <span> </span> <span class="date">20 Oct 2013 at 10:46</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@Quentin does multipart form data send as a stream by default?</span> <span> - </span> <span class="display-name">user3871</span> <span> </span> <span class="date">13 Feb 2017 at 23:06</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Does the enc in enctype stand for something?</span> <span> - </span> <span class="display-name">Philip Rego</span> <span> </span> <span class="date">10 Dec 2017 at 21:54</span></td>
       </tr>
       <tr>
        <td>3</td>
        <td><span>"HTML forms provide three methods of <b>ENC</b>oding"</span> <span> - </span> <span class="display-name">Quentin</span> <span> </span> <span class="date">10 Dec 2017 at 22:15</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>@Quentin - why is it called "multipart" ?</span> <span> - </span> <span class="display-name">MasterJoe</span> <span> </span> <span class="date">1 Sep 2020 at 22:37</span></td>
       </tr>
       <tr>
        <td>7</td>
        <td><span>Because it has multiple parts</span> <span> - </span> <span class="display-name">Quentin</span> <span> </span> <span class="date">1 Sep 2020 at 23:14</span></td>
       </tr>
       <tr>
        <td>2</td>
        <td><span>@MasterJoe because it can have multiple data items separated by boundaries, see <a href="https://tools.ietf.org/html/rfc2046#section-5.1.1" rel="nofollow noreferrer">RFC 2046 section 5.1.1</a>.</span> <span> - </span> <span class="display-name">Ruslan</span> <span> </span> <span class="date">2 Feb 2021 at 14:27</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_2"><span>Answer 2</span> <span class="arrow"> <a href="#answer_1">↑</a> </span> <span class="arrow"> <a href="#answer_3">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>627</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Ciro Santilli OurBigBook.com</span>
     </div>
     <div>
      <span> Answered: </span> <span>7 Feb 2015 at 09:52</span>
     </div>
    </div>
    <div>
     <blockquote>
      <p>when should we use it?</p>
     </blockquote>
     <p><a href="https://stackoverflow.com/a/4526286">Quentin's answer</a> is right: use <code>multipart/form-data</code> if the form contains a file upload, and <code>application/x-www-form-urlencoded</code> otherwise, which is the default if you omit <code>enctype</code>.</p>
     <p>I'm going to:</p>
     <ul>
      <li>add some more HTML5 references</li>
      <li>explain <strong>why</strong> he is right with a form submit example</li>
     </ul>
     <h2>HTML5 references</h2>
     <p>There are <a href="https://www.w3.org/TR/html5/sec-forms.html#element-attrdef-form-enctype" rel="noreferrer">three possibilities</a> for <code>enctype</code>:</p>
     <ul>
      <li><a href="https://www.w3.org/TR/html5/sec-forms.html#urlencoded-form-data" rel="noreferrer"><code>application/x-www-form-urlencoded</code></a></li>
      <li><a href="https://www.w3.org/TR/html5/sec-forms.html#multipart-form-data" rel="noreferrer"><code>multipart/form-data</code></a> (spec points to <a href="https://www.rfc-editor.org/rfc/rfc7578" rel="noreferrer">RFC7578</a>)</li>
      <li><a href="https://www.w3.org/TR/html5/sec-forms.html#plain-text-form-data" rel="noreferrer"><code>text/plain</code></a>. This is "not reliably interpretable by computer", so it should never be used in production, and we will not look further into it.</li>
     </ul>
     <h2>How to generate the examples</h2>
     <p>Once you see an example of each method, it becomes obvious how they work, and when you should use each one.</p>
     <p>You can produce examples using:</p>
     <ul>
      <li><code>nc -l</code> or an ECHO server: <a href="https://stackoverflow.com/questions/5725430/http-test-server-accepting-get-post-requests/52351480#52351480">HTTP test server accepting GET/POST requests</a></li>
      <li>a user agent like a browser or cURL</li>
     </ul>
     <p>Save the form to a minimal <code>.html</code> file:</p>
     <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"/&gt;
  &lt;title&gt;upload&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form action="http://localhost:8000" method="post" enctype="multipart/form-data"&gt;
  &lt;p&gt;&lt;input type="text" name="text1" value="text default"&gt;
  &lt;p&gt;&lt;input type="text" name="text2" value="a&amp;#x03C9;b"&gt;
  &lt;p&gt;&lt;input type="file" name="file1"&gt;
  &lt;p&gt;&lt;input type="file" name="file2"&gt;
  &lt;p&gt;&lt;input type="file" name="file3"&gt;
  &lt;p&gt;&lt;button type="submit"&gt;Submit&lt;/button&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
     <p>We set the default text value to <code>a&amp;#x03C9;b</code>, which means <code>aωb</code> because <code>ω</code> is <code>U+03C9</code>, which are the bytes <code>61 CF 89 62</code> in UTF-8.</p>
     <p>Create files to upload:</p>
     <pre><code>echo 'Content of a.txt.' &gt; a.txt

echo '&lt;!DOCTYPE html&gt;&lt;title&gt;Content of a.html.&lt;/title&gt;' &gt; a.html

# Binary file containing 4 bytes: 'a', 1, 2 and 'b'.
printf 'a\xCF\x89b' &gt; binary
</code></pre>
     <p>Run our little echo server:</p>
     <pre><code>while true; do printf '' | nc -l localhost 8000; done
</code></pre>
     <p>Open the HTML on your browser, select the files and click on submit and check the terminal.</p>
     <p><code>nc</code> prints the request received.</p>
     <p>Tested on: Ubuntu 14.04.3, <code>nc</code> BSD 1.105, Firefox 40.</p>
     <h2>multipart/form-data</h2>
     <p>Firefox sent:</p>
     <pre><code>POST / HTTP/1.1
[[ Less interesting headers ... ]]
Content-Type: multipart/form-data; boundary=---------------------------735323031399963166993862150
Content-Length: 834

-----------------------------735323031399963166993862150
Content-Disposition: form-data; name="text1"

text default
-----------------------------735323031399963166993862150
Content-Disposition: form-data; name="text2"

aωb
-----------------------------735323031399963166993862150
Content-Disposition: form-data; name="file1"; filename="a.txt"
Content-Type: text/plain

Content of a.txt.

-----------------------------735323031399963166993862150
Content-Disposition: form-data; name="file2"; filename="a.html"
Content-Type: text/html

&lt;!DOCTYPE html&gt;&lt;title&gt;Content of a.html.&lt;/title&gt;

-----------------------------735323031399963166993862150
Content-Disposition: form-data; name="file3"; filename="binary"
Content-Type: application/octet-stream

aωb
-----------------------------735323031399963166993862150--
</code></pre>
     <p>For the binary file and text field, the bytes <code>61 CF 89 62</code> (<code>aωb</code> in UTF-8) are sent literally. You could verify that with <code>nc -l localhost 8000 | hd</code>, which says that the bytes:</p>
     <pre><code>61 CF 89 62
</code></pre>
     <p>were sent (<code>61</code> == 'a' and <code>62</code> == 'b').</p>
     <p>Therefore it is clear that:</p>
     <ul>
      <li>
       <p><code>Content-Type: multipart/form-data; boundary=---------------------------735323031399963166993862150</code> sets the content type to <code>multipart/form-data</code> and says that the fields are separated by the given <code>boundary</code> string.</p>
       <p>But note that the:</p>
       <pre><code>boundary=---------------------------735323031399963166993862150
</code></pre>
       <p>has two less dashes <code>--</code> than the actual barrier</p>
       <pre><code>-----------------------------735323031399963166993862150
</code></pre>
       <p>This is because the standard requires the boundary to start with two dashes <code>--</code>. The other dashes appear to be just how Firefox chose to implement the arbitrary boundary. RFC 7578 <a href="https://www.rfc-editor.org/rfc/rfc7578#section-4.1" rel="noreferrer">clearly mentions</a> that those two leading dashes <code>--</code> are required:</p>
       <blockquote>
        <p>4.1. "Boundary" Parameter of multipart/form-data</p>
        <p>As with other multipart types, the parts are delimited with a boundary delimiter, constructed using CRLF, "--", and the value of the "boundary" parameter.</p>
       </blockquote></li>
      <li>
       <p>every field gets some sub headers before its data: <code>Content-Disposition: form-data;</code>, the field <code>name</code>, the <code>filename</code>, followed by the data.</p>
       <p>The server reads the data until the next boundary string. The browser must choose a boundary that will not appear in any of the fields, so this is why the boundary may vary between requests.</p>
       <p>Because we have the unique boundary, no encoding of the data is necessary: binary data is sent as is.</p>
       <p>TODO: what is the optimal boundary size (<code>log(N)</code> I bet), and name / running time of the algorithm that finds it? Asked at: <a href="https://cs.stackexchange.com/questions/39687/find-the-shortest-sequence-that-is-not-a-sub-sequence-of-a-set-of-sequences">https://cs.stackexchange.com/questions/39687/find-the-shortest-sequence-that-is-not-a-sub-sequence-of-a-set-of-sequences</a></p></li>
      <li>
       <p><code>Content-Type</code> is automatically determined by the browser.</p>
       <p>How it is determined exactly was asked at: <a href="https://stackoverflow.com/questions/1201945/how-is-mime-type-of-an-uploaded-file-determined-by-browser">How is mime type of an uploaded file determined by browser?</a></p></li>
     </ul>
     <h2>application/x-www-form-urlencoded</h2>
     <p>Now change the <code>enctype</code> to <code>application/x-www-form-urlencoded</code>, reload the browser, and resubmit.</p>
     <p>Firefox sent:</p>
     <pre><code>POST / HTTP/1.1
[[ Less interesting headers ... ]]
Content-Type: application/x-www-form-urlencoded
Content-Length: 51

text1=text+default&amp;text2=a%CF%89b&amp;file1=a.txt&amp;file2=a.html&amp;file3=binary
</code></pre>
     <p>Clearly the file data was not sent, only the basenames. So this cannot be used for files.</p>
     <p>As for the text field, we see that usual printable characters like <code>a</code> and <code>b</code> were sent in one byte, while non-printable ones like <code>0xCF</code> and <code>0x89</code> took up <strong>3 bytes</strong> each: <code>%CF%89</code>!</p>
     <h2>Comparison</h2>
     <p>File uploads often contain lots of non-printable characters (e.g. images), while text forms almost never do.</p>
     <p>From the examples we have seen that:</p>
     <ul>
      <li>
       <p><code>multipart/form-data</code>: adds a few bytes of boundary overhead to the message, and must spend some time calculating it, but sends each byte in one byte.</p></li>
      <li>
       <p><code>application/x-www-form-urlencoded</code>: has a single byte boundary per field (<code>&amp;</code>), but adds a <em>linear</em> overhead factor of <strong>3x</strong> for every non-printable character.</p></li>
     </ul>
     <p>Therefore, even if we could send files with <code>application/x-www-form-urlencoded</code>, we wouldn't want to, because it is so inefficient.</p>
     <p>But for printable characters found in text fields, it does not matter and generates less overhead, so we just use it.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>Great post. Question: Why do we have 3 bytes for each non printable character? For eg: for unicode U+03C9, we have %CF%89: this is 2 extra bytes for the two "%". Is my understanding correct?</span> <span> - </span> <span class="display-name">Khanna111</span> <span> </span> <span class="date">6 Aug 2015 at 18:42</span></td>
       </tr>
       <tr>
        <td>3</td>
        <td><span>@Khanna111<code>%CF</code> is 3 bytes long: <code>%</code>, <code>C</code> and <code>F</code> :-) Story of making it human readable.</span> <span> - </span> <span class="display-name">Ciro Santilli OurBigBook.com</span> <span> </span> <span class="date">6 Aug 2015 at 18:50</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>I had to use a slightly different listener: <code>while true; do printf '' | nc -lp 8000; done</code></span> <span> - </span> <span class="display-name">starfry</span> <span> </span> <span class="date">27 Aug 2015 at 18:36</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@starfry what error did you get on the command I've given? What is your <code>nc</code> version and distro? I'm <code>netcat-openbsd</code> 1.105-7ubuntu1 Ubuntu 14.04.3.</span> <span> - </span> <span class="display-name">Ciro Santilli OurBigBook.com</span> <span> </span> <span class="date">28 Aug 2015 at 08:05</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>I have <b>gnu-netcat 0.7.1-5</b> on <b>Arch Linux</b>. It's doc states that <code>-l</code> is needed for listen mode and <code>-p</code> to specify the port. The optional host and port arguments restrict connections to a specific remote host and port. There is no error because the command as written in the answer opens a connection that listens on a random port for connections from <code>localhost:8000</code>.</span> <span> - </span> <span class="display-name">starfry</span> <span> </span> <span class="date">28 Aug 2015 at 14:52</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@starfry can you check that: <code>while true; do printf '' | nc -lp 8000 localhost; done</code> works for you? It seems to work on both version, if it does I'll update to use that instead, otherwise I'll just mention both commands.</span> <span> - </span> <span class="display-name">Ciro Santilli OurBigBook.com</span> <span> </span> <span class="date">28 Aug 2015 at 15:41</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Yes, <code>while true; do printf '' | nc -lp 8000 localhost; done</code> works fine.</span> <span> - </span> <span class="display-name">starfry</span> <span> </span> <span class="date">28 Aug 2015 at 15:44</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>+1, very comprehensive. You may want to align the boundary string under "Therefore it is clear that:" with the one in the request</span> <span> - </span> <span class="display-name">Saar</span> <span> </span> <span class="date">26 Mar 2017 at 03:14</span></td>
       </tr>
       <tr>
        <td>10</td>
        <td><span>On OS X, <code>nc</code> won't accept both the <code>-l</code> and the <code>-p</code> arguments simultaneously. But this works for me: <code>while true; do printf '' | nc -l 8000; done</code>.</span> <span> - </span> <span class="display-name">PhilipS</span> <span> </span> <span class="date">25 Apr 2017 at 02:03</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@PhilipS actually, <code>-p</code> is unecessary on Linux as well and I've removed it. Thanks for bringing that up.</span> <span> - </span> <span class="display-name">Ciro Santilli OurBigBook.com</span> <span> </span> <span class="date">25 Apr 2017 at 05:37</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>For those who triy to construct that file upload message it's still not clear where/what new line chars need to be added</span> <span> - </span> <span class="display-name">Pavel P</span> <span> </span> <span class="date">5 Jun 2019 at 22:33</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>What is the purpose of putting so many dashes in the boundaries? Is it for easy visual recognition?</span> <span> - </span> <span class="display-name">Daniel Node.js</span> <span> </span> <span class="date">9 Oct 2019 at 16:10</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@DanielPendergast not sure why this default. In general, to not conflict with the same number of dashes present in content of fields which would lead to ambiguity.</span> <span> - </span> <span class="display-name">Ciro Santilli OurBigBook.com</span> <span> </span> <span class="date">9 Oct 2019 at 16:11</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>So far as I can tell, the point of putting ANY DASHES AT ALL in the boundary is to make it impossible to check the syntax of the request by eye. Please don't use them in your boundary tokens.</span> <span> - </span> <span class="display-name">Dewi Morgan</span> <span> </span> <span class="date">11 Nov 2019 at 17:01</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>@DewiMorgan You are completely right. I edited the post and removed the dashes from the boundary string.</span> <span> - </span> <span class="display-name">Max</span> <span> </span> <span class="date">7 May 2020 at 10:11</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@Max I rejected temporarily, what's the Firefox version you tested on?</span> <span> - </span> <span class="display-name">Ciro Santilli OurBigBook.com</span> <span> </span> <span class="date">7 May 2020 at 10:12</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>@CiroSantilli冠状病毒审查六四事件法轮功 The point is not that dashes in the boundary string wouldn't work. They do work perfectly. But, as Dewi Morgan said: They are unnecessary and highly confusing because the multipart/form-data encoding requires setting "--" before each boundary and after the last boundary.</span> <span> - </span> <span class="display-name">Max</span> <span> </span> <span class="date">7 May 2020 at 10:18</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@Max I understand. But I would like to stick to a concrete example from an specific browser in the answer. We should definitely mention the extra <code>--</code> thing on the answer though.</span> <span> - </span> <span class="display-name">Ciro Santilli OurBigBook.com</span> <span> </span> <span class="date">7 May 2020 at 10:22</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>@CiroSantilli郝海东冠状病六四事件法轮功 - why is it called "multipart" ?</span> <span> - </span> <span class="display-name">MasterJoe</span> <span> </span> <span class="date">1 Sep 2020 at 22:37</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>@MasterJoe this is explained on the book "The art of web development" by John Debber, please go and read it. Just kidding! I guess it's because each <code>boundary=</code> forms a "part".</span> <span> - </span> <span class="display-name">Ciro Santilli OurBigBook.com</span> <span> </span> <span class="date">2 Sep 2020 at 06:35</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>@CiroSantilli郝海东冠状病六四事件法轮功 - haha. did you read my profile ?</span> <span> - </span> <span class="display-name">MasterJoe</span> <span> </span> <span class="date">2 Sep 2020 at 06:37</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@MasterJoe "maybe" ;-)</span> <span> - </span> <span class="display-name">Ciro Santilli OurBigBook.com</span> <span> </span> <span class="date">2 Sep 2020 at 06:37</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>Very informative post. As a little observation for those wanting to replicate everything, I believe the parameters of the netcat command are reversed, the host should come before the port (as in the referenced post), so in this case the command would be <code>nc -l localhost 8000</code>. Otherwise you get a <code>nc: getaddrinfo: Servname not supported for ai_socktype</code> error.</span> <span> - </span> <span class="display-name">F.Webber</span> <span> </span> <span class="date">4 Dec 2021 at 20:55</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_3"><span>Answer 3</span> <span class="arrow"> <a href="#answer_2">↑</a> </span> <span class="arrow"> <a href="#answer_4">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>109</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Matt Asbury</span>
     </div>
     <div>
      <span> Answered: </span> <span>24 Dec 2010 at 12:49</span>
     </div>
    </div>
    <div>
     <p><code>enctype='multipart/form-data</code> is an encoding type that allows files to be sent through a <em>POST</em>. Quite simply, without this encoding the files cannot be sent through <em>POST</em>.</p>
     <p>If you want to allow a user to upload a file via a form, you must use this <em>enctype</em>.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>So.. if the file is not a binary file then can we work without this ?</span> <span> - </span> <span class="display-name">Yugal Jindle</span> <span> </span> <span class="date">27 Aug 2013 at 00:01</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>From what I understand, you can use <code>multipart/form-data</code> for sending non-binary files but it is inefficient. I believe using <code>application/x-www-form-urlencoded</code> is the correct way to send non-binary data but someone with more experience with non-binary files may need to correct me.</span> <span> - </span> <span class="display-name">Matt Asbury</span> <span> </span> <span class="date">27 Aug 2013 at 09:36</span></td>
       </tr>
       <tr>
        <td>16</td>
        <td><span>The main advantage to using <code>multipart/form-data</code> for sending a file is that it will work automatically in both frontend and backend. You don't have to do any special handling. All files are binary even if they should only contain text. <code>application/x-www-form-urlencoded</code> is the standard way to POST a form without attached files. <code>multipart/form-data</code> is the standard way to POST a form with attached file(s). (There are also numerous other encodings, such as <code>application/json</code> and <code>application/json-patch+json</code>, which are common for communication between server and client.)</span> <span> - </span> <span class="display-name">Daniel Luna</span> <span> </span> <span class="date">19 Sep 2013 at 17:34</span></td>
       </tr>
       <tr>
        <td>9</td>
        <td><span>Its worth pointing out you can base64 encode your image and send it as plain string data .</span> <span> - </span> <span class="display-name">Tegra Detra</span> <span> </span> <span class="date">14 Jul 2014 at 22:46</span></td>
       </tr>
       <tr>
        <td>12</td>
        <td><span>Further to @Prospero's comment above: you can absolutely send files via POST without using <code>multipart/form-data</code>. What you <i>can't</i> do is do that using an ordinary HTML form submission, without JavaScript. Setting a form to use <code>multipart/form-data</code> is the only mechanism that <i>HTML</i> provides to let you POST files without using JavaScript. I feel like this isn't clear enough in the answer, and that a naive reader might think that the inability to send files without <code>multipart/form-data</code> is a limitation of <i>HTTP</i>; that's not the case.</span> <span> - </span> <span class="display-name">Mark Amery</span> <span> </span> <span class="date">2 Feb 2019 at 14:29</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_4"><span>Answer 4</span> <span class="arrow"> <a href="#answer_3">↑</a> </span> <span class="arrow"> <a href="#answer_5">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>96</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Andry</span>
     </div>
     <div>
      <span> Answered: </span> <span>24 Dec 2010 at 17:50</span>
     </div>
    </div>
    <div>
     <p>When submitting a form, you tell your browser to send, via the HTTP protocol, a message on the network, properly enveloped in a TCP/IP protocol message structure. An HTML page has a way to send data to the server: by using <code>&lt;form&gt;</code>s.</p>
     <p>When a form is submitted, an HTTP Request is created and sent to the server, the message will contain the field names in the form and the values filled in by the user. This transmission can happen with <code>POST</code> or <code>GET</code> <em>HTTP methods</em>.</p>
     <ul>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST" rel="noreferrer"><code>POST</code></a> tells your browser to build an HTTP message and put all content in the body of the message (a very useful way of doing things, more safe and also flexible).</li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET" rel="noreferrer"><code>GET</code></a> will submit the form data in the <em>querystring</em>. It has some constraints about data representation and length.</li>
     </ul>
     <h3>Stating how to send your form to the server</h3>
     <p>Attribute <code>enctype</code> has sense only when using <code>POST</code> method. When specified, it instructs the browser to send the form by encoding its content in a specific way. From <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-enctype" rel="noreferrer">MDN - Form enctype</a>:</p>
     <blockquote>
      <p>When the value of the method attribute is post, enctype is the MIME type of content that is used to submit the form to the server.</p>
     </blockquote>
     <ul>
      <li><code>application/x-www-form-urlencoded</code>: This is the default. When the form is sent, all names and values are collected and <a href="https://en.wikipedia.org/wiki/Percent-encoding" rel="noreferrer">URL Encoding</a> is performed on the final string.</li>
      <li><code>multipart/form-data</code>: Characters are NOT encoded. This is important when the form has a file upload control. You want to send the file binary and this ensures that bitstream is not altered.</li>
      <li><code>text/plain</code>: Spaces get converted, but no more encoding is performed.</li>
     </ul>
     <h3>Security</h3>
     <p>When submitting forms, some security concerns can arise as stated in <a href="https://www.rfc-editor.org/rfc/rfc7578#section-7" rel="noreferrer">RFC 7578 Section 7: Multipart form data - Security considerations</a>:</p>
     <blockquote>
      <p>All form-processing software should treat user supplied form-data<br>
        with sensitivity, as it often contains confidential or personally<br>
        identifying information. There is widespread use of form "auto-fill" features in web browsers; these might be used to trick users to<br>
        unknowingly send confidential information when completing otherwise<br>
        innocuous tasks. multipart/form-data does not supply any features<br>
        for checking integrity, ensuring confidentiality, avoiding user<br>
        confusion, or other security features; those concerns must be<br>
        addressed by the form-filling and form-data-interpreting applications.</p>
      <p>Applications that receive forms and process them must be careful not to supply data back to the requesting form-processing site that was not intended to be sent.</p>
      <p>It is important when interpreting the filename of the Content-<br>
        Disposition header field to not inadvertently overwrite files in the<br>
        recipient's file space.</p>
     </blockquote>
     <p>This concerns you if you are a developer and your server will process forms submitted by users which might end up containing sensitive information.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>4</td>
        <td><span>The stuff about security after the most recent edit is all irrelevant to the question of what <code>enctype</code>s do. I know it's literally from the <code>multipart/form-data</code> RFC, but nonetheless it's an arbitrary dump of security considerations about submitting forms that are entirely orthogonal to whether data is sent as <code>application/x-www-form-urlencoded</code> or <code>multipart/form-data</code>.</span> <span> - </span> <span class="display-name">Mark Amery</span> <span> </span> <span class="date">3 Feb 2019 at 09:51</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_5"><span>Answer 5</span> <span class="arrow"> <a href="#answer_4">↑</a> </span> <span class="arrow"> <a href="#answer_6">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>53</span>
     </div>
     <div>
      <span>Answerer: </span> <span>GP Singh</span>
     </div>
     <div>
      <span> Answered: </span> <span>4 Jul 2013 at 09:13</span>
     </div>
    </div>
    <div>
     <p><code>enctype='multipart/form-data'</code> means that no characters will be encoded. that is why this type is used while uploading files to server.<br>
       So <code>multipart/form-data</code> is used when a form requires binary data, like the contents of a file, to be uploaded</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_6"><span>Answer 6</span> <span class="arrow"> <a href="#answer_5">↑</a> </span> <span class="arrow"> <a href="#answer_7">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>11</span>
     </div>
     <div>
      <span>Answerer: </span> <span>SaNdY</span>
     </div>
     <div>
      <span> Answered: </span> <span>25 Sep 2013 at 11:53</span>
     </div>
    </div>
    <div>
     <p>Set the method attribute to POST because file content can't be put inside a URL parameter using a form.</p>
     <p>Set the value of enctype to multipart/form-data because the data will be split into multiple parts, one for each file plus one for the text of the form body that may be sent with them.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>This implies that <code>POST</code> is likely to be sufficient for submitting a file via a form and that adding <code>multipart/form-data</code> is just a bonus in some vague way. That's not the case. Most files will absolutely require using <code>multipart/form-data</code>.</span> <span> - </span> <span class="display-name">underscore_d</span> <span> </span> <span class="date">11 Jun 2017 at 12:33</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_7"><span>Answer 7</span> <span class="arrow"> <a href="#answer_6">↑</a> </span> <span class="arrow"> <a href="#answer_8">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>9</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Premraj</span>
     </div>
     <div>
      <span> Answered: </span> <span>27 Dec 2015 at 01:29</span>
     </div>
    </div>
    <div>
     <ul>
      <li>enctype(<strong>ENC</strong>ode <strong>TYPE</strong>) attribute specifies how the form-data should be encoded when submitting it to the server.</li>
      <li><strong>multipart/form-data</strong> is one of the value of enctype attribute, which is used in form element that have a file upload. <strong>multi-part</strong> means form data divides into <strong>multiple parts</strong> and send to server.</li>
     </ul>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>10</td>
        <td><span>I believe <b>enctype</b> does not stand for encryption type. There is no encryption involved at this level. My guess is either encoding type or enclosed type. But surely it is not encryption type.</span> <span> - </span> <span class="display-name">Yeo</span> <span> </span> <span class="date">3 Mar 2016 at 11:00</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>Your final bullet point here about <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code> is irrelevant and confusing.</span> <span> - </span> <span class="display-name">Mark Amery</span> <span> </span> <span class="date">2 Feb 2019 at 14:55</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_8"><span>Answer 8</span> <span class="arrow"> <a href="#answer_7">↑</a> </span> <span class="arrow"> <a href="#answer_9">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>3</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Eric</span>
     </div>
     <div>
      <span> Answered: </span> <span>10 Mar 2016 at 09:29</span>
     </div>
    </div>
    <div>
     <p>Usually this is when you have a POST form which needs to take a file upload as data... this will tell the server how it will encode the data transferred, in such case it won't get encoded because it will just transfer and upload the files to the server, Like for example when uploading an image or a pdf</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_9"><span>Answer 9</span> <span class="arrow"> <a href="#answer_8">↑</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>-3</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Rishad</span>
     </div>
     <div>
      <span> Answered: </span> <span>11 Nov 2018 at 22:52</span>
     </div>
    </div>
    <div>
     <blockquote>
      <p>The enctype attribute specifies how the form-data should be encoded when submitting it to the server.</p>
      <p>The enctype attribute can be used only if method="post".</p>
      <p>No characters are encoded. This value is required when you are using forms that have a file upload control</p>
     </blockquote>
     <p>From <a href="https://www.w3schools.com/TAGs/att_form_enctype.asp" rel="nofollow noreferrer">W3Schools</a></p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>3</td>
        <td><span>This quote doesn't even mention <code>multipart/form-data</code>. It's also pretty unclear; what does the sentence "No characters are encoded" even mean? -1.</span> <span> - </span> <span class="display-name">Mark Amery</span> <span> </span> <span class="date">2 Feb 2019 at 14:22</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>