<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>let's encrypt SSL ceritificate reissue (certbot) in aws autoscaling group</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>let's encrypt SSL ceritificate reissue (certbot) in aws autoscaling group</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>1</span>
    </div>
    <div>
     <span>Asker: </span> <span>Justin</span>
    </div>
    <div>
     <span>Asked: </span> <span>28 Mar 2020 at 18:21</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/60905058/lets-encrypt-ssl-ceritificate-reissue-certbot-in-aws-autoscaling-group">source</a>
    </div>
   </div>
   <div>
    <p>I am using let's encrypt in amazon ec2. This will be part of an autoscaling group. The lets encrypt certificates expire every 90 days and has an auto reissue through IP domain IP/A value check. How does this work with multiple IPs? Since individual instances will have different IPs, won't this result in certificate reissue failure?</p>
   </div>
   <div class="tags">
    <span class="tag">amazon-ec2</span><span class="tag">lets-encrypt</span><span class="tag">autoscaling</span><span class="tag">certbot</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td>1</td>
       <td><span>Do you need each instance to have its own cert? Or can you have a load balancer in front of them with an AWS ACM cert on it?</span> <span> - </span> <span class="display-name">Shahad</span> <span> </span> <span class="date">28 Mar 2020 at 20:12</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>The issue is first end to end encryption. But more importantly I am facing an issue with http connection. No response from server. So, this is my only option for now.</span> <span> - </span> <span class="display-name">Justin</span> <span> </span> <span class="date">29 Mar 2020 at 07:19</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>For end to end encryption on an ELB, the instance doesn't need to have a valid cert for the domain, you can generate a self signed cert locally on the instance. Is the HTTP connection issue when going directly to the instance, or only when going through an ELB? Try doing a curl -Ikv (thats a capital i, not lowercase L) to the IP and see if its generating an error, or just timing out. Might be a security group/NACL/routing issue</span> <span> - </span> <span class="display-name">Shahad</span> <span> </span> <span class="date">30 Mar 2020 at 13:55</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>