<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>How to put an array of objects into an object name data for datatables</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>How to put an array of objects into an object name data for datatables</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>1</span>
    </div>
    <div>
     <span>Asker: </span> <span>spreaderman</span>
    </div>
    <div>
     <span>Asked: </span> <span>3 Dec 2022 at 03:43</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/74663829/how-to-put-an-array-of-objects-into-an-object-name-data-for-datatables">source</a>
    </div>
   </div>
   <div>
    <p>I have an array of objects as follows:</p>
    <pre><code>[
  {
    "type": "Feature",
    "geometry": {
      "type": "Point",
      "coordinates": [
        137.89094924926758,
        36.93143814715343
      ]
    },
    "properties": {
      "@geometry": "center",
      "@id": "way/323049815",
      "id": "way/323049815",
      "landuse": "winter_sports",
      "name": "糸魚川シーサイドバレースキー場",
      "name:en": "Itoigawa Seaside Valley Ski Resort",
      "name:ja": "糸魚川シーサイドバレースキー場",
      "source": "Bing",
      "sport": "skiing",
      "website": "https://www.seasidevalley.com/",
      "wikidata": "Q11604871",
      "wikipedia": "ja:糸魚川シーサイドバレースキー場"
    },
    
    [snip]
</code></pre>
    <p>I want to add the above array into a data object in javascript as follows.</p>
    <pre><code>{
    "data": [
        //my data here.
    ]
}
</code></pre>
    <p>I have tried this;</p>
    <pre><code>          let mydata = {
            "data": skidata
          }
</code></pre>
    <p>but is places back slashed a lot like this snippet;</p>
    <pre><code>{
    "data": "[{\"type\":\"Feature\",\"geometry\":{\"type\":\"Point\",\"coordinates\"...

</code></pre>
    <p>How do I remove the back slashes in javascript please?</p>
    <p>This is the specific code;</p>
    <pre><code>            let skidata = JSON.stringify(uniqueFeatures);
    
            let mydata = {
                "data": skidata
            }
            console.log((mydata));
</code></pre>
    <p>When I console.log skidata, there are no backslashes. When I console.log mydata, back slashes are added, I think. This is a pict of console.log(mydata)</p>
    <p><a href="https://i.stack.imgur.com/YKCPX.png" rel="nofollow noreferrer"><img src="/question/stackoverflow/74663829/YKCPX.png" alt="screen shot of console for my data"></a></p>
   </div>
   <div class="tags">
    <span class="tag">javascript</span><span class="tag">json</span><span class="tag">datatables</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td></td>
       <td><span>That's not what happens for the code you posted. The problem is somewhere in the code you did not include. Please be thorough, or you won't get the help you're looking for.</span> <span> - </span> <span class="display-name">Michael G</span> <span> </span> <span class="date">3 Dec 2022 at 03:57</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@MichaelG thanks for your review. I have pasted more of the code and a screenshot. Possible to please take a look?</span> <span> - </span> <span class="display-name">spreaderman</span> <span> </span> <span class="date">3 Dec 2022 at 05:31</span></td>
      </tr>
      <tr>
       <td>1</td>
       <td><span>Is there a reason you wanted to use <code>JSON.stringify()</code>? Are you trying to POST this to a server or something similar?</span> <span> - </span> <span class="display-name">Michael G</span> <span> </span> <span class="date">3 Dec 2022 at 14:14</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>andrewJames</span>
     </div>
     <div>
      <span> Answered: </span> <span>3 Dec 2022 at 13:55</span>
     </div>
    </div>
    <div>
     <p>Don't use <code>JSON.stringify(uniqueFeatures)</code>.</p>
     <p>That turns your object into a string.</p>
     <p>Instead of doing that, just use <code>let mydata1 = { "data": uniqueFeatures };</code>.</p>
     <p>Demo:</p>
     <p></p>
     <div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
      <div class="snippet-code">
       <pre class="snippet-code-js lang-js prettyprint-override"><code>let uniqueFeatures = [{
  "type": "Feature",
  "geometry": {
    "type": "Point",
    "coordinates": [
      137.89094924926758,
      36.93143814715343
    ]
  },
  "properties": {
    "@geometry": "center",
    "@id": "way/323049815",
    "id": "way/323049815",
    "landuse": "winter_sports",
    "name": "糸魚川シーサイドバレースキー場",
    "name:en": "Itoigawa Seaside Valley Ski Resort",
    "name:ja": "糸魚川シーサイドバレースキー場",
    "source": "Bing",
    "sport": "skiing",
    "website": "https://www.seasidevalley.com/",
    "wikidata": "Q11604871",
    "wikipedia": "ja:糸魚川シーサイドバレースキー場"
  }
}];

let skidata = JSON.stringify(uniqueFeatures);

let mydata1 = {
  "data": uniqueFeatures
};

let mydata2 = {
  "data": skidata
};

console.log("What you get if you stringify your object:");
console.log(mydata2);

console.log("What you want, instead:");
console.log(mydata1);</code></pre>
       <pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Demo&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;

&lt;/body&gt;

&lt;/html&gt;</code></pre>
      </div>
     </div>
     <p></p>
     <p>Reference: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" rel="nofollow noreferrer"><code>JSON.stringify()</code></a></p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>2</td>
        <td><span>JS does not add backslashes to escape double quotes. The console does when printing strings. That does not affect his code. (E.g. the length of <code>('Str"i"ng').length === 7</code>. If JS added backslashes, it would be length 9.)</span> <span> - </span> <span class="display-name">Michael G</span> <span> </span> <span class="date">3 Dec 2022 at 14:17</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>@MichaelG - Thank you for the correction. What I wrote was wrong. (Your string length is 8 not 7, right?)</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">3 Dec 2022 at 14:38</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>LOL yep. Apparently can't count. :-)</span> <span> - </span> <span class="display-name">Michael G</span> <span> </span> <span class="date">3 Dec 2022 at 16:58</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>