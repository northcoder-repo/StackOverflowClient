<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>Dropdown filtering in jQuery Datatables</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>Dropdown filtering in jQuery Datatables</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>1</span>
    </div>
    <div>
     <span>Asker: </span> <span>JD Fill</span>
    </div>
    <div>
     <span>Asked: </span> <span>11 Mar 2020 at 13:06</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/60636771/dropdown-filtering-in-jquery-datatables">source</a>
    </div>
   </div>
   <div>
    <p>Link to <a href="https://codepen.io/jdfill/pen/MWwQmEv" rel="nofollow noreferrer">CodePen</a>.</p>
    <p>I'm using the <a href="https://datatables.net/" rel="nofollow noreferrer">Datatables jQuery plugin</a> for this table.</p>
    <p>I'm trying to figure out how to implement the Filter By Location dropdown at the top to work. So if you select Bracebridge from the dropdown for example, it only shows the products with Bracebridge. I've tried playing around with the <a href="https://datatables.net/reference/api/column().search()" rel="nofollow noreferrer">column().search() function</a> from Datatables, having a hard time getting it to work.</p>
    <p>HTML</p>
    <pre><code>&lt;!--Filter--&gt;
          &lt;p&gt;Filter By Location&lt;/p&gt;
          &lt;select id="locfilter" name="location"&gt;
            &lt;option value=""&gt;All&lt;/option&gt;
            &lt;option value="Ajax"&gt;Ajax&lt;/option&gt;
            &lt;option value="Barrie"&gt;Barrie&lt;/option&gt;
            &lt;option value="Belleville"&gt;Belleville&lt;/option&gt;
            &lt;option value="Bracebridge"&gt;Bracebridge&lt;/option&gt;
            &lt;option value="Bradford"&gt;Bradford&lt;/option&gt;
            &lt;option value="Brampton"&gt;Brampton&lt;/option&gt;
            &lt;option value="Brantford"&gt;Brantford&lt;/option&gt;
            &lt;option value="Burlington"&gt;Burlington&lt;/option&gt;
            &lt;option value="Cambridge"&gt;Cambridge&lt;/option&gt;
            &lt;option value="Cobourg"&gt;Cobourg&lt;/option&gt;
            &lt;option value="Concord"&gt;Concord&lt;/option&gt;
            &lt;option value="Gloucester"&gt;Gloucester&lt;/option&gt;
            &lt;option value="Gormley"&gt;Gormley&lt;/option&gt;
            &lt;option value="Guelph"&gt;Guelph&lt;/option&gt;
            &lt;option value="Hamilton"&gt;Hamilton&lt;/option&gt;
            &lt;option value="Kingston"&gt;Kingston&lt;/option&gt;
            &lt;option value="London"&gt;London&lt;/option&gt;
            &lt;option value="Milton"&gt;Milton&lt;/option&gt;
            &lt;option value="Napanee"&gt;Napanee&lt;/option&gt;
            &lt;option value="Niagara Falls"&gt;Niagara Falls&lt;/option&gt;
            &lt;option value="North Bay"&gt;North Bay&lt;/option&gt;
            &lt;option value="Ottawa"&gt;Ottawa&lt;/option&gt;
            &lt;option value="Owen Sound"&gt;Owen Sound&lt;/option&gt;
            &lt;option value="Peterborough"&gt;Peterborough&lt;/option&gt;
            &lt;option value="Sarnia"&gt;Sarnia&lt;/option&gt;
            &lt;option value="Sault Ste Marie"&gt;Sault Ste Marie&lt;/option&gt;
            &lt;option value="Sudbury"&gt;Sudbury&lt;/option&gt;
            &lt;option value="Timmins"&gt;Timmins&lt;/option&gt;
            &lt;option value="Toronto"&gt;Toronto&lt;/option&gt;
            &lt;option value="Trenton"&gt;Trenton&lt;/option&gt;
            &lt;option value="Waterloo"&gt;Waterloo&lt;/option&gt;
            &lt;option value="Windsor"&gt;Windsor&lt;/option&gt;
            &lt;option value="Woodstock"&gt;Woodstock&lt;/option&gt;
          &lt;/select&gt;
</code></pre>
    <p>JS (only has this snippet to pull in the table)</p>
    <pre><code>$(document).ready(function() {
  $("#used-equip-table").DataTable();
});
</code></pre>
   </div>
   <div class="tags">
    <span class="tag">javascript</span><span class="tag">jquery</span><span class="tag">datatables</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td></td>
       <td><span>refer this link - <a href="https://datatables.net/examples/api/regex.html" rel="nofollow noreferrer">datatables.net/examples/api/regex.html</a></span> <span> - </span> <span class="display-name">Alok Mali</span> <span> </span> <span class="date">11 Mar 2020 at 13:47</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span> <span class="arrow"> <a href="#answer_2">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>andrewJames</span>
     </div>
     <div>
      <span> Answered: </span> <span>11 Mar 2020 at 13:48</span>
     </div>
    </div>
    <div>
     <p>Update your JavaScript section to this:</p>
     <pre><code>$(document).ready(function() {

  // create a variable for your table, so we can refer to it below:
  var table = $("#used-equip-table").DataTable();

  // add events to your drop-down control, to detect changes:
  $('#locfilter').on( 'keyup change clear', function () {
    table.draw();
  } );

  // use the following to process filter/search changes:
  $.fn.dataTable.ext.search.push(
    function( settings, data, dataIndex ) {
      var selectedValue = $('#locfilter').val();
      if (data[4].includes(selectedValue)) { // 4 = the fifth column!
        return true;
      } else {
        return false;
      }
    }
  );

});
</code></pre>
     <p>That <code>ext.search.push</code> function shown above is part of the <code>search</code> plug-in, described <a href="https://datatables.net/manual/plug-ins/search" rel="nofollow noreferrer">here</a>.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_2"><span>Answer 2</span> <span class="arrow"> <a href="#answer_1">↑</a> </span> <span class="arrow"> <a href="#answer_3">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Jerrin stephen</span>
     </div>
     <div>
      <span> Answered: </span> <span>11 Mar 2020 at 14:05</span>
     </div>
    </div>
    <div>
     <pre><code>   $("#locfilter").change(function() {
    var value = $("#locfilter").val();
    $.fn.dataTable.ext.search.push(
    function( settings, data, dataIndex ) {
        return data[4]==value
            ? true
            : false
        }     
    );
    table.draw();
    $.fn.dataTable.ext.search.pop();
   });
</code></pre>
     <p>Try this code it worked for me .</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_3"><span>Answer 3</span> <span class="arrow"> <a href="#answer_2">↑</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Alok Mali</span>
     </div>
     <div>
      <span> Answered: </span> <span>11 Mar 2020 at 13:55</span>
     </div>
    </div>
    <div>
     <p>Add an event on change of your custom filter.</p>
     <p>Please see this -</p>
     <pre><code>$(document).ready(function() {
 $("#used-equip-table").DataTable();
});

$('#locfilter').on( 'change', function () {
 $('#used-equip-table').DataTable().column( 4 ).search(
   $('#locfilter').val()
 ).draw();
});
</code></pre>
     <p><a href="https://codepen.io/aalokmali/pen/oNXEwdx" rel="nofollow noreferrer">Please see working example here</a></p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>Awesome! Thanks @Alok!</span> <span> - </span> <span class="display-name">JD Fill</span> <span> </span> <span class="date">11 Mar 2020 at 14:57</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>