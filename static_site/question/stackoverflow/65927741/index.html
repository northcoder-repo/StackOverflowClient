<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>How can I select cells in Datatables .net5 web app and display the same formatting as is displayed on the default</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>How can I select cells in Datatables .net5 web app and display the same formatting as is displayed on the default</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>0</span>
    </div>
    <div>
     <span>Asker: </span> <span>Steven Bitaxi</span>
    </div>
    <div>
     <span>Asked: </span> <span>27 Jan 2021 at 21:34</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/65927741/how-can-i-select-cells-in-datatables-net5-web-app-and-display-the-same-formatti">source</a>
    </div>
   </div>
   <div>
    <p>I'm building a web app in dotnet 5, following the Pluralsight course by Scott Allen.</p>
    <p>(here's a link to the related page by Scott <a href="https://github.com/OdeToCode/OdeToFood/blob/master/OdeToFood/OdeToFood/Pages/Restaurants/ClientRestaurants.cshtml" rel="nofollow noreferrer">https://github.com/OdeToCode/OdeToFood/blob/master/OdeToFood/OdeToFood/Pages/Restaurants/ClientRestaurants.cshtml</a> )</p>
    <p>Following is a code snippet. I've replaced the references to bootstrap, jquery and Datatables with the CDN at the same version</p>
    <div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
     <div class="snippet-code">
      <pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
&lt;head&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
    
    &lt;link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" /&gt;
    
    &lt;link rel="stylesheet" href="/css/site.css" /&gt;

    &lt;script
  src="http://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"&gt;&lt;/script&gt;

    &lt;script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"&gt;&lt;/script&gt;

    &lt;script src="/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0"&gt;&lt;/script&gt;
    
    &lt;link rel="stylesheet" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css" /&gt;
    &lt;script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"&gt;&lt;/script&gt;


        &lt;script&gt;
            $.ajax("/api/people/",
            { method: "get"})
            .then(function (response){
                $("#donations").DataTable({
                    data: response,
                    columns: [
                    { "data": "recId", title: "Id"},
                    { "data": "personName", title: "Name"},
                    { "data": "personAddress", title: "Address"},
                    { "data": "personCity", title: "City"},
                    { "data": "personProvince", title: "Province"}
                    ],
                    buttons: ['csv', 'excel']
                });
            });
        

        &lt;/script&gt;

&lt;/head&gt;
&lt;body&gt;
            
    &lt;h2&gt;Records&lt;/h2&gt;

    &lt;table class="table" id="mytable"&gt;

    &lt;/table&gt;

&lt;body&gt;</code></pre>
     </div>
    </div>
    <p></p>
    <p>The API returns rows, the DataTable populates, but I am not able to select rows or cells. I want to be able to click a row and navigate to a detail page for the record. What do I need to change to take advantage of the additional interactivity and formatting?</p>
    <p>Mine: <a href="https://i.stack.imgur.com/cCUNH.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/cCUNH.png" alt="enter image description here"></a></p>
    <p>Datatables Example: <a href="https://i.stack.imgur.com/x0t5q.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/x0t5q.png" alt="enter image description here"></a></p>
   </div>
   <div class="tags">
    <span class="tag">asp.net-core</span><span class="tag">datatables</span><span class="tag">.net-5</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td></td>
       <td><span>If you don't want to have any links displayed in the table (as per your <i>"display the same formatting"</i> wording - if I understood that correctly), then maybe some of the approaches in <a href="https://stackoverflow.com/questions/7522586/jquery-datatables-make-whole-row-a-link">this question</a> may help.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">27 Jan 2021 at 22:14</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@andrewjames that led me down the right path, the issue was actually the references to DataTables CDN. I had to include a few more features, including Select to get the results I wanted. Now I'm trying to figure out how to click on the row and navigate to a details page. Using <a href="https://datatables.net/examples/ajax/null_data_source.html" rel="nofollow noreferrer">datatables.net/examples/ajax/null_data_source.html</a> but I can't get it operational. Time to take a break.</span> <span> - </span> <span class="display-name">Steven Bitaxi</span> <span> </span> <span class="date">28 Jan 2021 at 04:31</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span> <span class="arrow"> <a href="#answer_2">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>andrewJames</span>
     </div>
     <div>
      <span> Answered: </span> <span>28 Jan 2021 at 15:35</span>
     </div>
    </div>
    <div>
     <p>Here is a self-contained demo that you can save to an HTML file and then run in a browser for yourself:</p>
     <pre class="lang-html prettyprint-override"><code>&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Demo&lt;/title&gt;

  &lt;script src="https://code.jquery.com/jquery-3.5.1.min.js"&gt;&lt;/script&gt;
  &lt;script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"&gt;&lt;/script&gt;
  &lt;link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css"&gt;
  &lt;link rel="stylesheet" type="text/css" href="https://datatables.net/media/css/site-examples.css"&gt;
&lt;/head&gt;

&lt;body&gt;

&lt;div style="margin: 20px;"&gt;
    &lt;table id="example" class="display" style="width:100%"&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;script type="text/javascript"&gt;

$(document).ready(function() {

  var table = $('#example').DataTable( {
    ajax: {
      method: "GET",
      url: "https://jsonplaceholder.typicode.com/posts",
      dataSrc: ""
    },
    "columns": [
      { "title": "ID", "data": "id" },
      { "title": "Title", "data": "title" },
    ],
    "initComplete": function () {
      var api = this.api();
      api.$('tr').click( function () {
        var id = api.row( this ).data().id;
        var newUrl = "https://jsonplaceholder.typicode.com/posts/" + id
        window.open(newUrl); 
      } );
    }
  } );

} );

&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
     <p>This demo uses the test JSON data made available at <a href="https://jsonplaceholder.typicode.com/" rel="nofollow noreferrer">JSONPlaceholder</a>. To start with, DataTables uses the following to load data into the HTML table:</p>
     <pre class="lang-js prettyprint-override"><code>ajax: {
  method: "GET",
  url: "https://jsonplaceholder.typicode.com/posts",
  dataSrc: ""
}
</code></pre>
     <p>Because the JSON returned from JSONPlaceholder does not have a named array (its outer container is simply <code>[...]</code>), we need to tell DataTables about this, using <code>dataSrc: ""</code>. Your data may be structured differently.</p>
     <p>Once the DataTable object has been initialized, we create the following function:</p>
     <pre class="lang-js prettyprint-override"><code>"initComplete": function () {
  var api = this.api(); // gives us access to the DataTables API from within the table itself
  api.$('tr').click( function () { // register a row-level click event
    var id = api.row( this ).data().id; // see notes below
    var newUrl = "https://jsonplaceholder.typicode.com/posts/" + id
    window.open(newUrl); 
  } );
}
</code></pre>
     <p>The following line...</p>
     <pre class="lang-js prettyprint-override"><code>var id = api.row( this ).data().id;
</code></pre>
     <p>...uses the DataTables API <a href="https://datatables.net/reference/api/row()" rel="nofollow noreferrer">row()</a> call to grab the clicked row, and then find the value for the "id" field in that row. This "id" name comes from the original JSON data we loaded.</p>
     <p>The JSONPlaceholder web site has dummy data for each "post" record. The new URL we construct takes us to that JSON record.</p>
     <hr>
     <p>There is certainly more than one way to achieve your end goal.</p>
     <p>In this specific case, there was no need for me to use the <a href="https://datatables.net/extensions/select/" rel="nofollow noreferrer">"select" extension</a> that you mentioned in your comments. But that is also one other approach you can use.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>WOW that is just the code I need. Thank you very much. I was having a hard time placing the function (as well, I had the RenderSectionAsync('Scripts') in the wrong part of my _Layout) to open the Details page. Your explanation made it very clear how it works and how I could integrate it.</span> <span> - </span> <span class="display-name">Steven Bitaxi</span> <span> </span> <span class="date">28 Jan 2021 at 20:02</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_2"><span>Answer 2</span> <span class="arrow"> <a href="#answer_1">↑</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Steven Bitaxi</span>
     </div>
     <div>
      <span> Answered: </span> <span>28 Jan 2021 at 19:28</span>
     </div>
    </div>
    <div>
     <p>I solved this by changing the configuration of the CDN for the DataTables.net CSS and JS files to include Select.</p>
     <p>I thought that formatting was part of it by default.</p>
     <p><a href="https://i.stack.imgur.com/ucPML.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/ucPML.png" alt="Screenshot of https://www.datatables.net configuration page"></a></p>
     <pre><code>&lt;link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.23/b-1.6.5/b-flash-1.6.5/b-html5-1.6.5/r-2.2.7/sl-1.3.1/datatables.min.css"/&gt;
 
&lt;script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.23/b-1.6.5/b-flash-1.6.5/b-html5-1.6.5/r-2.2.7/sl-1.3.1/datatables.min.js"&gt;&lt;/script&gt;
</code></pre>
     <p><strong>EDIT</strong> While this solved my initial formatting issue, @andrewjames solved both the appearance issue and the challenge I had interacting with the DataTable.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>