<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>Order table column in asc/desc order with datatables</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>Order table column in asc/desc order with datatables</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>0</span>
    </div>
    <div>
     <span>Asker: </span> <span>Alisha Lamichhane</span>
    </div>
    <div>
     <span>Asked: </span> <span>18 Mar 2020 at 09:07</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/60736366/order-table-column-in-asc-desc-order-with-datatables">source</a>
    </div>
   </div>
   <div>
    <p>I am using datatable v1.10.13. I am having problem displaying data according to created_at of laravel. While fetching data, I am getting posts according to created_at desc but while displaying data it shows data in alphabetical order. How can I get latest post first with datatables? I am not populating data with ajax.</p>
    <p>I have this query to get posts in PostController:</p>
    <pre><code>$allPost = $this-&gt;post-&gt;orderBy('created_at', 'desc')-&gt;get();
</code></pre>
    <p>I have following code in html:</p>
    <pre><code>&lt;div class="dt-responsive table-responsive"&gt;
&lt;table id="posts-data" class="table table-striped table-bordered nowrap dataTable no-footer" role="grid" aria-describedby="basic-col-reorder_info"&gt;
    &lt;thead&gt;
        &lt;tr&gt;
            &lt;th&gt;Title&lt;/th&gt;
            &lt;th&gt;Category&lt;/th&gt;
            &lt;th&gt;Status&lt;/th&gt;
            &lt;th&gt;Image&lt;/th&gt;
            &lt;th&gt;Action&lt;/th&gt;
        &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
        @if(!empty($allPost)) @foreach($allPost as $postsLists)
        &lt;tr&gt;
            &lt;td&gt;{{ $postsLists-&gt;title }}&lt;/td&gt;
            &lt;td&gt;
                @if(!empty($postsLists-&gt;categories)) @foreach($postsLists-&gt;categories as $cat_lists)
                &lt;i class="icofont icofont-arrow-right"&gt;&lt;/i&gt; {{$cat_lists-&gt;name}}
                &lt;br&gt; @endforeach @endif
            &lt;/td&gt;
            &lt;td&gt;{{ $postsLists-&gt;status }}&lt;/td&gt;

            &lt;td&gt;&lt;img src="{{ $postsLists-&gt;image }}" alt="" width="100"&gt;&lt;/td&gt;
            &lt;td&gt;&lt;a href="{{ $postsLists-&gt;image }}" target="_blank"&gt;View image&lt;/a&gt;&lt;/td&gt;
            &lt;td&gt;
                &lt;a href="{{ route('posts.edit', $postsLists-&gt;id) }}" class="btn btn-primary btn-sm pull-left" style="margin-right: 5px"&gt;
                    &lt;span class="icofont icofont-ui-edit"&gt;&lt;/span&gt;
                &lt;/a&gt;
                &lt;a class="pull-left" onclick="return confirm('Are you sure you want to delete this post?')"&gt;
              &lt;form method="POST" action="{{ route('posts.destroy', $postsLists-&gt;id) }}" accept-charset="UTF-8"&gt;
                  &lt;input name="_method" type="hidden" value="DELETE"&gt;
                  &lt;input name="_token" type="hidden" value="{{ csrf_token() }}"&gt;
                  &lt;button class="btn btn-danger btn-sm" type="submit"&gt;&lt;span class="icofont icofont-ui-delete"&gt;&lt;/span&gt;&lt;/button&gt;
              &lt;/form&gt;
          &lt;/a&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        @endforeach @endif
    &lt;/tbody&gt;
&lt;/table&gt;
</code></pre>
    <p></p>
    <p>I have following code to call initialize datatable:</p>
    <pre><code>$('#posts-data').DataTable({
    colReorder: true,
    pageLength: 0,
    lengthMenu: [20, 40, 60, 80, 90, 100],
});
</code></pre>
   </div>
   <div class="tags">
    <span class="tag">laravel</span><span class="tag">datatables</span><span class="tag">datatables-1.10</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td></td>
       <td><span>dose <code>$allPost</code> have the right order?</span> <span> - </span> <span class="display-name">TsaiKoga</span> <span> </span> <span class="date">18 Mar 2020 at 10:08</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>Yes they are in right order.</span> <span> - </span> <span class="display-name">Alisha Lamichhane</span> <span> </span> <span class="date">18 Mar 2020 at 10:10</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span> <span class="arrow"> <a href="#answer_2">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Remul</span>
     </div>
     <div>
      <span> Answered: </span> <span>18 Mar 2020 at 09:43</span>
     </div>
    </div>
    <div>
     <p>Adding <code>order: []</code> should solve your problem:</p>
     <pre><code>$('#posts-data').DataTable({
    colReorder: true,
    order: [],
    pageLength: 0,
    lengthMenu: [20, 40, 60, 80, 90, 100],
});
</code></pre>
     <p>By default datatable will sort the table by first column, so the title in your case, but since you are providing the inital ordering from your data, you can set the default ordering to an empty array.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>It did not fix my problem.</span> <span> - </span> <span class="display-name">Alisha Lamichhane</span> <span> </span> <span class="date">18 Mar 2020 at 10:01</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_2"><span>Answer 2</span> <span class="arrow"> <a href="#answer_1">↑</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>andrewJames</span>
     </div>
     <div>
      <span> Answered: </span> <span>18 Mar 2020 at 15:32</span>
     </div>
    </div>
    <div>
     <p>Some suggestions:</p>
     <h2>1) The DataTables "no default sort" option</h2>
     <p>The solution proposed by @Remul - <code>order: []</code> - should have worked. This suggests there is a problem elsewhere, potentially interfering with DataTables. Some suggestions:</p>
     <p>(a) The <code>foreach</code> iterator is doing something surprising. Unlikely, but you may want to check that.</p>
     <p>(b) Can you get DataTables to initially sort by <em>any other</em> field using <code>order []</code>? For example, sort by the first column in descending order:</p>
     <pre><code>order: [[ 0 , "desc" ]],
</code></pre>
     <p>(c) Is your DataTables initializer placed inside a <code>document ready</code> function?</p>
     <pre><code>$(document).ready(function() {

  $('#posts-data').DataTable({
    colReorder: true,
    order: [],
    pageLength: 0,
    lengthMenu: [20, 40, 60, 80, 90, 100],
  });

});
</code></pre>
     <p>I'm sure it is - but just in case...</p>
     <h2>2) Add your <code>created_at</code> data to the table</h2>
     <p>I assume this is a date, or datetime field. DataTables has somewhat limited support for sorting dates and times (without using plugins) so I recommend formatting your data as a sortable string field (e.g. <code>YYYY-MM-DD HH24:MI:SS</code> or whatever variant works for you).</p>
     <p>(a) You can add it as a hidden field.</p>
     <p>(b) Just a suggestion: Consider adding it as a visible field. Otherwise, users may sort the data by some other column, and they will not be able to return to the originally displayed sort order (<code>created_at</code> descending). Something like this:</p>
     <pre><code>"columnDefs": [
  {
    "targets": 5, // assuming the datetime is the 6th column
    "visible": false
  }
]
</code></pre>
     <h2>3) Build up from a Basic Solution</h2>
     <p>Strip out everything which is not needed to demonstrate the sort order you want. So, for example, remove the <code>colReorder</code>; remove all columns except the first one, and so on. Assuming it starts working at some point, you can add items back one-by-one.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>