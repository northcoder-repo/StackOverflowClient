<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>how to get the result of database in thymleaf horizontally (4 records in a row)</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>how to get the result of database in thymleaf horizontally (4 records in a row)</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>0</span>
    </div>
    <div>
     <span>Asker: </span> <span>Shivkumar Dubey</span>
    </div>
    <div>
     <span>Asked: </span> <span>2 Sep 2020 at 15:11</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/63708435/how-to-get-the-result-of-database-in-thymleaf-horizontally-4-records-in-a-row">source</a>
    </div>
   </div>
   <div>
    <p>Please, someone, help me to get the result of the database(MySQL) in thymleaf horizontally (4 records in each row) and then next line again 4 rows. when I add a new product it will again add result in beside the last result in Thymleaf.</p>
    <p>If any more information is required please let me know. I'm new in programming and wanted to learn.</p>
    <p>Controller code</p>
    <pre><code>@GetMapping("/product")
public ModelAndView getProduct() {
    
    ModelAndView model = new ModelAndView();
    
    List&lt;Product&gt; product= pRepo.findAll();
    
    model.addObject("products", product);
    model.setViewName("product");
    
    return model;
}
</code></pre>
    <p>Thymleaf code</p>
    <p></p>
    <div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
     <div class="snippet-code">
      <pre class="snippet-code-css lang-css prettyprint-override"><code>.card {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
  max-width: 300px;
  margin: auto;
  text-align: center;
  font-family:cursive;

}

.price {
  color: grey;
  font-size: 24px;
}

.card input {
  border: none;
  outline: 0;
  padding: 12px;
  color: white;
  background-color: #000;
  text-align: center;
  cursor: pointer;
  width: 100%;
  font-size: 18px;
}

.card input:hover {
  opacity: 0.8;
}

.card img:hover {
  -ms-transform: scale(1); /* IE 9 */
  -webkit-transform: scale(1); /* Safari 3-8 */
  transform: scale(2.5); 
}</code></pre>
      <pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;!DOCTYPE html&gt;
&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
  &lt;head&gt;
    &lt;meta charset="ISO-8859-1"&gt;
    &lt;title&gt;Home&lt;/title&gt;

  &lt;/head&gt;
  &lt;body style="background-color:#F0F3F4;"&gt;
    
    &lt;div&gt;
      &lt;table&gt;   
          &lt;tr th:each="product: ${products}"&gt;

              &lt;div class="card" style="align-items: center;"&gt;
               &lt;img th:src="@{'/uploads/' + ${product.filename}}" alt="product name" width="150" height="150" /&gt;
                &lt;h2 th:text="${product.prodName}"&gt;&lt;/h2&gt;
                &lt;p th:text="${product.prodDesc}" /&gt;
                &lt;p th:text=" '₹ '+ ${product.price}" /&gt;
                &lt;p&gt;&lt;input type="button" value="Add to Cart" /&gt;&lt;/p&gt;
              &lt;/div&gt;

              &lt;br /&gt;
           &lt;/tr&gt; 
      &lt;/table&gt;
    &lt;/div&gt;
    
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
     </div>
    </div>
    <p></p>
    <p>I'm trying to show a list of product which is in the database in proper view as I told in the above line.</p>
    <p>See the sample output: <a href="https://i.stack.imgur.com/7gv6G.png" rel="nofollow noreferrer">enter image description here</a> But I'm getting an only a single-column result.</p>
   </div>
   <div class="tags">
    <span class="tag">java</span><span class="tag">html</span><span class="tag">css</span><span class="tag">thymeleaf</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td></td>
       <td><span>Does this answer your question? <a href="https://stackoverflow.com/questions/39509689/combining-conditions-and-iterations-in-thymeleaf">Combining conditions and iterations in thymeleaf</a></span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">2 Sep 2020 at 16:21</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>the result which is coming in the column and I want the result to be fetched in row-wise.</span> <span> - </span> <span class="display-name">Shivkumar Dubey</span> <span> </span> <span class="date">3 Sep 2020 at 05:36</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>Right - the question I linked to shows how to do that.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">3 Sep 2020 at 13:17</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>I have attached the screenshot picture in the question, so can you help me to get align the dynamic cards (4 cols - cards) in single row? Like list of products display in amazon.</span> <span> - </span> <span class="display-name">Shivkumar Dubey</span> <span> </span> <span class="date">3 Sep 2020 at 13:52</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>That is what the approach in the linked answer does for you. So instead of processing a single <code>List&lt;Product&gt;</code>, you are processing a <code>List&lt;List&lt;Product&gt;&gt;</code> where each sublist contains 4 products (one row!) because of the partitioning function. You can embed that partitioning utility into Thymeleaf, or do the partitioning on the server. But look how the Thymeleaf has 2 levels of nested iteration in it - that is how you control each row of 4 items. Give it a try. (Or use a CSS grid instead.)</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">3 Sep 2020 at 14:29</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@andrewjames can you please help me with the code? I'm really confused now and not getting what to do...please help me with code if possible.</span> <span> - </span> <span class="display-name">Shivkumar Dubey</span> <span> </span> <span class="date">4 Sep 2020 at 10:55</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span> <span class="arrow"> <a href="#answer_2">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Shivkumar Dubey</span>
     </div>
     <div>
      <span> Answered: </span> <span>4 Sep 2020 at 14:57</span>
     </div>
    </div>
    <div>
     <p>I have tried solving this issue by adding CSS to the front end code.</p>
     <pre><code>    .jobs {
  list-style: none;
}

.jobs li {
  float: left;
  margin-left: 20px;
  padding: 10px;
  
}

.jobs::after {
  content: "";
  display: grid;
  clear: both;
}




&lt;ul class="jobs"&gt;
        &lt;div th:each="product: ${products}"&gt;
            
            &lt;li&gt;
                &lt;div class="card" style="align-items: center;"&gt;
                 &lt;img th:src="@{'/uploads/' + ${product.filename}}" alt="product name" width="150" height="150" /&gt;
                  &lt;h2 th:text="${product.prodName}"&gt;&lt;/h2&gt;
                  &lt;p th:text="${product.prodDesc}" /&gt;
                  &lt;p th:text=" '₹ '+ ${product.price}" /&gt;
                  &lt;p&gt;&lt;input type="button" value="Add to Cart" /&gt;&lt;/p&gt; 
                &lt;/div&gt;
            &lt;/li&gt;
                &lt;br&gt;    
            
        &lt;/div&gt;
    &lt;/ul&gt;   
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_2"><span>Answer 2</span> <span class="arrow"> <a href="#answer_1">↑</a> </span> <span class="arrow"> <a href="#answer_3">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>user10509912</span>
     </div>
     <div>
      <span> Answered: </span> <span>2 Sep 2020 at 16:33</span>
     </div>
    </div>
    <div>
     <p>I think you are combining two approaches. You have table rows for the output but no cells so you can use <code>&lt;th&gt;</code> for the header and <code>&lt;td&gt;</code> for the data to distribute the data horizontally. The other approach is if you want to use css grid - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout/Auto-placement_in_CSS_Grid_Layout" rel="nofollow noreferrer">take a look here</a></p>
     <p>Maybe just try with product name until you get the format you want, then add the other elements.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>I want the result like in CSS grid only the one link which you dropped, but for dyanamic value, because thymleaf unable to identify the ${product.prodName} values after applying css grid. can you please help me?</span> <span> - </span> <span class="display-name">Shivkumar Dubey</span> <span> </span> <span class="date">3 Sep 2020 at 05:39</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_3"><span>Answer 3</span> <span class="arrow"> <a href="#answer_2">↑</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>andrewJames</span>
     </div>
     <div>
      <span> Answered: </span> <span>4 Sep 2020 at 13:07</span>
     </div>
    </div>
    <div>
     <p>You can make the following changes to your approach:</p>
     <p><strong>1) Add the <code>commons-collections4</code> library to your project.</strong></p>
     <p>For example, if you are using Maven, you can add this to your <code>pom.xml</code>:</p>
     <pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;
    &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;
    &lt;version&gt;4.4&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
     <p>This is just added as a convenience, to save us from writing some extra lines of code, when we split our list into partitioned sub-lists.</p>
     <p><strong>2) In your controller, do the following:</strong></p>
     <p>Add the following import:</p>
     <pre><code>import org.apache.commons.collections4.ListUtils;
</code></pre>
     <p>You use this import to convert your list of products into a list of lists:</p>
     <pre><code>ModelAndView model = new ModelAndView();
List&lt;Product&gt; product= pRepo.findAll();

// Partition the list into the required sub-lists:
int partitionSize = 3;
List&lt;List&lt;Product&gt;&gt; displayRows = ListUtils.partition(products, partitionSize);

// use this new list of lists:
model.addObject("displayRows", displayRows);

model.setViewName("product");
return model;
</code></pre>
     <p>Now, you have a list of sub-lists, where each sub-list contains 3 items (or maybe less than 3 in the final sub-list).</p>
     <p>Each sub-list represents <em><strong>one row of data</strong></em> in your HTML table.</p>
     <p><strong>3) Change your Thymeleaf template</strong></p>
     <pre><code>    &lt;div&gt;
        &lt;table&gt;   
            &lt;tr th:each="displayRow : ${displayRows}"&gt;
                &lt;td th:each="product: ${displayRow}"&gt;

                    &lt;div class="card" style="align-items: center;"&gt;
                        &lt;img th:src="@{'/uploads/' + ${product.filename}}" 
                             alt="product name" width="150" height="150" /&gt;
                        &lt;h2 th:text="${product.prodName}"&gt;&lt;/h2&gt;
                        &lt;p th:text="${product.prodDesc}" /&gt;
                        &lt;p th:text=" '&amp;#8377; '+ ${product.price}" /&gt;
                        &lt;p&gt;&lt;input type="button" value="Add to Cart" /&gt;&lt;/p&gt;
                    &lt;/div&gt;

                &lt;/td&gt;
            &lt;/tr&gt; 
        &lt;/table&gt;
    &lt;/div&gt;
</code></pre>
     <p>We are using 2 levels of iteration: The first is for each table row - which is each sub-list. The second is for each item in the row (the table cells).</p>
     <p><strong>One point to note</strong>: In your Thymeleaf template you are using this:</p>
     <pre><code>&lt;meta charset="ISO-8859-1"&gt;
</code></pre>
     <p>I do not recommend this. I would always recommend using UTF-8:</p>
     <pre><code>&lt;meta charset="UTF-8"&gt;
</code></pre>
     <p>And, then you are also hard-coding the rupee symbol directly in your template: <code>₹</code>. But because this is embedded in HTML, you should use the HTML display sequence instead (like I do in the above code): <code>&amp;#8377;</code>. But if you formatted your currency amount on the server you would not have to use this code - you would be able to use the currency symbol directly.</p>
     <p>The final result is as follows (note I do not have any pictures in my test set-up):</p>
     <p><a href="https://i.stack.imgur.com/KzFX1.png" rel="nofollow noreferrer"><img src="/question/stackoverflow/63708435/KzFX1.png" alt="enter image description here"></a></p>
     <p>You can add some more CSS to improve the spacing between cards.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>thank you so much for your sincere effort to help me and some other people who need this in the future. Before your answer, I tried solving by CSS and I came up with the solution, which is I'm going to post as an answer as well to answer this question in another way. But I'm appreciating your answer the most.</span> <span> - </span> <span class="display-name">Shivkumar Dubey</span> <span> </span> <span class="date">4 Sep 2020 at 14:55</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>I am glad you have a solution. I can see you used a <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout" rel="nofollow noreferrer">CSS grid</a> - that was another good approach, (as I mentioned briefly in a previous comment). Depending on the visual behavior you want, a grid can be more flexible in some situations.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">4 Sep 2020 at 15:19</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>