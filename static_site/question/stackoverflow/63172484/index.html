<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>Checkbox for disable searching on specific column</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>Checkbox for disable searching on specific column</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>-1</span>
    </div>
    <div>
     <span>Asker: </span> <span>ScreamX</span>
    </div>
    <div>
     <span>Asked: </span> <span>30 Jul 2020 at 11:44</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/63172484/checkbox-for-disable-searching-on-specific-column">source</a>
    </div>
   </div>
   <div>
    <p>I am trying to make checkboxes for a table, with the help of which, I could turn off the search mode on certain columns. Unfortunately so far without success. Is there a hint on how to disable the search on a specific column by clicking on a checkbox or button?</p>
    <p>Something like that:</p>
    <pre><code>dt = $('#mytable').DataTable();
$('#disall').click(function() {
    dt.columns[0].searchable = false;
    dt.columns[1].searchable = false;
    dt.columns[2].searchable = false;
    dt.columns[4].searchable = false;
    dt.columns[5].searchable = false;
});
</code></pre>
    <p>My table:</p>
    <pre><code>$('#mytable').dataTable( {
    "bProcessing": true,
    "bServerSide": true,
    "sAjaxSource": "server_processing.php",
    columns: [
        {
            data: 'ID',
            "searchable": true
        },
        {
            data: 'UF_INPUT_URL',
            "searchable": true,
            "render": function(data, type, row) {
                var shortTitle = truncate(data, 30);
                return "&lt;a target='_blank' href='" + data + "'&gt;" + shortTitle + "&lt;/a&gt;";
            }
        },
        {
            data: 'UF_OUTPUT_URL',
            "searchable": true,
            "render": function(data, type, row) {
                var shortTitle = truncate(data, 30);
                return "&lt;a target='_blank' href='" + data + "'&gt;" + shortTitle + "&lt;/a&gt;";
            }
        },
        {
            data: 'UF_CMS',
            "searchable": true
        },
        {
            data: 'UF_EMAILS',
            "searchable": true,
            "render": function(data, type, row) {
                return data.split(",").join("&lt;br/&gt;");
            }
        },
        {
            data: 'UF_SOCIAL',
            "searchable": true,
            "render": function(data, type, row) {
                return data.split(",").join("&lt;br/&gt;");
            }
        }
    ],
    "deferRender": true,
    "responsive": true,
    "bFilter" : true,
    "bLengthChange": false,
    "searching": true,
    "bInfo": false,
    "paging": true,
    "bAutoWidth": false,
});
</code></pre>
    <p>P.S. Judging by the comments, you don't read the question at all, but put dislikes right away ... Please read the question and then write comments. Thank)</p>
   </div>
   <div class="tags">
    <span class="tag">javascript</span><span class="tag">datatables</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td></td>
       <td><span>Does this answer your question? <a href="https://stackoverflow.com/questions/35296441/how-to-disable-searching-in-specific-datatable-columns">How to disable searching in specific DataTable columns?</a></span> <span> - </span> <span class="display-name">Maestro</span> <span> </span> <span class="date">30 Jul 2020 at 11:49</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@CBroe, What's wrong with my syntax?</span> <span> - </span> <span class="display-name">ScreamX</span> <span> </span> <span class="date">30 Jul 2020 at 11:55</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@CBroe, Duplicates show how to enable / disable search for a specific column during initialization. As you can see, my "searchable" is set to true. But ... I want to make it so that by clicking from the outside (for example, on a button), this parameter can be converted from true to false.</span> <span> - </span> <span class="display-name">ScreamX</span> <span> </span> <span class="date">30 Jul 2020 at 12:04</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>"disable the search on a specific column by clicking on a checkbox or button" - isn't that enough? Configuring DT from within is easy with the available documentation.</span> <span> - </span> <span class="display-name">ScreamX</span> <span> </span> <span class="date">30 Jul 2020 at 12:05</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>andrewJames</span>
     </div>
     <div>
      <span> Answered: </span> <span>30 Jul 2020 at 14:05</span>
     </div>
    </div>
    <div>
     <p>You can achieve this by implementing a custom search function.</p>
     <p>Here is my table with 6 columns. Just for illustration, I have added 3 checkboxes - so you would need to add the remaining ones to complete this exercise.</p>
     <p><a href="https://i.stack.imgur.com/LJB9F.png" rel="nofollow noreferrer"><img src="LJB9F.png" alt="enter image description here"></a></p>
     <p>The checkboxes are as follows:</p>
     <pre><code>  &lt;div&gt;
    &lt;input type="checkbox" id="name" name="name" checked&gt;
    &lt;label for="name"&gt;Name&lt;/label&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;input type="checkbox" id="pos" name="position" checked&gt;
    &lt;label for="pos"&gt;Position&lt;/label&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;input type="checkbox" id="off" name="off" checked&gt;
    &lt;label for="off"&gt;Office&lt;/label&gt;
  &lt;/div&gt;
</code></pre>
     <p>The DataTable script is as follows:</p>
     <pre><code>$(document).ready(function() {

  var checkedCols = [];

  $.fn.dataTable.ext.search.push(
     
    // https://datatables.net/manual/plug-ins/search#Plug-in-structure
    function( settings, searchData, index, rowData, counter ) {

      var searchText = $('div.dataTables_filter input').val().toLowerCase();
      if (searchText === '') {
        return true;
      }

      if (counter === 0) { // we are starting a new search
        checkedCols = [];
        if ( $('input#name:checked').length === 1 ) { checkedCols.push(0); }
        if ( $('input#pos:checked').length === 1 )  { checkedCols.push(1); }
        if ( $('input#off:checked').length === 1 )  { checkedCols.push(2); }
      }
      var colData = [];
      for (var i = 0; i &lt; checkedCols.length; i++) {
        colData.push(searchData[checkedCols[i]]);
        if ( searchData[checkedCols[i]].toLowerCase().includes(searchText) ) {
          return true;
        }
      }
      return false;
    }
  );

  $('#example').DataTable( {
    // your initialization items in here.
  } );


} );
</code></pre>
     <p>Points to note:</p>
     <p>As well as adding the remaining HTML checkboxes, you would need to update the custom search logic to also refer to the added checkboxes.</p>
     <p>I use an array <code>var checkedCols = [];</code> to track the status of the checkboxes.</p>
     <p>I use the DataTables function <code>$.fn.dataTable.ext.search.push</code> to catch filter events.</p>
     <p>At the start of each filter event, we see which checkboxes are checked.</p>
     <p>Then, for each row of data, we build a new array containing only the data for the checked fields. We use the data in this new array when applying the search:</p>
     <pre><code>if ( searchData[checkedCols[i]].toLowerCase().includes(searchText) ) {...}
</code></pre>
     <p>The solution could be refined a bit. For example, the search is not re-applied when someone makes changes to the checkboxes - but that can be added using checkbox change events and the DataTables <a href="https://datatables.net/reference/api/search()" rel="nofollow noreferrer"><code>search()</code></a> API.</p>
     <p>Here is an example, where the Name checkbox is unchecked - and the search term "Airi" fails to find any data:</p>
     <p><a href="https://i.stack.imgur.com/4sK72.png" rel="nofollow noreferrer"><img src="4sK72.png" alt="enter image description here"></a></p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>