<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>Why does my JavaScript code receive a "No 'Access-Control-Allow-Origin' header is present on the requested resource" error, while Postman does not?</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>Why does my JavaScript code receive a "No 'Access-Control-Allow-Origin' header is present on the requested resource" error, while Postman does not?</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>3234</span>
    </div>
    <div>
     <span>Asker: </span> <span>Mr Jedi</span>
    </div>
    <div>
     <span>Asked: </span> <span>17 Nov 2013 at 19:29</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/20035101/why-does-my-javascript-code-receive-a-no-access-control-allow-origin-header-i">source</a>
    </div>
   </div>
   <div>
    <blockquote>
     <p><strong>Mod note</strong>: This question is about why <code>XMLHttpRequest</code>/<code>fetch</code>/etc. on the browser are subject to the Same Access Policy restrictions (you get errors mentioning CORB or CORS) while Postman is not. This question is <strong>not</strong> about how to fix a "No 'Access-Control-Allow-Origin'..." error. It's about why they happen.</p>
    </blockquote>
    <blockquote>
     <p><strong>Please stop posting</strong>:</p>
     <ul>
      <li>CORS configurations for every language/framework under the sun. Instead <a href="https://stackoverflow.com/search?q=how+to+enable+CORS+is%3Aquestion&amp;mixed=1">find your relevant language/framework's question</a>.</li>
      <li>3rd party services that allow a request to circumvent CORS</li>
      <li>Command line options for turning off CORS for various browsers</li>
     </ul>
    </blockquote>
    <hr>
    <p>I am trying to do authorization using <a href="http://en.wikipedia.org/wiki/JavaScript" rel="noreferrer">JavaScript</a> by connecting to the <a href="http://en.wikipedia.org/wiki/Representational_state_transfer#RESTful_web_services" rel="noreferrer">RESTful</a> <a href="http://en.wikipedia.org/wiki/Application_programming_interface" rel="noreferrer">API</a> built-in <a href="https://en.wikipedia.org/wiki/Flask_%28web_framework%29" rel="noreferrer">Flask</a>. However, when I make the request, I get the following error:</p>
    <pre class="lang-js prettyprint-override"><code>XMLHttpRequest cannot load http://myApiUrl/login. 
No 'Access-Control-Allow-Origin' header is present on the requested resource. 
Origin 'null' is therefore not allowed access.
</code></pre>
    <p>I know that the API or remote resource must set the header, but why did it work when I made the request via the Chrome extension <a href="https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop" rel="noreferrer">Postman</a>?</p>
    <p>This is the request code:</p>
    <pre class="lang-js prettyprint-override"><code>$.ajax({
  type: 'POST',
  dataType: 'text',
  url: api,
  username: 'user',
  password: 'pass',
  crossDomain: true,
  xhrFields: {
    withCredentials: true,
  },
})
  .done(function (data) {
    console.log('done');
  })
  .fail(function (xhr, textStatus, errorThrown) {
    alert(xhr.responseText);
    alert(textStatus);
  });
</code></pre>
   </div>
   <div class="tags">
    <span class="tag">javascript</span><span class="tag">jquery</span><span class="tag">cors</span><span class="tag">postman</span><span class="tag">same-origin-policy</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td>55</td>
       <td><span>Are you doing the request from localhost or direcly executing HTML?</span> <span> - </span> <span class="display-name">MD. Sahib Bin Mahboob</span> <span> </span> <span class="date">17 Nov 2013 at 19:31</span></td>
      </tr>
      <tr>
       <td>2</td>
       <td><span>@MD.SahibBinMahboob If I understand your question I do request from localhost - I have page on my computer and just run it. When I deploy site on hosting it's gave same result.</span> <span> - </span> <span class="display-name">Mr Jedi</span> <span> </span> <span class="date">17 Nov 2013 at 19:43</span></td>
      </tr>
      <tr>
       <td>16</td>
       <td><span>For anyone looking for more reading, MDN has a good article all about ajax and cross origin requests: <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS" rel="nofollow noreferrer">developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_COR‌​S</a></span> <span> - </span> <span class="display-name">Sam Eaton</span> <span> </span> <span class="date">18 Jun 2015 at 15:22</span></td>
      </tr>
      <tr>
       <td>1</td>
       <td><span>An answer to this question (now deleted and only visible to 10K'ers) is the subject of meta question <i><a href="https://meta.stackoverflow.com/questions/411895/">Why was this upvoted answer deleted once, and deleted again when reposted?</a></i></span> <span> - </span> <span class="display-name">Peter Mortensen</span> <span> </span> <span class="date">4 Oct 2021 at 09:50</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>A related CORS deep dive into this same error but to do with cache and headers from S3 / Cloudfront triggering it is also here: <a href="https://stackoverflow.com/questions/44800431/caching-effect-on-cors-no-access-control-allow-origin-header-is-present-on-th" title="caching effect on cors no access control allow origin header is present on th">stackoverflow.com/questions/44800431/…</a></span> <span> - </span> <span class="display-name">OG Sean</span> <span> </span> <span class="date">22 Jun 2022 at 23:11</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span> <span class="arrow"> <a href="#answer_2">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1639</span>
     </div>
     <div>
      <span>Answerer: </span> <span>MD. Sahib Bin Mahboob</span>
     </div>
     <div>
      <span> Answered: </span> <span>17 Nov 2013 at 19:49</span>
     </div>
    </div>
    <div>
     <p>If I understood it right you are doing an <a href="http://en.wikipedia.org/wiki/XMLHttpRequest" rel="noreferrer">XMLHttpRequest</a> to a different domain than your page is on. So the browser is blocking it as it usually allows a request in the same origin for security reasons. You need to do something different when you want to do a cross-domain request.</p>
     <p>When you are using Postman they are not restricted by this policy. Quoted from <em><a href="https://developer.chrome.com/docs/extensions/mv2/xhr/" rel="noreferrer">Cross-Origin XMLHttpRequest</a></em>:</p>
     <blockquote>
      <p>Regular web pages can use the XMLHttpRequest object to send and receive data from remote servers, but they're limited by the same origin policy. Extensions aren't so limited. An extension can talk to remote servers outside of its origin, as long as it first requests cross-origin permissions.</p>
     </blockquote>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>244</td>
        <td><span>The browser is not blocking the request. The only browsers that outright block cross-origin ajax requests is IE7 or older. All browsers, other than IE7 and older, implement the CORS spec (IE8 &amp; IE9 partially). All you need to do is opt-in to CORS requests on your API server by returning the proper headers based on the request. You should read up on CORS concepts at <a href="http://mzl.la/VOFrSz" rel="nofollow noreferrer">mzl.la/VOFrSz</a>. Postman sends requests via XHR as well. If you are not seeing the same problem when using postman, this means that you are unknowingly not sending the same request via postman.</span> <span> - </span> <span class="display-name">Ray Nicholus</span> <span> </span> <span class="date">17 Nov 2013 at 20:01</span></td>
       </tr>
       <tr>
        <td>21</td>
        <td><span>@MD.SahibBinMahboob Postman is NOT sending a request "from your java/python" code. It is sending the request directly from the browser. <a href="https://developer.chrome.com/extensions/xhr.html" rel="nofollow noreferrer">XHR in Chrome extensions does work a bit differently, especially when cross-origin requests are involved</a>.</span> <span> - </span> <span class="display-name">Ray Nicholus</span> <span> </span> <span class="date">17 Nov 2013 at 20:08</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>Found a detailed example on this post: <a href="https://stackoverflow.com/questions/66486610/how-to-set-cors-in-cloudflare-workers" title="how to set cors in cloudflare workers">stackoverflow.com/questions/66486610/…</a></span> <span> - </span> <span class="display-name">Rayed</span> <span> </span> <span class="date">24 Mar 2023 at 02:23</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_2"><span>Answer 2</span> <span class="arrow"> <a href="#answer_1">↑</a> </span> <span class="arrow"> <a href="#answer_3">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>355</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Shady Mohamed Sherif</span>
     </div>
     <div>
      <span> Answered: </span> <span>3 Dec 2014 at 20:24</span>
     </div>
    </div>
    <div>
     <blockquote>
      <p><strong>WARNING:</strong> Using <code>Access-Control-Allow-Origin: *</code> can make your API/website vulnerable to <a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery" rel="noreferrer">cross-site request forgery</a> (CSRF) attacks. Make certain you <a href="https://stackoverflow.com/questions/43154170/is-it-safe-to-enable-cors-to-for-a-public-and-readonly-webservice">understand the risks</a> before using this code.</p>
     </blockquote>
     <p>It's very simple to solve if you are using <a href="http://en.wikipedia.org/wiki/PHP" rel="noreferrer">PHP</a>. Just add the following script in the beginning of your PHP page which handles the request:</p>
     <pre class="lang-php prettyprint-override"><code>&lt;?php header('Access-Control-Allow-Origin: *'); ?&gt;
</code></pre>
     <p>If you are using <a href="https://en.wikipedia.org/wiki/Node-RED" rel="noreferrer">Node-red</a> you have to allow <a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing" rel="noreferrer">CORS</a> in the <code>node-red/settings.js</code> file by un-commenting the following lines:</p>
     <pre><code>// The following property can be used to configure cross-origin resource sharing
// in the HTTP nodes.
// See https://github.com/troygoode/node-cors#configuration-options for
// details on its contents. The following is a basic permissive set of options:
httpNodeCors: {
  origin: "*",
  methods: "GET,PUT,POST,DELETE"
},
</code></pre>
     <p>If you are using <a href="http://flask.pocoo.org/" rel="noreferrer">Flask</a> same as the question; you have first to install <code>flask-cors</code></p>
     <pre class="lang-none prettyprint-override"><code>pip install -U flask-cors
</code></pre>
     <p>Then include the Flask <em>cors</em> package in your application.</p>
     <pre><code>from flask_cors import CORS
</code></pre>
     <p>A simple application will look like:</p>
     <pre><code>from flask import Flask
from flask_cors import CORS

app = Flask(__name__)
CORS(app)

@app.route("/")
def helloWorld():
  return "Hello, cross-origin-world!"
</code></pre>
     <p>For more details, you can check the <a href="https://flask-cors.readthedocs.io/en/latest/" rel="noreferrer">Flask documentation</a>.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>237</td>
        <td><span>You shouldn't <i>turn off</i> CORS because you don't know what its for. This leaves your users in a fundamentally unsafe state.</span> <span> - </span> <span class="display-name">user229044</span> <span> </span> <span class="date">30 Dec 2014 at 06:12</span></td>
       </tr>
       <tr>
        <td>180</td>
        <td><span>Even though it might not be secure, the question was not about security, but how to accomplish the task. This is one of the options that a developer has to choose from when dealing with cross-domain AJAX requests. It helped me resolve the issue, and for my application, I don't care where the data came from. I sanitize all the input with PHP on the destination domain, so, if someone wants to post some junk to it, let them try. The main point here is, cross-domain AJAX can be allowed from the destination domain. +1 for the answer.</span> <span> - </span> <span class="display-name">ZurabWeb</span> <span> </span> <span class="date">26 Feb 2015 at 16:37</span></td>
       </tr>
       <tr>
        <td>4</td>
        <td><span>@meagar Agreeing with you that we shouldn't turn of CORS but at times we need to test the application while developing it and for that, the easiest way is to turn of CORS and check if everything works fine. Many times frontend devs don't have access to the backend system where they can change things or they need to write a proxy for the same. The best way to add a chrome extension that turns off CORS for development purposes, as written in the answer which is deleted.</span> <span> - </span> <span class="display-name">shruti</span> <span> </span> <span class="date">29 Sep 2021 at 15:05</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>It should be much helpful if the answer (or the edit with the WARNING on top) would explain to whom is risky if using that header() script in php. The question here is about a foreign site where we have no control, and that only allows us to navigate and see it from a browser, while if we need to access the resources from our server instead it launches the CORS protection (to not let us make too much inquiries per second). Therefore, my question still stands, what dangers do we visitors have if using in OUR server that header() script ?? Did the editor confused the visitor (us) with the host?</span> <span> - </span> <span class="display-name">Eve</span> <span> </span> <span class="date">30 Nov 2021 at 21:37</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@Eve CORS protection isn't about the number of inquiries per second! It rejects any other website to use your resource service or page. The warning already contains two links to explain what risks are</span> <span> - </span> <span class="display-name">Shady Mohamed Sherif</span> <span> </span> <span class="date">3 Dec 2021 at 12:37</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>@ShadyMohamedSherif so isn't true that there was a time, historically, when people were allowed to 'consume' a website exposed at an IP /through a certain port/ with any means (browsers, apps, whatever), and after abuses occurred the website owners started to limit to the browsers only any connection to their page? In other words, when people just requested slowly a webpage (on a browser). I mean, even a ddos cannot happen through a browser, to not speak here about other devious ways to inquiry a website content that probably exist</span> <span> - </span> <span class="display-name">Eve</span> <span> </span> <span class="date">10 Dec 2021 at 03:21</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@Eve No it isn't, CORS origin policy isn't related to what you have said. the idea is about limiting others from using your resource (image, webpage, API) from another domain name or IP inside their pages. for example if Papal is using <code>Access-Control-Allow-Origin: *</code> anyone may embed a Paypal iframe in his site without approval from PayPal or call PayPal API directly from other websites js, and steal money if the user is logged in to Paypal, this is called CSRF attack. You as an owner have the right to say which IPs and domains could access your resources. I hope it is clear now.</span> <span> - </span> <span class="display-name">Shady Mohamed Sherif</span> <span> </span> <span class="date">10 Dec 2021 at 09:23</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>@ShadyMohamedSherif I understand and agree with your explanation, in the scenario that an user can mistakenly open in a tab a CSRF attacking website next to a PayPal website tab in the browser. I'd like though if someone would have made clear that by using <code>Access-Control-Allow-Origin: *</code> into a <b>guest website</b> that just tries to consume data from a <b>host website</b> (protected or not) would not make accessible the data in question to the guest website. The fact that using such code in the guest makes this one exposed isn't relevant when the guest page just consumes internally the above data.</span> <span> - </span> <span class="display-name">Eve</span> <span> </span> <span class="date">14 Dec 2021 at 00:30</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@Eve CSRF isn't related to users or tabs, it is related to unauthorized website trying to embed other website resources like (pages, API, Images, etc...)</span> <span> - </span> <span class="display-name">Shady Mohamed Sherif</span> <span> </span> <span class="date">18 Dec 2021 at 13:15</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_3"><span>Answer 3</span> <span class="arrow"> <a href="#answer_2">↑</a> </span> <span class="arrow"> <a href="#answer_4">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>104</span>
     </div>
     <div>
      <span>Answerer: </span> <span>George</span>
     </div>
     <div>
      <span> Answered: </span> <span>13 Dec 2016 at 13:02</span>
     </div>
    </div>
    <div>
     <p>Because <br><strong>$.ajax({type: "POST"</strong> - calls <strong>OPTIONS</strong> <br><strong>$.post(</strong> - calls <strong>POST</strong> <br></p>
     <p>Both are different. <a href="https://stackoverflow.com/tags/postman/info">Postman</a> calls "POST" properly, but when we call it, it will be "OPTIONS".</p>
     <p><strong>For C# web services - <a href="https://en.wikipedia.org/wiki/ASP.NET_MVC_Framework#Apache_License_2.0_release" rel="noreferrer">Web API</a></strong></p>
     <p>Please add the following code in your <em>web.config</em> file under the &lt;system.webServer&gt; tag. This will work:</p>
     <pre class="lang-xml prettyprint-override"><code>&lt;httpProtocol&gt;
    &lt;customHeaders&gt;
        &lt;add name="Access-Control-Allow-Origin" value="*" /&gt;
    &lt;/customHeaders&gt;
&lt;/httpProtocol&gt;
</code></pre>
     <p>Please make sure you are not doing any mistake in the Ajax call.</p>
     <h3>jQuery</h3>
     <pre><code>$.ajax({
    url: 'http://mysite.microsoft.sample.xyz.com/api/mycall',
    headers: {
        'Content-Type': 'application/x-www-form-urlencoded'
    },
    type: "POST", /* or type:"GET" or type:"PUT" */
    dataType: "json",
    data: {
    },
    success: function (result) {
        console.log(result);
    },
    error: function () {
        console.log("error");
    }
});
</code></pre>
     <p><strong>Note:</strong> If you are looking for downloading content <strong>from a third-party website</strong> then <strong>this will not help you</strong>. You can try the following code, but not JavaScript.</p>
     <pre class="lang-none prettyprint-override"><code>System.Net.WebClient wc = new System.Net.WebClient();
string str = wc.DownloadString("http://mysite.microsoft.sample.xyz.com/api/mycall");
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_4"><span>Answer 4</span> <span class="arrow"> <a href="#answer_3">↑</a> </span> <span class="arrow"> <a href="#answer_5">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>77</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Kamil Kiełczewski</span>
     </div>
     <div>
      <span> Answered: </span> <span>16 Dec 2019 at 09:06</span>
     </div>
    </div>
    <div>
     <h1>Deep</h1>
     <p>In the below investigation as API, I use <a href="http://example.com" rel="noreferrer">http://example.com</a> instead of http://myApiUrl/login from your question, because this first one working. I assume that your page is on <a href="http://my-site.local:8088" rel="noreferrer">http://my-site.local:8088</a>.</p>
     <p><strong>NOTE</strong>: The API and your page have different domains!</p>
     <p>The reason why you see different results is that Postman:</p>
     <ul>
      <li>set header <code>Host=example.com</code> (your API)</li>
      <li>NOT set header <code>Origin</code></li>
      <li>Postman actually not use your website url at all (you only type your API address into Postman) - he only send request to API, so he assume that website has same address as API (browser not assume this)</li>
     </ul>
     <p>This is similar to browsers' way of sending requests when the site and API has the same domain (browsers also set the header item <code>Referer=http://my-site.local:8088</code>, however I don't see it in Postman). <strong>When <code>Origin</code> header is <em>not</em> set, usually servers allow such requests by default.</strong></p>
     <p><a href="https://i.stack.imgur.com/XLrRg.png" rel="noreferrer"><img src="XLrRg.png" alt="Enter image description here"></a></p>
     <p>This is the standard way how Postman sends requests. But a browser sends requests differently when <strong>your site and API have different domains</strong>, and then <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" rel="noreferrer">CORS</a> occurs and the browser automatically:</p>
     <ul>
      <li>sets header <code>Host=example.com</code> (yours as API)</li>
      <li>sets header <code>Origin=http://my-site.local:8088</code> (your site)</li>
     </ul>
     <p>(The header <code>Referer</code> has the same value as <code>Origin</code>). And now in Chrome's <em>Console &amp; Networks</em> tab you will see:</p>
     <p><a href="https://i.stack.imgur.com/oZkcL.png" rel="noreferrer"><img src="oZkcL.png" alt="Enter image description here"></a></p>
     <p><a href="https://i.stack.imgur.com/8ITev.png" rel="noreferrer"><img src="8ITev.png" alt="Enter image description here"></a></p>
     <p>When you have <strong><code>Host != Origin</code></strong> this is CORS, and when the server detects such a request, it usually <strong>blocks it by default</strong>.</p>
     <p><code>Origin=null</code> is set when you open HTML content from a local directory, and it sends a request. The same situation is when you send a request inside an <code>&lt;iframe&gt;</code>, like in the below snippet (but here the <code>Host</code> header is not set at all) - in general, everywhere the HTML specification says opaque origin, you can translate that to <code>Origin=null</code>. More information about this you can find <a href="https://stackoverflow.com/questions/42239643/when-do-browsers-send-the-origin-header-when-do-browsers-set-the-origin-to-null/42242802#42242802">here</a>.</p>
     <p></p>
     <div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
      <div class="snippet-code">
       <pre class="snippet-code-js lang-js prettyprint-override"><code>fetch('http://example.com/api', {method: 'POST'});</code></pre>
       <pre class="snippet-code-html lang-html prettyprint-override"><code>Look on chrome-console &gt; network tab</code></pre>
      </div>
     </div>
     <p></p>
     <p>If you do not use a simple CORS request, usually the browser automatically also sends an OPTIONS request before sending the main request - more information is <a href="https://stackoverflow.com/questions/10093053/access-control-request-headers-is-added-to-header-in-ajax-request-with-jquery/55584963#55584963">here</a>. The snippet below shows it:</p>
     <p></p>
     <div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
      <div class="snippet-code">
       <pre class="snippet-code-js lang-js prettyprint-override"><code>fetch('http://example.com/api', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json'}
});</code></pre>
       <pre class="snippet-code-html lang-html prettyprint-override"><code>Look in chrome-console -&gt; network tab to 'api' request.
This is the OPTIONS request (the server does not allow sending a POST request)</code></pre>
      </div>
     </div>
     <p></p>
     <p>You can change the configuration of your server to allow CORS requests.</p>
     <p>Here is an example configuration which turns on <strong>CORS on nginx</strong> (nginx.conf file) - be very careful with setting <code>always/"$http_origin"</code> for nginx and <code>"*"</code> for Apache - this will unblock CORS from any domain (in production instead of stars use your concrete page adres which consume your api)</p>
     <p></p>
     <div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
      <div class="snippet-code snippet-currently-hidden">
       <pre class="snippet-code-html lang-html prettyprint-override"><code>location ~ ^/index\.php(/|$) {
   ...
    add_header 'Access-Control-Allow-Origin' "$http_origin" always;
    add_header 'Access-Control-Allow-Credentials' 'true' always;
    if ($request_method = OPTIONS) {
        add_header 'Access-Control-Allow-Origin' "$http_origin"; # DO NOT remove THIS LINES (doubled with outside 'if' above)
        add_header 'Access-Control-Allow-Credentials' 'true';
        add_header 'Access-Control-Max-Age' 1728000; # cache preflight value for 20 days
        add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS';
        add_header 'Access-Control-Allow-Headers' 'My-First-Header,My-Second-Header,Authorization,Content-Type,Accept,Origin';
        add_header 'Content-Length' 0;
        add_header 'Content-Type' 'text/plain charset=UTF-8';
        return 204;
    }
}</code></pre>
      </div>
     </div>
     <p></p>
     <p>Here is an example configuration which turns on <strong>CORS on Apache</strong> (.htaccess file)</p>
     <p></p>
     <div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
      <div class="snippet-code snippet-currently-hidden">
       <pre class="snippet-code-html lang-html prettyprint-override"><code># ------------------------------------------------------------------------------
# | Cross-domain Ajax requests                                                 |
# ------------------------------------------------------------------------------

# Enable cross-origin Ajax requests.
# http://code.google.com/p/html5security/wiki/CrossOriginRequestSecurity
# http://enable-cors.org/

# &lt;IfModule mod_headers.c&gt;
#    Header set Access-Control-Allow-Origin "*"
# &lt;/IfModule&gt;

# Header set Header set Access-Control-Allow-Origin "*"
# Header always set Access-Control-Allow-Credentials "true"

Access-Control-Allow-Origin "http://your-page.com:80"
Header always set Access-Control-Allow-Methods "POST, GET, OPTIONS, DELETE, PUT"
Header always set Access-Control-Allow-Headers "My-First-Header,My-Second-Header,Authorization, content-type, csrf-token"</code></pre>
      </div>
     </div>
     <p></p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>10</td>
        <td><span>Great great explained and easy to catch up! Thank u!</span> <span> - </span> <span class="display-name">Nam G VU</span> <span> </span> <span class="date">18 Feb 2022 at 18:54</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>This answer clearly demonstrates what <a href="https://stackoverflow.com/questions/20035101/why-does-my-javascript-code-receive-a-no-access-control-allow-origin-header-i#comment29838038_20035319">this comment</a> describes: <code>If you are not seeing the same problem when using postman, this means that you are unknowingly not sending the same request via postman</code>. Well done!</span> <span> - </span> <span class="display-name">Ray Jasson</span> <span> </span> <span class="date">2 Jan 2023 at 17:39</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_5"><span>Answer 5</span> <span class="arrow"> <a href="#answer_4">↑</a> </span> <span class="arrow"> <a href="#answer_6">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>40</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Gopinath</span>
     </div>
     <div>
      <span> Answered: </span> <span>2 Feb 2020 at 10:27</span>
     </div>
    </div>
    <div>
     <p>Applying a CORS restriction is a security feature defined by a server and implemented by a <strong>browser</strong>.</p>
     <blockquote>
      <p>The browser looks at the CORS policy of the server and respects it.</p>
     </blockquote>
     <p>However, the Postman tool does not bother about the CORS policy of the server.</p>
     <p>That is why the CORS error appears in the browser, but not in Postman.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_6"><span>Answer 6</span> <span class="arrow"> <a href="#answer_5">↑</a> </span> <span class="arrow"> <a href="#answer_7">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>35</span>
     </div>
     <div>
      <span>Answerer: </span> <span>JacquesB</span>
     </div>
     <div>
      <span> Answered: </span> <span>9 Jan 2021 at 21:37</span>
     </div>
    </div>
    <div>
     <p>The error you get is due to the CORS standard, which sets some restrictions on how JavaScript can perform ajax requests.</p>
     <p>The CORS standard is a client-side standard, implemented in the browser. So it is the browser which prevent the call from completing and generates the error message - not the server.</p>
     <p>Postman does not implement the CORS restrictions, which is why you don't see the same error when making the same call from Postman.</p>
     <p><em>Why</em> doesn't Postman implement CORS? CORS defines the restrictions relative to the origin (URL domain) of the page which initiates the request. But in Postman the requests doesn't originate from a page with an URL so CORS does not apply.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>8</td>
        <td><span>@MrJedi: The accepted answer does not explain why the request succeeds in Postman, which was the original question.</span> <span> - </span> <span class="display-name">JacquesB</span> <span> </span> <span class="date">11 Jan 2021 at 10:24</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>The servers originally were meant to send streams to clients (browser software programs) not to various desktop or server applications instead that could behave in twisted ways. A browser establishes a handshake protocol with the server, receives the confirmation in regard to the connection then the data stream resumes. There were (DDOS) situations where bot farms servers sent millions of inquiries and the host committed many resources (opened processes) to each of these stalled connections that eventually never occurred - thus blocking its ability to answer to other legit requests</span> <span> - </span> <span class="display-name">Eve</span> <span> </span> <span class="date">30 Nov 2021 at 22:09</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@Eve: CORS is a <i>client side</i> measure implemented in the browser and therefore not something which can prevent DDOS attacks from bot farms.</span> <span> - </span> <span class="display-name">JacquesB</span> <span> </span> <span class="date">28 Oct 2022 at 14:08</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>this is actually the best explanation, and a 'aha moment' to realize that CORS is a browser standard!</span> <span> - </span> <span class="display-name">Aris</span> <span> </span> <span class="date">1 Dec 2022 at 08:28</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_7"><span>Answer 7</span> <span class="arrow"> <a href="#answer_6">↑</a> </span> <span class="arrow"> <a href="#answer_8">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>16</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Stas Sorokin</span>
     </div>
     <div>
      <span> Answered: </span> <span>3 Jan 2022 at 11:36</span>
     </div>
    </div>
    <div>
     <h2>Solution &amp; Issue Origins</h2>
     <p>You are making a <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" rel="noreferrer">XMLHttpRequest</a> to different domains, example:</p>
     <ol>
      <li>Domain one: <code>some-domain.com</code></li>
      <li>Domain Two: <code>some-different-domain.com</code></li>
     </ol>
     <p>This difference in domain names triggers <strong>CORS</strong> (<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" rel="noreferrer">Cross-Origin Resource Sharing</a>) policy called <strong>SOP</strong> (<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" rel="noreferrer">Same-Origin Policy</a>) that enforces the use of same domains (hence <em>Origin</em>) in <a href="https://api.jquery.com/jquery.ajax" rel="noreferrer">Ajax</a>, XMLHttpRequest and other HTTP requests.</p>
     <blockquote>
      <p>Why did it work when I made the request via the Chrome extension Postman?</p>
     </blockquote>
     <p>A client (most <strong>Browsers</strong> and <strong>Development Tools</strong>) has a choice to enforce the Same-Origin Policy.</p>
     <p><em>Most browsers enforce the policy of Same-Origin Policy to prevent issues related to <strong>CSRF</strong> (<a href="https://developer.mozilla.org/en-US/docs/Glossary/CSRF" rel="noreferrer">Cross-Site Request Forgery</a>) attack.</em></p>
     <p><strong>Postman</strong> as a development tool chooses not to enforce SOP while some browsers enforce, this is why you can send requests via Postman that you cannot send with XMLHttpRequest via JS using the browser.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_8"><span>Answer 8</span> <span class="arrow"> <a href="#answer_7">↑</a> </span> <span class="arrow"> <a href="#answer_9">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>9</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Daniel Iftimie</span>
     </div>
     <div>
      <span> Answered: </span> <span>10 Jan 2022 at 12:28</span>
     </div>
    </div>
    <div>
     <p>For browser testing purposes:</p>
     <p>Windows - Run:</p>
     <pre class="lang-none prettyprint-override"><code>chrome.exe --user-data-dir="C://Chrome dev session" --disable-web-security
</code></pre>
     <p>The command above will disable chrome web security. So for example if you work on a local project and encounter CORS policy issue when trying to make a request, you can skip this type of error with the above command. Basically it will open a new chrome session.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>1</td>
        <td><span>Could you please explain it ?</span> <span> - </span> <span class="display-name">ZebraCoder</span> <span> </span> <span class="date">21 Jun 2022 at 13:04</span></td>
       </tr>
       <tr>
        <td>3</td>
        <td><span>@ZebraCoder The command above will disable chrome web security. So for example if you work on a local project and encounter CORS policy issue when trying to make a request, you can skip this type of error with the above command. Basically it will open a new chrome session.</span> <span> - </span> <span class="display-name">Daniel Iftimie</span> <span> </span> <span class="date">23 Jun 2022 at 10:22</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Can you <a href="https://stackoverflow.com/posts/70652404/edit">add</a> the information to the answer itself? Comments may be deleted at any time. (But *********************************** <b><i>without</i></b> ******************************* "Edit:", "Update:", or similar - the answer should appear as if it was written today)</span> <span> - </span> <span class="display-name">Peter Mortensen</span> <span> </span> <span class="date">4 Sep 2022 at 20:50</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_9"><span>Answer 9</span> <span class="arrow"> <a href="#answer_8">↑</a> </span> <span class="arrow"> <a href="#answer_10">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>5</span>
     </div>
     <div>
      <span>Answerer: </span> <span>NDM</span>
     </div>
     <div>
      <span> Answered: </span> <span>9 Dec 2021 at 12:34</span>
     </div>
    </div>
    <div>
     <p>You might also get this error if your gateway timeout is too short and the resource you are accessing takes longer to process than the timeout. This may be the case for complex database queries etc. Thus, the above error code can be disguishing this problem. Just check if the error code is 504 instead of 404 as in <a href="https://stackoverflow.com/questions/20035101/why-does-my-javascript-code-receive-a-no-access-control-allow-origin-header-i/59353387#59353387">Kamil's answer</a> or something else. If it is 504, then increasing the gateway timeout might fix the problem.</p>
     <p>In my case the CORS error could be removed by disabling the same origin policy (CORS) in the <a href="https://en.wikipedia.org/wiki/Internet_Explorer" rel="nofollow noreferrer">Internet&nbsp;Explorer</a> browser, see <em><a href="https://stackoverflow.com/questions/20947359/how-to-disable-same-origin-policy-internet-explorer">How to disable same origin policy Internet Explorer</a></em>. After doing this, it was a pure 504 error in the log.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>If you gettimeout you doesn't get CORS error</span> <span> - </span> <span class="display-name">Mr Jedi</span> <span> </span> <span class="date">9 Dec 2021 at 19:45</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Well, I did in trouble shooting a system and the CORS error threw me off, that it was just the timeout that was too short, which resulted in a closed connection. After increasing the timeout, the system performed perfectly. So yes the timeout caused a No 'Access-Control-Allow-Origin' error which got me into this thread in the first place. So this might be helpful to others having this thrown along with a 504.</span> <span> - </span> <span class="display-name">NDM</span> <span> </span> <span class="date">12 Dec 2021 at 16:49</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>It rather mean something wrong iscwith your app config. You shouldn't get this error on timeout</span> <span> - </span> <span class="display-name">Mr Jedi</span> <span> </span> <span class="date">14 Dec 2021 at 20:49</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>I also was getting a confusing CORS 504 error when nginx, in my case, timed out. Increasing timeout got the service back online without CORS errors. Thanks for the hint.</span> <span> - </span> <span class="display-name">efru</span> <span> </span> <span class="date">22 Aug 2022 at 18:05</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_10"><span>Answer 10</span> <span class="arrow"> <a href="#answer_9">↑</a> </span> <span class="arrow"> <a href="#answer_11">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>4</span>
     </div>
     <div>
      <span>Answerer: </span> <span>lunarzshine</span>
     </div>
     <div>
      <span> Answered: </span> <span>13 Apr 2022 at 19:35</span>
     </div>
    </div>
    <div>
     <p>To resolve this issue, write this line of code in your <code>doGet()</code> or <code>doPost()</code> function whichever you are using in backend</p>
     <p><code>response.setHeader("Access-Control-Allow-Origin", "*");</code></p>
     <p>Instead of <code>"*"</code> you can type in the website or API URL endpoint which is accessing the website else it will be public.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_11"><span>Answer 11</span> <span class="arrow"> <a href="#answer_10">↑</a> </span> <span class="arrow"> <a href="#answer_12">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Pranav MS</span>
     </div>
     <div>
      <span> Answered: </span> <span>12 Apr 2023 at 15:58</span>
     </div>
    </div>
    <div>
     <p>You can allow the <strong>CORS</strong> by adding below scripts in <strong>web.config</strong> file in server.</p>
     <pre><code>&lt;system.webServer&gt;
     &lt;httpProtocol&gt;
         &lt;customHeaders&gt;
            &lt;add name="Access-Control-Allow-Origin" value="*" /&gt;
            &lt;add name="Access-Control-Allow-Methods" value="*" /&gt;
            &lt;add name="Access-Control-Allow-Headers" value="*" /&gt;
         &lt;/customHeaders&gt;
     &lt;/httpProtocol&gt;
&lt;/system.webServer&gt;
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_12"><span>Answer 12</span> <span class="arrow"> <a href="#answer_11">↑</a> </span> <span class="arrow"> <a href="#answer_13">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Bapan Biswas</span>
     </div>
     <div>
      <span> Answered: </span> <span>14 Feb 2022 at 01:29</span>
     </div>
    </div>
    <div>
     <p>Your IP address is not whitelisted, so you are getting this error. Ask the backend staff to whitelist your IP address for the service you are accessing.</p>
     <p><em><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Headers" rel="nofollow noreferrer">Access-Control-Allow-Headers</a></em></p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_13"><span>Answer 13</span> <span class="arrow"> <a href="#answer_12">↑</a> </span> <span class="arrow"> <a href="#answer_14">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>DINA TAKLIT</span>
     </div>
     <div>
      <span> Answered: </span> <span>28 Nov 2022 at 00:19</span>
     </div>
    </div>
    <div>
     <p>For me I got this issue for different reason, the remote domain was added to origins the deployed app works perfectly except one end point I got this issue:</p>
     <pre><code>Origin https://mai-frontend.vercel.app is not allowed by Access-Control-Allow-Origin. Status code: 500
</code></pre>
     <p>and</p>
     <pre><code>Fetch API cannot load https://sciigo.herokuapp.com/recommendations/recommendationsByUser/8f1bb29e-8ce6-4df2-b138-ffe53650dbab due to access control checks.
</code></pre>
     <p>I discovered that my Heroku database table does not contains all the columns of my local table after updating Heroku database table everything worked well.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_14"><span>Answer 14</span> <span class="arrow"> <a href="#answer_13">↑</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>-4</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Shohedul</span>
     </div>
     <div>
      <span> Answered: </span> <span>11 Aug 2022 at 05:44</span>
     </div>
    </div>
    <div>
     <p>It works for me by applying this middleware in globally:</p>
     <pre class="lang-php prettyprint-override"><code>&lt;?php

    namespace App\Http\Middleware;

    use Closure;

    class Cors {
       public function handle($request, Closure $next) {
           return $next($request)
                   -&gt;header('Access-Control-Allow-Origin', '*')
                   -&gt;header('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS')
                   -&gt;header('Access-Control-Allow-Headers', "Accept,authorization,Authorization, Content-Type");
       }
    }
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>1</td>
        <td><span>What do you mean by <i>"applying this middleware in globally"</i>? Can you <a href="https://stackoverflow.com/posts/73315777/edit">elaborate</a>?</span> <span> - </span> <span class="display-name">Peter Mortensen</span> <span> </span> <span class="date">4 Sep 2022 at 21:13</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>How does this answer the question? The question is tagged with <a href="https://en.wikipedia.org/wiki/JavaScript" rel="nofollow noreferrer">JavaScript</a>, <a href="https://en.wikipedia.org/wiki/JQuery" rel="nofollow noreferrer">jQuery</a>, and <a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing" rel="nofollow noreferrer">CORS</a>. If it does, it ought to be <a href="https://stackoverflow.com/posts/73315777/edit">explained</a>. The class has the name "Cors", but how does that relate? What is the gist?</span> <span> - </span> <span class="display-name">Peter Mortensen</span> <span> </span> <span class="date">4 Sep 2022 at 21:14</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>