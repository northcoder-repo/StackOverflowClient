<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>Create XML string in java with custom namespace</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>Create XML string in java with custom namespace</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>0</span>
    </div>
    <div>
     <span>Asker: </span> <span>Jay Shah</span>
    </div>
    <div>
     <span>Asked: </span> <span>26 Aug 2020 at 17:59</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/63603271/create-xml-string-in-java-with-custom-namespace">source</a>
    </div>
   </div>
   <div>
    <p>I want to generate xml string in java programmatically whose name space is custom as shown below and all data must come dynamically in xml.How can I achieve something like this?</p>
    <pre><code>&lt;faxml xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:noNamespaceSchemaLocation="test.xsd"&gt;
&lt;person&gt;
  &lt;name&gt;ABC&lt;/name&gt;
&lt;/person&gt;
&lt;/faxml&gt;
</code></pre>
    <p>I have gone through examples like this <a href="https://howtodoinjava.com/jaxb/write-object-to-xml/" rel="nofollow noreferrer">https://howtodoinjava.com/jaxb/write-object-to-xml/</a> but here when xml generated its starting line is</p>
    <pre><code>&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
</code></pre>
    <p>but I want start and end tag <code>&lt;faxml&gt;</code> and namespaces as I mentioned in my sample code as output</p>
   </div>
   <div class="tags">
    <span class="tag">java</span><span class="tag">xml</span><span class="tag">jaxb</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td></td>
       <td><span>Are you getting the XML input? or as a string?</span> <span> - </span> <span class="display-name">S14321K</span> <span> </span> <span class="date">26 Aug 2020 at 18:24</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>I want to generate xml from some data fetching from database like person name will come from database but starting of xml should be like "&lt;faxml xmlns:xsi="<a href="http://www.w3.org/2001/XMLSchema-instance" rel="nofollow noreferrer">w3.org/2001/XMLSchema-instance</a>" xsi:noNamespaceSchemaLocation="test.xsd"&gt;"</span> <span> - </span> <span class="display-name">Jay Shah</span> <span> </span> <span class="date">26 Aug 2020 at 18:26</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>I have typically seen this handled with JAXB annotations on fields - <a href="https://stackoverflow.com/questions/46308489/jaxb-marshal-namespace-prefix">example</a>, or by using <a href="https://stackoverflow.com/questions/6294065/jaxb-namespace-prefixes-missing"><code>package-info</code></a>.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">26 Aug 2020 at 18:52</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@andrewjames It was somewhat helpful but not completely solve my problem I don't require xml as root tag I require &lt;faxml&gt; as my root tag and xmlns:xsi etc as per posted</span> <span> - </span> <span class="display-name">Jay Shah</span> <span> </span> <span class="date">26 Aug 2020 at 19:16</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>Understood - sorry, my mistake for not reading your question carefully. Strictly speaking the opening line <code>&lt;?xml...&gt;</code> is the XML declaration (also called the prolog, I think?) - which I believe is optional. It sounds like you want an XML file that has no declaration, and an opening tag of <code>&lt;faxml...&gt;</code> You have full control over the tags generated by JAXB; so maybe the question is: <i>How do I suppress the declaration?</i> (and maybe also: what are the consequences of doing so...?)</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">26 Aug 2020 at 20:06</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span> <span class="arrow"> <a href="#answer_2">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>S14321K</span>
     </div>
     <div>
      <span> Answered: </span> <span>26 Aug 2020 at 18:30</span>
     </div>
    </div>
    <div>
     <pre><code>    String name= "name"     
    String createXml="&lt;faxml xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"//
                      xsi:noNamespaceSchemaLocation="test.xsd"&gt;"//
                      +"&lt;person&gt;"//
                      +"&lt;name&gt;"+name+"&lt;/name&gt;"//
                      +"&lt;/&gt;person"&gt;"//
                      +"&lt;/faxml&gt;";
                    Sysout(createXml);
</code></pre>
     <p>get the name in a variable. Hard code these lines and insert it like this..</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>1</td>
        <td><span>Yes this is possible but I will have bunch of data not just a single field I have only provided sample code but I want to create multiple bean classes and the value set to those bean classes needs to be converted to xml with root as &lt;faxml ... String concat is not a feasible way for doing this</span> <span> - </span> <span class="display-name">Jay Shah</span> <span> </span> <span class="date">26 Aug 2020 at 18:33</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>You can create a single class for this and the method can be initialised. So that you can call this method from all class. Dou you mean you will be getting "name", "age".. like that?</span> <span> - </span> <span class="display-name">S14321K</span> <span> </span> <span class="date">26 Aug 2020 at 18:39</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Yes I updated my question I want to achieve like the link I have provided but just need to replace &lt;xml&gt; tag and name space in output</span> <span> - </span> <span class="display-name">Jay Shah</span> <span> </span> <span class="date">26 Aug 2020 at 18:42</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_2"><span>Answer 2</span> <span class="arrow"> <a href="#answer_1">↑</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>andrewJames</span>
     </div>
     <div>
      <span> Answered: </span> <span>26 Aug 2020 at 22:01</span>
     </div>
    </div>
    <div>
     <p>Here is one approach:</p>
     <p>First, here is my class representing the required XML data:</p>
     <pre><code>package org.ajames.jaxb.persons;

import javax.xml.bind.annotation.XmlAccessType;
import javax.xml.bind.annotation.XmlAccessorType;
import javax.xml.bind.annotation.XmlRootElement;
import javax.xml.bind.annotation.XmlType;

@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = "")
@XmlRootElement(name = "faxml")
public class Faxml {
    
    private Person person;
    
    public static class Person {
        
        private String name;

        public String getName() {
            return name;
        }

        public void setName(String name) {
            this.name = name;
        }
        
    }

    public Person getPerson() {
        return person;
    }

    public void setPerson(Person person) {
        this.person = person;
    }
    
}
</code></pre>
     <p>I chose to nest the <code>Person</code> class inside the root class - just for this test. There are other ways to arrange these classes, of course, so they are not nested.</p>
     <p>Then I define the <code>package-info</code> for <code>org.ajames.jaxb.persons</code> as follows:</p>
     <pre><code>@XmlSchema(
        namespace = "",
        elementFormDefault = XmlNsForm.UNSET,
        xmlns = {
            @XmlNs(prefix = "", namespaceURI = "http://www.w3.org/2001/XMLSchema-instance")
        })
package org.ajames.jaxb.persons;

import javax.xml.bind.annotation.XmlSchema;
import javax.xml.bind.annotation.XmlNs;
import javax.xml.bind.annotation.XmlNsForm;
</code></pre>
     <p>To process the data from a Java object to XML, I use the following test data:</p>
     <pre><code>Faxml.Person person = new Faxml.Person();
person.setName("ABC");
Faxml faxml = new Faxml();
faxml.setPerson(person);
</code></pre>
     <p>The JAXB context and marshaller are as follows, assuming we are writing the XML to a Java String, for this test:</p>
     <pre><code>JAXBContext jaxbContext = JAXBContext.newInstance(Faxml.class); 
Marshaller marshaller = jaxbContext.createMarshaller();
marshaller.setProperty(Marshaller.JAXB_FRAGMENT, Boolean.TRUE);
marshaller.setProperty(Marshaller.JAXB_NO_NAMESPACE_SCHEMA_LOCATION, "test.xsd");
marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);
        
StringWriter stringWriter = new StringWriter();
marshaller.marshal(faxml, stringWriter);
String xml = stringWriter.toString();
        
System.out.println(xml);
</code></pre>
     <p>The resulting XML is:</p>
     <pre><code>&lt;faxml xsi:noNamespaceSchemaLocation="test.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;person&gt;
        &lt;name&gt;ABC&lt;/name&gt;
    &lt;/person&gt;
&lt;/faxml&gt;
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>Thanks @andrewjames you saved lot of time!!</span> <span> - </span> <span class="display-name">Jay Shah</span> <span> </span> <span class="date">27 Aug 2020 at 07:22</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>