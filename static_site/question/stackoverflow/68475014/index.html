<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Custom Drop down search won't allow me to add new items when using DataTables</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>Custom Drop down search won't allow me to add new items when using DataTables</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>0</span>
    </div>
    <div>
     <span>Asker: </span> <span>Knightwolfbr</span>
    </div>
    <div>
     <span>Asked: </span> <span>21 Jul 2021 at 18:50</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/68475014/custom-drop-down-search-wont-allow-me-to-add-new-items-when-using-datatables">source</a>
    </div>
   </div>
   <div>
    <p>I have created an HTML page with a static HTML table using DataTables, a category dropdown search box, and a text field search box. Everything works fine except when I try to add new categories besides the original 3 (Category 1, Category 2, Category 3). Each of these searches and filters the table correctly. However, if I add a new category (Draw), it tells me "no entries found" even though I tagged several rows of data with the new category. If I change one of the old category option values (Category 3 for example) to "Draw", it will filter the table and show all rows with td items tagged with Category 3. Why isn't the table accepting the new dropdown options and/or not finding the new options in the table?</p>
    <p>HTML:</p>
    <pre><code>&lt;section id="autocad-table"&gt;
            &lt;div class="table-container"&gt;
                &lt;div class="category-filter"&gt;
                    &lt;label for="Category"&gt;What Type Of Code Do You Need?&lt;/label&gt;
                    &lt;select class="dropdown" name="Category" id="categoryFilter"&gt;
                        &lt;option value=""&gt;All&lt;/option&gt;
                        &lt;option value="1"&gt;Category 1&lt;/option&gt;
                        &lt;option value="2"&gt;Category 2&lt;/option&gt;
                        &lt;option value="3"&gt;Category 3&lt;/option&gt;
                        &lt;option value="4"&gt;Draw&lt;/option&gt;
                    &lt;/select&gt;
                &lt;/div&gt;
                &lt;table id="commandsTable" class="stripe hover"&gt;
                    &lt;thead&gt;
                        &lt;th&gt;Command&lt;/th&gt;
                        &lt;th&gt;Description&lt;/th&gt;
                        &lt;th&gt;Category&lt;/th&gt;
                    &lt;/thead&gt;
                    &lt;tbody id="commandsTableBody"&gt;
                        &lt;tr&gt;
                            &lt;td&gt;0_FILLET&lt;/td&gt;
                            &lt;td&gt;Create a 0" radius fillet&lt;/td&gt;
                            &lt;td&gt;Category 1&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;ALLFLAT&lt;/td&gt;
                            &lt;td&gt;Flatten all objects in all blocks &amp; layouts&lt;/td&gt;
                            &lt;td&gt;Category 2&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;ANNO_TO_SQUEEZE&lt;/td&gt;
                            &lt;td&gt;Convert an annotation to the SQUEEZE text style&lt;/td&gt;
                            &lt;td&gt;Category 2&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;ARR&lt;/td&gt;
                            &lt;td&gt;Creates an array of a selected object at a specified angle&lt;/td&gt;
                            &lt;td&gt;Category 2, Category 1&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;ATC&lt;/td&gt;
                            &lt;td&gt;Changes an arc into a circle&lt;/td&gt;
                            &lt;td&gt;Category 3&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;BA&lt;/td&gt;
                            &lt;td&gt;Bend Allowance&lt;/td&gt;
                            &lt;td&gt;Category 3&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;BB&lt;/td&gt;
                            &lt;td&gt;BOM Ball&lt;/td&gt;
                            &lt;td&gt;Category 3&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;BC&lt;/td&gt;
                            &lt;td&gt;Add 'BC' to dimensions&lt;/td&gt;
                            &lt;td&gt;Category 3&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;CENT&lt;/td&gt;
                            &lt;td&gt;Change Entities&lt;/td&gt;
                            &lt;td&gt;Category 3&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;CH&lt;/td&gt;
                            &lt;td&gt;CHPROP&lt;/td&gt;
                            &lt;td&gt;Category 3&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;CO&lt;/td&gt;
                            &lt;td&gt;COPY&lt;/td&gt;
                            &lt;td&gt;Category 3&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;COPLAY&lt;/td&gt;
                            &lt;td&gt;Sets current layer to that of a selected entity&lt;/td&gt;
                            &lt;td&gt;Category 3&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;CREATE_BOUNDARY&lt;/td&gt;
                            &lt;td&gt;Creates a boundary (polyline) from objects made with CVFLAT-D or NTFLAT-D&lt;/td&gt;
                            &lt;td&gt;Category 3&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;CS&lt;/td&gt;
                            &lt;td&gt;Copies items on a selected layer&lt;/td&gt;
                            &lt;td&gt;Category 3&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;CSM&lt;/td&gt;
                            &lt;td&gt;Copies items on multiple selected layers&lt;/td&gt;
                            &lt;td&gt;Category 3&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;CVEDGE&lt;/td&gt;
                            &lt;td&gt;Draws edges for a Curve section. Uses Command line prompting.&lt;/td&gt;
                            &lt;td&gt;Draw&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;CVEDGE-D&lt;/td&gt;
                            &lt;td&gt;Using a dialog box, draws all edges of a Curve section and dimensions&lt;/td&gt;
                            &lt;td&gt;Draw&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;CVFLAT&lt;/td&gt;
                            &lt;td&gt;Draws the flat views (with holes) of plates used for covers, dividers, and bottoms of curved conveyor sections&lt;/td&gt;
                            &lt;td&gt;Draw&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;CVFLAT-D&lt;/td&gt;
                            &lt;td&gt;Similar to CVFLAT, but uses a dialog box and can draw multiple views with dimensions&lt;/td&gt;
                            &lt;td&gt;Draw&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;CV_CLEANOUTFLAT (CVCO)&lt;/td&gt;
                            &lt;td&gt;Develop flat bar for self-cleaning Tails.&lt;/td&gt;
                            &lt;td&gt;Category 3&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;CWEIGHT&lt;/td&gt;
                            &lt;td&gt;Weight calculator for carbon steel&lt;/td&gt;
                            &lt;td&gt;Category 3, Category 1&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;DC&lt;/td&gt;
                            &lt;td&gt;Dimension Circle - dimension alignment guide&lt;/td&gt;
                            &lt;td&gt;Category 3&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;DD&lt;/td&gt;
                            &lt;td&gt;DIMSTYLE&lt;/td&gt;
                            &lt;td&gt;Category 3&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;DF&lt;/td&gt;
                            &lt;td&gt;Double Fillet - Fillets the inside and outside of a corner&lt;/td&gt;
                            &lt;td&gt;Category 3&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;DXW&lt;/td&gt;
                            &lt;td&gt;NMC_DxfOut - shortcut for main command&lt;/td&gt;
                            &lt;td&gt;Category 1&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;DYNOFF&lt;/td&gt;
                            &lt;td&gt;Dynamic Offset&lt;/td&gt;
                            &lt;td&gt;Category 1&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;EP&lt;/td&gt;
                            &lt;td&gt;EXPLODE&lt;/td&gt;
                            &lt;td&gt;Category 1&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;ES&lt;/td&gt;
                            &lt;td&gt;Erases items on a selected layer&lt;/td&gt;
                            &lt;td&gt;Category 1&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;F_LINE&lt;/td&gt;
                            &lt;td&gt;Reliance Electric Firstline Bearing Templates&lt;/td&gt;
                            &lt;td&gt;Category 1, Category 2&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;GA&lt;/td&gt;
                            &lt;td&gt;Add 'GA' to dimensions&lt;/td&gt;
                            &lt;td&gt;Category 1&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;H&lt;/td&gt;
                            &lt;td&gt;Draws a standard hole side view&lt;/td&gt;
                            &lt;td&gt;Draw&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;LD2MLD&lt;/td&gt;
                            &lt;td&gt;Changes selected Leader and MText into a MultiLeader&lt;/td&gt;
                            &lt;td&gt;Category 1&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;LF&lt;/td&gt;
                            &lt;td&gt;Changes selected dimensions' length factor to 0.25&lt;/td&gt;
                            &lt;td&gt;Category 1&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;MI&lt;/td&gt;
                            &lt;td&gt;MIRROR&lt;/td&gt;
                            &lt;td&gt;Category 1&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;MLL&lt;/td&gt;
                            &lt;td&gt;Makes a custom layer selected from a list and sets it current&lt;/td&gt;
                            &lt;td&gt;Category 1&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;MOS&lt;/td&gt;
                            &lt;td&gt;Moves items on a selected layer&lt;/td&gt;
                            &lt;td&gt;Category 1&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;NMC_LoadDwgs&lt;/td&gt;
                            &lt;td&gt;Load (open) the list of drawings previously saved with NMC_SaveDwgs&lt;/td&gt;
                            &lt;td&gt;Draw&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;NMC_Object_Property_Correction (NOPC)&lt;/td&gt;
                            &lt;td&gt;Corrects select object properties to match NMS layer standards. &lt;/td&gt;
                            &lt;td&gt;Category 1&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;NMC_SaveDwgs&lt;/td&gt;
                            &lt;td&gt;Save the currently open drawings to a list&lt;/td&gt;
                            &lt;td&gt;Category 2&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;OH&lt;/td&gt;
                            &lt;td&gt;Offset objects to HIDDEN layer&lt;/td&gt;
                            &lt;td&gt;Category 2&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;OO&lt;/td&gt;
                            &lt;td&gt;Offset an object and then delete it&lt;/td&gt;
                            &lt;td&gt;Category 2&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;ZW&lt;/td&gt;
                            &lt;td&gt;ZOOM Window&lt;/td&gt;
                            &lt;td&gt;Category 1&lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
            &lt;/div&gt;
        &lt;/section&gt;
</code></pre>
    <p>Javascript:</p>
    <pre><code>//This was coded using the DataTable jQuery library
</code></pre>
    <p>$(document).ready( function () { //load the document var oTable = $('#commandsTable').DataTable( { //build the table "paging": false, "ordering": false, "info": false, "searchHighlight": true, });</p>
    <pre><code> $('#categoryFilter').change(function () { //check the status of the drop down menu and filter accordingly
    var selectedValue = $(this).val();
    oTable.column(2).search(selectedValue).draw();
})

$('input[type=search]').addClass('search-box'); //add class to DataTable search box
$('.search-box').after('&lt;button class="close-icon" type="reset"&gt;&lt;/button&gt;'); //add reset button to search box

$('.close-icon').hide(); //set close button to be hidden as default

//Check if the box is empty
$('.search-box').on("input", function() {
    var searchValue = $(this).val(); //store search box value as a variable
    if(searchValue != "") { //if search field is not empty, show the reset button
        $('.close-icon').show();
    } else {
        $('.close-icon').hide();
    };
});

$('.close-icon').click(function() { //clicking the reset button clears the field
    $('.close-icon').hide(); //hide reset button
    oTable.columns().every(function() { //set search field to "empty"
        this.search('');
    });
    oTable.search('').draw(); //if search field is empty, redraw the table
});
</code></pre>
    <p>} );</p>
    <p>Please let me know if you need any clarification. I also apologize if the formatting of the code is off.</p>
   </div>
   <div class="tags">
    <span class="tag">javascript</span><span class="tag">html</span><span class="tag">datatables</span>
   </div>
   <hr>
   <div class="comment">
    <table>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>andrewJames</span>
     </div>
     <div>
      <span> Answered: </span> <span>21 Jul 2021 at 19:09</span>
     </div>
    </div>
    <div>
     <p>Your option value is currently set as follows:</p>
     <pre><code>&lt;option value="4"&gt;Draw&lt;/option&gt;
</code></pre>
     <p>That means your code is using the value <code>4</code> for its searches. Change the option to this:</p>
     <pre><code>&lt;option value="Draw"&gt;Draw&lt;/option&gt;
</code></pre>
     <p>The following line is an example of extracting the <code>value</code> attribute from the <code>option</code> element:</p>
     <pre><code>var searchValue = $(this).val();
</code></pre>
     <p>Note that <code>val()</code> - which is what retrieves the value, not the visible label.</p>
     <p>(Bear in mind also that when you select <code>Category 1</code> you are only searching for <code>1</code>, and so on. If you had <code>Alt. Category 1</code> as a possible value, that would interfere with your filter, also. You may want to clean up the other option values, so that each value exactly matches the label.)</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span><i>bangs head against desk</i> Duh. I should have known. Thank you so much!</span> <span> - </span> <span class="display-name">Knightwolfbr</span> <span> </span> <span class="date">21 Jul 2021 at 19:21</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>I am familiar with that feeling. By the way, if you want to use the labels, you can use <code>text()</code> instead of <code>val()</code>.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">21 Jul 2021 at 19:36</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>I did not know about the text(). Thank you!</span> <span> - </span> <span class="display-name">Knightwolfbr</span> <span> </span> <span class="date">21 Jul 2021 at 19:45</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>