<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Where is "d" in ajax.data in datatable come from?</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>Where is "d" in ajax.data in datatable come from?</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>1</span>
    </div>
    <div>
     <span>Asker: </span> <span>Nguyen Khac Lam</span>
    </div>
    <div>
     <span>Asked: </span> <span>24 Aug 2021 at 04:37</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/68901862/where-is-d-in-ajax-data-in-datatable-come-from">source</a>
    </div>
   </div>
   <div>
    <p>I am working with datatable and I want to perform ajax ajax call for each time page change. But I still wonder where is "d" in ajax.data is coming from and how to modify it after each time ajax call Here is the example in the datatable document</p>
    <pre><code>$('#example').dataTable( {
  "ajax": {
    "url": "data.json",
    "data": function ( d ) {
        d.extra_search = $('#extra').val();
    }
  }
} );
</code></pre>
   </div>
   <div class="tags">
    <span class="tag">ajax</span><span class="tag">datatable</span>
   </div>
   <hr>
   <div class="comment">
    <table>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>2</span>
     </div>
     <div>
      <span>Answerer: </span> <span>andrewJames</span>
     </div>
     <div>
      <span> Answered: </span> <span>24 Aug 2021 at 13:59</span>
     </div>
    </div>
    <div>
     <p><strong>Short Answer:</strong></p>
     <p>The <code>d</code> represents any pre-existing data to be sent to the server as part of the DataTables Ajax request.</p>
     <p>Your data is appended to that data.</p>
     <p>Two examples of such "pre-existing data" are:</p>
     <ol>
      <li>
       <p>The timestamp generated by jQuery when cacheing is set to false.</p></li>
      <li>
       <p>The request data created by DataTables when it is using server-side processing.</p></li>
     </ol>
     <p>See below for more about these.</p>
     <p>By using the <code>data</code> option as a function, you can send data dynamically to the server, where the data values can be different for each DataTables Ajax request. If you simply used the <code>data: { "user_id": 451 }</code> hard-coded approach (or even a variable), you would not be able to do that.</p>
     <p>The <code>d</code> allows you to preserve any pre-existing data, when you add your additional data to the request.</p>
     <p><strong>More Details and Examples:</strong></p>
     <p>First example:</p>
     <p>This sends a basic <code>GET</code> request to a publicly available JSON service. There is no explicit <code>data</code> option here:</p>
     <pre class="lang-js prettyprint-override"><code>$(document).ready(function() {

  var table = $('#example').DataTable( {
    ajax: {
      method: "GET",
      url: "https://jsonplaceholder.typicode.com/posts",
      dataSrc: ""
    },
    "columns": [
      { "title": "User ID", "data": "userId" },
      { "title": "ID", "data": "id" },
      { "title": "Title", "data": "title" }
    ]
            
  } );

} );
</code></pre>
     <p>If you use a <code>GET</code> with the jQuery setting <a href="https://api.jquery.com/jQuery.ajax/#jQuery-ajax-settings" rel="nofollow noreferrer"><code>cache: false</code></a> (which is the default), then jQuery will cause a timestamp parameter to be added to the request:</p>
     <blockquote>
      <p>...appending "_={timestamp}" to the GET parameters...</p>
     </blockquote>
     <p>So, in my example above this would be something like:</p>
     <pre><code>    https://jsonplaceholder.typicode.com/posts?_=1629810701730
</code></pre>
     <p>You can also provide your own hard-coded request data:</p>
     <pre class="lang-js prettyprint-override"><code>ajax: {
  method: "GET",
  url: "https://jsonplaceholder.typicode.com/posts",
  dataSrc: "",
  data: { "user_id": 451 }
}
</code></pre>
     <p>And now the request URL will look like this:</p>
     <pre><code>https://jsonplaceholder.typicode.com/posts?user_id=451&amp;_=1629810932716
</code></pre>
     <p>But this value of <code>user_id=451</code> is hard-coded into the DataTable definition when the DataTable is initialized and cannot be changed dynamically later on.</p>
     <p>By using a function for <code>data</code> (instead of a hard-coded value) you can provide <code>user_id</code> values which may be different every time the Ajax request is submitted:</p>
     <pre class="lang-js prettyprint-override"><code>ajax: {
  method: "GET",
  url: "https://jsonplaceholder.typicode.com/posts",
  dataSrc: "",
  "data": function ( d ) {
    d.user_id = $('#selected_user_id').val();
  }
}
</code></pre>
     <p>In the above example, the <code>d</code> represents any pre-existing data to be submitted to the server - for example, that <code>_=1629810701730</code>.</p>
     <p><strong>Server-Side Processing:</strong></p>
     <p>The other important "pre-existing data" example is when you are using server-side processing. In this mode, DataTables automatically generates a <code>data</code> structure as described <a href="https://datatables.net/manual/server-side" rel="nofollow noreferrer">here</a> in the "Sent Parameters" section.</p>
     <p>That data is required by the server so that the server can construct the correct "next page" of results to display to the user.</p>
     <p>If you did not append your extra (optional) data to that pre-existing (required) data, it would be overwritten by your data.</p>
     <p><strong>"How to modify it...?"</strong></p>
     <p>Regarding your question about modifying the <code>d</code> data: Typically you don't want to <em>modify</em> the pre-existing data - you just want to <em>append</em> your custom data to it (or update your previously appended custom data):</p>
     <pre class="lang-js prettyprint-override"><code>"data": function ( d ) {
  d.user_id = $('#selected_user_id').val();
}
</code></pre>
     <p>In the above example, the <code>user_id</code> parameter is derived from the current value of the element with the ID of <code>selected_user_id</code>. You can, of course, use whatever logic you wish here to build whatever complex data structure you need to send to the server.</p>
     <p>This data structure is added to whatever <code>d</code> already contains: <code>d.user_id</code></p>
     <p>Final note: If there is no pre-existing data (for example, if you are using <code>POST</code> not <code>GET</code>, where there is no underscore timestamp) then you are adding your data to an empty object.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>