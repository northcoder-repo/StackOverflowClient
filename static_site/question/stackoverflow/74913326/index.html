<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>Add aria-labelledby attribute to Jquery Datatable Pagination</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>Add aria-labelledby attribute to Jquery Datatable Pagination</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>1</span>
    </div>
    <div>
     <span>Asker: </span> <span>codingismypassion</span>
    </div>
    <div>
     <span>Asked: </span> <span>25 Dec 2022 at 12:38</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/74913326/add-aria-labelledby-attribute-to-jquery-datatable-pagination">source</a>
    </div>
   </div>
   <div>
    <p>Here is the current HTML generated by the Jquery Datatable plug-in for pagination(<a href="https://datatables.net/plug-ins/pagination/full_numbers_no_ellipses" rel="nofollow noreferrer">https://datatables.net/plug-ins/pagination/full_numbers_no_ellipses</a>):</p>
    <pre><code>&lt;div class="dataTables_paginate paging_full_numbers" id="my-table_paginate" aria-label="Pagination navigation"&gt;
    &lt;ul class="pagination"&gt;
        &lt;li class="paginate_button page-item first disabled" id="my-table_first" aria-label="Go to Page 1"&gt;
            &lt;a href="#" aria-controls="my-table" data-dt-idx="0" tabindex="0" class="page-link"&gt;First&lt;/a&gt;
        &lt;/li&gt;
        &lt;li class="paginate_button page-item previous disabled" id="my-table_previous" aria-label="Go to previous page"&gt;
            &lt;a href="#" aria-controls="my-table" data-dt-idx="1" tabindex="0" class="page-link"&gt;Previous&lt;/a&gt;
        &lt;/li&gt;
        &lt;li class="paginate_button page-item active" aria-current="page"&gt;
            &lt;a href="#" aria-controls="my-table" data-dt-idx="2" tabindex="0" class="page-link"&gt;1&lt;/a&gt;
        &lt;/li&gt;
        &lt;li class="paginate_button page-item "&gt;
            &lt;a href="#" aria-controls="MY-table" data-dt-idx="3" tabindex="0" class="page-link"&gt;2&lt;/a&gt;
        &lt;/li&gt;
        &lt;li class="paginate_button page-item "&gt;
            &lt;a href="#" aria-controls="my-table" data-dt-idx="4" tabindex="0" class="page-link"&gt;3&lt;/a&gt;
        &lt;/li&gt;
        &lt;li class="paginate_button page-item next" id="my-table_next" aria-label="Go to next page"&gt;
            &lt;a href="#" aria-controls="my-table" data-dt-idx="5" tabindex="0" class="page-link"&gt;Next&lt;/a&gt;
        &lt;/li&gt;
        &lt;li class="paginate_button page-item last" id="my-table_last" aria-label="Go to last page"&gt;
            &lt;a href="#" aria-controls="my-table" data-dt-idx="6" tabindex="0" class="page-link"&gt;Last&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;
</code></pre>
    <p>I want to add aria-labelledby attributes for the individual page numbers 1,2,3. (eg. for page 1, aria-labelledby="Go to Page 1"). I added it to the first, next, previous, and last labels using Jquery as so:</p>
    <pre><code>$("#my-table_paginate").attr("aria-label", "Pagination navigation")
$("#my-table_first").attr("aria-label", "Go to Page 1")
$("#my-table_previous").attr("aria-label", "Go to previous page")
$("#my-table_next").attr("aria-label", "Go to next page")
$("#my-table_last").attr("aria-label", "Go to last page")
$("#my-table_paginate .pagination .active").attr("aria-current", "page")

</code></pre>
    <p>How do I do the same for individual pages since they all share the same class? I'm thinking of using a for loop to loop through the a tags in the ul and adding the aria attribute using jquery, but am not sure how to do so.</p>
   </div>
   <div class="tags">
    <span class="tag">javascript</span><span class="tag">jquery</span><span class="tag">datatables</span>
   </div>
   <hr>
   <div class="comment">
    <table>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span> <span class="arrow"> <a href="#answer_2">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>POPI</span>
     </div>
     <div>
      <span> Answered: </span> <span>25 Dec 2022 at 15:04</span>
     </div>
    </div>
    <div>
     <p>Try each loop for class name :</p>
     <pre><code>$('.paginate_button').each(function () {
    var pageNumber = $(this).text();
    // check if pageNumber is a number
    if (!isNaN(pageNumber)) {
        $(this).attr('aria-label', 'Go To Page ' + pageNumber);
    }
});
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>Hi, I don't wish to hardcode my values for the page, as the number of pages will be dynamic depending on my data being fetched. Is there a way to add the values for each button dynamically?</span> <span> - </span> <span class="display-name">codingismypassion</span> <span> </span> <span class="date">25 Dec 2022 at 15:14</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>You can get inner html or inner text of each button as a variable : <code>var pageNumber = $(this).text();</code> then add that variable to your attrib value : <code>$(this).attr('your attrib', 'your value' + pageNumber);</code></span> <span> - </span> <span class="display-name">POPI</span> <span> </span> <span class="date">25 Dec 2022 at 15:26</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>@POPI - please add your update to the body of your answer, instead of adding it as a comment. You can simply use <code>$(this).attr("aria-label", "Go to page " + $(this).text());</code>. But you also need to account for the special cases where the button label is not a number.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">25 Dec 2022 at 15:34</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>I have updated my answer. You can restrict this routine to exclude non-numeric values. With some methods such as isNan() or typeof and ... –</span> <span> - </span> <span class="display-name">POPI</span> <span> </span> <span class="date">25 Dec 2022 at 16:04</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_2"><span>Answer 2</span> <span class="arrow"> <a href="#answer_1">↑</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>andrewJames</span>
     </div>
     <div>
      <span> Answered: </span> <span>25 Dec 2022 at 15:41</span>
     </div>
    </div>
    <div>
     <p>A somewhat brute-force approach is as follows:</p>
     <pre class="lang-js prettyprint-override"><code>  let table = $('#my-table').DataTable( {
    initComplete: function(settings, json) {
&nbsp;&nbsp;&nbsp;&nbsp;  addAriaClasses();
&nbsp;&nbsp;  }
  } );

  $('#my-table').on( 'draw.dt', function () {
    addAriaClasses();
  } );

  function addAriaClasses() {
    $('.paginate_button').each(function () {
      $(this).attr("aria-label", "Go to page " + $(this).text());
    });
    $("#my-table_paginate").attr("aria-label", "Pagination navigation")
    $("#my-table_first").attr("aria-label", "Go to Page 1")
    $("#my-table_previous").attr("aria-label", "Go to previous page")
    $("#my-table_next").attr("aria-label", "Go to next page")
    $("#my-table_last").attr("aria-label", "Go to last page")
    $("#my-table_paginate .pagination .active").attr("aria-current", "page")
  }

} );
</code></pre>
     <p>This assumes the table is defined with an ID of <code>my-table</code>:</p>
     <pre><code>&lt;table id="my-table" ... &gt;
</code></pre>
     <p>It uses the DataTables <a href="https://datatables.net/reference/option/initComplete" rel="nofollow noreferrer"><code>initComplete</code></a> function to handle the initial draw of the table, and then uses the DataTables draw <a href="https://datatables.net/manual/events" rel="nofollow noreferrer">event</a> to handle subsequent re-draws.</p>
     <p>I say this is a "brute-force" approach because it first assumes all buttons show page numbers, and then overwrites those special cases which are not numbers, using the code you already provided in the question. You could probably use a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/switch" rel="nofollow noreferrer">switch</a> statement to streamline this.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>thanks! That initComplete and 'draw.dt' is such a great suggestion!</span> <span> - </span> <span class="display-name">codingismypassion</span> <span> </span> <span class="date">25 Dec 2022 at 17:36</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>