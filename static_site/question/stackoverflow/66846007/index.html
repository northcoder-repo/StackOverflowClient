<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>How to highlight entire row on hover when using datatables and fixed columns?</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>How to highlight entire row on hover when using datatables and fixed columns?</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>1</span>
    </div>
    <div>
     <span>Asker: </span> <span>marto</span>
    </div>
    <div>
     <span>Asked: </span> <span>28 Mar 2021 at 20:40</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/66846007/how-to-highlight-entire-row-on-hover-when-using-datatables-and-fixed-columns">source</a>
    </div>
   </div>
   <div>
    <p>I tried all the links that came on the top 3 pages from google - nothing works. Would value some advice.. Thanks in advance.</p>
    <p>Non-working solution: <a href="https://jsfiddle.net/vuyftn1e/" rel="nofollow noreferrer">https://jsfiddle.net/vuyftn1e/</a></p>
    <p>CSS is highlighting the fixed and the non-fixed separately:</p>
    <pre><code>.table-striped tbody tr:hover td,
.table-striped tbody tr:hover th {
    background-color: #ffff99
}
</code></pre>
   </div>
   <div class="tags">
    <span class="tag">javascript</span><span class="tag">css</span><span class="tag">datatables</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td>1</td>
       <td><span>Please include your code regarding the question. Also provide your attempts, any research you have found and the actual problem you run into trying to make it work.</span> <span> - </span> <span class="display-name">Emiel Zuurbier</span> <span> </span> <span class="date">28 Mar 2021 at 20:43</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>And where is the code that you tried? Provide code and specific errors if you want help from us!</span> <span> - </span> <span class="display-name">Mara Black</span> <span> </span> <span class="date">28 Mar 2021 at 20:44</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>If I had the code I would not be asking...</span> <span> - </span> <span class="display-name">marto</span> <span> </span> <span class="date">28 Mar 2021 at 20:47</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>You can use javascript</span> <span> - </span> <span class="display-name">Manas Khandelwal</span> <span> </span> <span class="date">28 Mar 2021 at 20:48</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@marto Include the HTML/CSS</span> <span> - </span> <span class="display-name">Manas Khandelwal</span> <span> </span> <span class="date">28 Mar 2021 at 20:49</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@ManasKhandelwal care to share an example?</span> <span> - </span> <span class="display-name">marto</span> <span> </span> <span class="date">28 Mar 2021 at 20:49</span></td>
      </tr>
      <tr>
       <td>1</td>
       <td><span>@marto At least include some code, I will help with the Javascript part but add some markup...</span> <span> - </span> <span class="display-name">Manas Khandelwal</span> <span> </span> <span class="date">28 Mar 2021 at 20:52</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>Don't know how to paste the code really, it says that post is mostly code and wants some additional details, pasted 5000 lines of text and still does not accept the edit... trying to explain : a table with let's say 12 columns, script initiated standard with "fixedColumms": {"leftColumns": "1"} table has class table and table-striped nothing fancy</span> <span> - </span> <span class="display-name">marto</span> <span> </span> <span class="date">28 Mar 2021 at 21:02</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>Added css in the main question</span> <span> - </span> <span class="display-name">marto</span> <span> </span> <span class="date">28 Mar 2021 at 21:05</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>Can you <a href="https://stackoverflow.com/posts/66846007/edit">edit</a> your question to clarify what you mean by "<i>fixed columns</i>"? Aren't fixed columns what you get by default (in contrast, for example, with draggable columns, whcn can be re-ordered)? Or do you mean some type of <i>fixed width</i> column set-up? Also, <i>"highlight row on hover"</i> - that is the default behavior in the <a href="https://datatables.net/examples/basic_init/zero_configuration.html" rel="nofollow noreferrer">examples</a> on the main site - so here also, some clarification may help us.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">28 Mar 2021 at 21:17</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>One way to show your code (your best attempt, for example) is to augment the info in your question with a link to a <a href="https://jsfiddle.net/" rel="nofollow noreferrer">Fiddle</a>. That can help the community to see exactly where you may be stuck.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">28 Mar 2021 at 21:17</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>It's an extension: <a href="https://datatables.net/extensions/fixedcolumns/" rel="nofollow noreferrer">datatables.net/extensions/fixedcolumns</a> you don't get it out of the box with datatables. I will try the jsfiddle to set up an example.</span> <span> - </span> <span class="display-name">marto</span> <span> </span> <span class="date">28 Mar 2021 at 21:19</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>OK - that helps, thank you - but you should <a href="https://stackoverflow.com/posts/66846007/edit">edit</a> your question and add this new info there, rather than in a comment (where it may get a bit lost).</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">28 Mar 2021 at 21:21</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>It is up there now.</span> <span> - </span> <span class="display-name">marto</span> <span> </span> <span class="date">28 Mar 2021 at 21:28</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>4</span>
     </div>
     <div>
      <span>Answerer: </span> <span>andrewJames</span>
     </div>
     <div>
      <span> Answered: </span> <span>28 Mar 2021 at 23:55</span>
     </div>
    </div>
    <div>
     <p><strong>Problem</strong></p>
     <p>The fixed columns extension for DataTables works by creating a second table which is then layered on top of your original table. The two separate tables look like one table, but have different behavior (fixed vs. scrolling).</p>
     <p>That is why (as you have seen) hovering over the fixed section does not affect the scrollable section's row shading - and vice versa.</p>
     <p><strong>Solution</strong></p>
     <p>The simplest way around this is to not use the DataTables' hover effect, but to provide your own.</p>
     <p>To do this, the related JavaScript needs to be able to find the matching row in the "other" table which corresponds to the row in the "hovered" table.</p>
     <p>We can make this a lot easier by writing the DataTables internal row index into the <code>&lt;tr&gt;</code> tags in each table.</p>
     <p>Here is my starting HTML data, just for testing:</p>
     <pre><code>&lt;div style="margin: 20px;"&gt;

    &lt;table id="example" style="width:150%"&gt;
        &lt;thead&gt;
            &lt;tr&gt;
                &lt;th&gt;Name&lt;/th&gt;
                &lt;th&gt;Position&lt;/th&gt;
                &lt;th&gt;Office in Country&lt;/th&gt;
                &lt;th&gt;Age&lt;/th&gt;
                &lt;th&gt;Start date&lt;/th&gt;
                &lt;th&gt;Salary&lt;/th&gt;
            &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;
            &lt;tr&gt;
                &lt;td&gt;Tiger Nixon&lt;/td&gt;
                &lt;td&gt;System Architect&lt;/td&gt;
                &lt;td&gt;Edinburgh&lt;/td&gt;
                &lt;td&gt;61&lt;/td&gt;
                &lt;td&gt;2011/04/25&lt;/td&gt;
                &lt;td&gt;$320,800&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;Garrett Winters&lt;/td&gt;
                &lt;td&gt;Accountant&lt;/td&gt;
                &lt;td&gt;Tokyo&lt;/td&gt;
                &lt;td&gt;63&lt;/td&gt;
                &lt;td&gt;2011/07/25&lt;/td&gt;
                &lt;td&gt;$170,750&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;Ashton Cox&lt;/td&gt;
                &lt;td&gt;Junior Technical Author&lt;/td&gt;
                &lt;td&gt;San Francisco&lt;/td&gt;
                &lt;td&gt;66&lt;/td&gt;
                &lt;td&gt;2009/01/12&lt;/td&gt;
                &lt;td&gt;$86,000&lt;/td&gt;
            &lt;/tr&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;

&lt;/div&gt;
</code></pre>
     <p>Then I have my DataTable definition:</p>
     <pre><code>var table = $('#example').DataTable( {
  "scrollX": true,
  "fixedColumns": true
} );
</code></pre>
     <p>After that, I use the following code to add a custom attribute to each <code>&lt;tr&gt;</code> node:</p>
     <pre><code>table.rows().every( function () {
  var rowNode = this.node();
  var rowIndex = this.index();
  $(rowNode).attr( 'data-dt-row', rowIndex );
} );
</code></pre>
     <p>This uses the DataTables API with some jQuery.</p>
     <p>The end result looks something like this:</p>
     <pre><code>&lt;tr role="row" data-dt-row="2"&gt;
</code></pre>
     <p>Finally, I have an event handler which detects when the cursor is hovering over a row:</p>
     <pre><code>$('tr').hover(function () {
  var thisNode = $( this );
  var rowIdx = thisNode.attr( 'data-dt-row' );
  console.log( rowIdx );
  //$( "tr" ).css("background-color", "white"); // remove all shading
  $( "tr[data-dt-row='" + rowIdx + "']" ).css("background-color", "yellow"); // shade only the hovered row
  });
</code></pre>
     <p>The key here is the use of <code>"tr[data-dt-row='" + rowIdx + "']"</code>. This jQuery selector finds <em>both</em> of the rows for the relevant (hovered) row index: the left-hand table's row and the right-hand table's matching row.</p>
     <hr>
     <p>Here is a fiddle showing the end result in action:</p>
     <p><a href="https://jsfiddle.net/7h9wuevq/" rel="nofollow noreferrer">https://jsfiddle.net/7h9wuevq/</a></p>
     <p>And a screenshot:</p>
     <p><a href="https://i.stack.imgur.com/B4GFN.png" rel="nofollow noreferrer"><img src="B4GFN.png" alt="enter image description here"></a></p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>Thanks Andrew! Example looks very promising. I'll give it a try tonight and get back to you.</span> <span> - </span> <span class="display-name">marto</span> <span> </span> <span class="date">29 Mar 2021 at 06:12</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Sorry for the delay and yes - it works indeed. Too bad that for some unknown reason the question is closed.</span> <span> - </span> <span class="display-name">marto</span> <span> </span> <span class="date">2 Apr 2021 at 20:43</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Thank you! Glad it helped. You can try to get the question re-opened by editing it, if you feel strongly enough about it being closed. I suspect it was closed because it was initially a bit unclear - as noted in my comments. You clarified things in your comments (thank you!), but it is generally better to put all such clarifications directly into the question. Clarifications in comments can often get ignored/overlooked. (Unfotunately, there is no guarantee the question will be reopened, but it would get my vote.)</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">2 Apr 2021 at 20:58</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>