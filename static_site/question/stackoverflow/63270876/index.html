<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>How to create a button that calls a function and passes parameters in jQuery?</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>How to create a button that calls a function and passes parameters in jQuery?</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>1</span>
    </div>
    <div>
     <span>Asker: </span> <span>showtime</span>
    </div>
    <div>
     <span>Asked: </span> <span>5 Aug 2020 at 17:53</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/63270876/how-to-create-a-button-that-calls-a-function-and-passes-parameters-in-jquery">source</a>
    </div>
   </div>
   <div>
    <p>I am trying to create a button in jQuery which has a <code>onClick</code> event and which calls a function and passes some parameters. Here is what I tried so far :</p>
    <pre><code>var user_array = [];
user_array['recipient_name'] = recipient_name.value;
user_array['co_name'] = co_name.value;                            
var myTable = $('#myTable').DataTable();
var rowNode = myTable.row.add(['&lt;button type="button" id="button_edit" onclick=edit_customer_request(1,user_array)"name="edit_customer"&gt;Edit&lt;/button&gt;'
                            ])
                            .draw()
</code></pre>
    <p>As you can see I am adding a new row in the table which has a button. I am able to create the button, so, it displays. However, it doesn't work, it doesn't call that function onclick. Pay attention to the parameters, I am trying to pass two parameters, first one is just a number and the second is an array : <code>onclick=edit_customer_request(1,user_array)</code></p>
    <p>EDIT. Screenshot:</p>
    <p><a href="https://i.stack.imgur.com/eeQzd.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/eeQzd.png" alt="enter image description here"></a></p>
   </div>
   <div class="tags">
    <span class="tag">javascript</span><span class="tag">html</span><span class="tag">jquery</span><span class="tag">datatables</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td>2</td>
       <td><span>you are missing a <code>"</code> after <code>onclick=</code> and instead of <code>user_array</code>, paste <code>JSON.stringify(user_array)</code>, and on <code>edit_customer_request</code> serialize the second parameter</span> <span> - </span> <span class="display-name">Alberto Sinigaglia</span> <span> </span> <span class="date">5 Aug 2020 at 17:58</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@Berto99 check the screenshot, it still looks like a string so I dont know if its saving that array as array or just string/text. I tested and nothing changed btw, it still doesn't work.</span> <span> - </span> <span class="display-name">showtime</span> <span> </span> <span class="date">5 Aug 2020 at 18:18</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@Berto99 can you please answer?</span> <span> - </span> <span class="display-name">showtime</span> <span> </span> <span class="date">5 Aug 2020 at 20:04</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>you need to concatenate the string, not to hardcode it</span> <span> - </span> <span class="display-name">Alberto Sinigaglia</span> <span> </span> <span class="date">5 Aug 2020 at 20:13</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@Berto99 fixed it, the only problem now is to have a stringified object as parameter of onclick function. That doesn't work. It has to be an array but I cant do that from JS code. It has to be stringified as you said before.</span> <span> - </span> <span class="display-name">showtime</span> <span> </span> <span class="date">5 Aug 2020 at 23:02</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@Berto99 hellooo</span> <span> - </span> <span class="display-name">showtime</span> <span> </span> <span class="date">6 Aug 2020 at 08:09</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>You have an onclick function <code>edit_customer_request</code> and you pass parameters to it. What exactly is the problem you are facing? You should try to show the problem (so we can reproduce it) rather than describing the problem ("...has to be an array..."), which is unclear (to me, anyway).</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">7 Aug 2020 at 13:46</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>May I also suggest that you try not to pester people for responses? It can be off-putting. Help provided here is all based on volunteer efforts. People will generally respond when they can (or not at all if they cannot help).</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">7 Aug 2020 at 13:50</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@andrewjames sorry for being pushy. I tried to put as parameter a stringified array like this: <code>JSON.stringify(array)</code> but then when I click in the created button it doesnt call the function at all.</span> <span> - </span> <span class="display-name">showtime</span> <span> </span> <span class="date">7 Aug 2020 at 14:37</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>andrewJames</span>
     </div>
     <div>
      <span> Answered: </span> <span>7 Aug 2020 at 20:06</span>
     </div>
    </div>
    <div>
     <p>I may have misunderstood the request, but here is what I think you are trying to do.</p>
     <p>Here is a self-contained solution you can run for yourself:</p>
     <pre><code>&lt;!doctype html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Demo&lt;/title&gt;
  &lt;script src="https://code.jquery.com/jquery-3.5.1.min.js"&gt;&lt;/script&gt;
  &lt;script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"&gt;&lt;/script&gt;
  &lt;link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css"&gt;
  &lt;link rel="stylesheet" type="text/css" href="https://datatables.net/media/css/site-examples.css"&gt;
&lt;/head&gt;

&lt;body&gt;

&lt;div style="margin: 20px;"&gt;

    &lt;table id="myTable" class="display dataTable cell-border" style="width:100%"&gt;
      &lt;thead&gt;
            &lt;tr&gt;&lt;th&gt;Foo&lt;/th&gt;&lt;/tr&gt;
        &lt;/thead&gt;
    &lt;/table&gt;

&lt;/div&gt;

&lt;script type="text/javascript"&gt;

var recipient_name = { "value": "Jon Smith" };
var co_name = { "value": "Starbucks" };

var user_obj = {};
user_obj['recipient_name'] = recipient_name.value;
user_obj['co_name'] = co_name.value;

function edit_customer_request(id, data) {
  data_obj = JSON.parse(data);
  console.log("In the function!");
  console.log("ID: " + id);
  console.log("recipient name: " + data_obj['recipient_name']);
  console.log("co. name: " + data_obj['co_name']);
}

  $(document).ready(function() {

  var myTable = $('#myTable').DataTable();
  var btnHtml = '&lt;button type="button" id="button_edit" onclick="edit_customer_request(1, JSON.stringify(user_obj))" name="edit_customer"&gt;Edit&lt;/button&gt;';
  var rowNode = myTable.row.add( [ btnHtml ] ).draw();

} );

&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
     <p>When you click the button, the <code>edit_customer_request</code> function is called, and it logs the following messages to the console (using my sample data):</p>
     <pre><code>In the function!
ID: 1
recipient name: Jon Smith
co. name: Starbucks
</code></pre>
     <p>Some points to note:</p>
     <ol>
      <li>
       <p>I changed your <code>var user_array = [];</code> to this: <code>var user_obj = {};</code> because I think you need an object here, not an array.</p></li>
      <li>
       <p>The code uses <code>JSON.stringify()</code> to convert an object into text, so it can be passed as a parameter to the function - and then converted back to an object using <code>JSON.parse()</code>.</p></li>
      <li>
       <p>I took a guess at some sample data to make the demo run.</p></li>
     </ol>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>thanks for your effort. However, shouldn't you encapsulate the stringified object in <code>onclick="edit_customer_request(1, JSON.stringify(user_obj))"</code>?? It doesn't work like that. Eitherway I tried to encapsulate as well, still doesn't work, it just doesn't call the function when it is created.</span> <span> - </span> <span class="display-name">showtime</span> <span> </span> <span class="date">10 Aug 2020 at 08:08</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>I had to make the object global.</span> <span> - </span> <span class="display-name">showtime</span> <span> </span> <span class="date">10 Aug 2020 at 09:26</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>