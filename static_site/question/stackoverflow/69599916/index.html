<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>Jquery Datatables add search filter to header for a few columns only</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>Jquery Datatables add search filter to header for a few columns only</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>0</span>
    </div>
    <div>
     <span>Asker: </span> <span>Martin4523</span>
    </div>
    <div>
     <span>Asked: </span> <span>16 Oct 2021 at 22:14</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/69599916/jquery-datatables-add-search-filter-to-header-for-a-few-columns-only">source</a>
    </div>
   </div>
   <div>
    <p>I have added a searchbox to the header of my table generated by the Datatables plugin. It places a searchbox above every column in the header. I need the search filter to be applied to only a few columns. Lets say column 0 and 6 need a search filter the others not. Is there a way to do this? I cant find a answer anywhere on how to make this happen and I am new to coding so I have not yet found a way to make this happen. Below code I use to create the search header.</p>
    <pre><code>$('#OBTable thead tr')
        .clone(true)
        .addClass('filters')
        .appendTo('#OBTable thead');
                
                var table = $('#OBTable').dataTable({
                
                 "ajax": {
                    "url": "SelectData.php",
                    "dataSrc": "data",
                },
                 orderCellsTop: true,
                 select: true,
                   initComplete: function () {
            var api = this.api();
 
            // For each column
            api
                .columns()
                .eq(0)
                .each(function (colIdx) {
                    // Set the header cell to contain the input element
                    var cell = $('.filters th').eq(
                        $(api.column(colIdx).header()).index()
                    );
                    var title = $(cell).text();
                    $(cell).html('&lt;input type="text" placeholder="' + title + '" /&gt;');
 
                    // On every keypress in this input
                    $(
                        'input',
                        $('.filters th').eq($(api.column(colIdx).header()).index())
                    )
                        .off('keyup change')
                        .on('keyup change', function (e) {
                            e.stopPropagation();
 
                            // Get the search value
                            $(this).attr('title', $(this).val());
                            var regexr = '({search})'; //$(this).parents('th').find('select').val();
 
                            var cursorPosition = this.selectionStart;
                            // Search the column for that value
                            api
                                .column(colIdx)
                                .search(
                                    this.value != ''
                                        ? regexr.replace('{search}', '(((' + this.value + ')))')
                                        : '',
                                    this.value != '',
                                    this.value == ''
                                )
                                .draw();
 
                            $(this)
                                .focus()[0]
                                .setSelectionRange(cursorPosition, cursorPosition);
                        });
                });
        },
</code></pre>
   </div>
   <div class="tags">
    <span class="tag">jquery</span><span class="tag">datatables</span>
   </div>
   <hr>
   <div class="comment">
    <table>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>andrewJames</span>
     </div>
     <div>
      <span> Answered: </span> <span>16 Oct 2021 at 22:35</span>
     </div>
    </div>
    <div>
     <p>The DataTables <a href="https://datatables.net/reference/api/columns()" rel="nofollow noreferrer"><code>columns()</code></a> API function can be given a <a href="https://datatables.net/reference/type/column-selector" rel="nofollow noreferrer">column selector</a>. This can take various forms. One option is to provide an array containing the indexes of the columns you want to contain a search filter.</p>
     <p>So, for example you can specify:</p>
     <pre><code>.columns( [0, 6] )
</code></pre>
     <p>I recommend you also look at the approaches in the following official examples:</p>
     <ul>
      <li><a href="https://datatables.net/examples/api/multi_filter.html" rel="nofollow noreferrer">Individual column searching (text inputs)</a></li>
      <li><a href="https://datatables.net/examples/api/multi_filter_select.html" rel="nofollow noreferrer">Individual column searching (select inputs)</a></li>
     </ul>
     <p>You should also remove the <code>eq(0)</code> call - I don't believe that is a valid DataTables API function here.</p>
     <p>As you can see from the documentation there are other options you can also use - such as providing a class name in the relevant heading cells - but an array of indexes is probably the simplest approach.</p>
     <hr>
     <p><strong>Update</strong></p>
     <p>The follow-up question is:</p>
     <blockquote>
      <p><em>now the rest of the columns contain the name of the column header.. Is there a way to leave those empty?</em></p>
     </blockquote>
     <p>You have not shown us what your HTML table looks like, so this is a guess, based on the assumption that you start with one heading row... I think this is a reasonable assumption...</p>
     <p>If you want to avoid having repeated column headings, then you need to clear the contents of the cloned heading row, after you have performed the <code>colone()</code>.</p>
     <p>One way to do this is as follows:</p>
     <pre><code>$('#OBTable thead tr:eq(1) th').text("");
</code></pre>
     <p>This means the cloned row will start out with no values in any of the heading cells.</p>
     <p>This needs to be added after your command which performs the clone operation, and before you create the DataTable.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>Thanks for your reaction, that seems to work. But now the rest of the colomns contain the name of the colomn header.. Is there a way to leave those empty?</span> <span> - </span> <span class="display-name">Martin4523</span> <span> </span> <span class="date">16 Oct 2021 at 22:44</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Perhaps a way to use this line .addClass('filters') to only the colomns 0 and 6 would solve the complete question? But i dont know how to add that class to only the 0 and 6 th element..</span> <span> - </span> <span class="display-name">Martin4523</span> <span> </span> <span class="date">16 Oct 2021 at 22:47</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>If I have understood your comment correctly, you can use another jQuery command to clear each of the cloned heading cells, before you configure the DataTable, I have updated the answer.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">17 Oct 2021 at 00:04</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Added the code as folowed: $('#OBTable thead tr') .clone(true) .addClass('filters') .appendTo('#OBTable thead'); $('#OBTable thead tr:eq(1) th').text(""); This removes the option to add a title in the placeholder. But I can live with that. Thanks !</span> <span> - </span> <span class="display-name">Martin4523</span> <span> </span> <span class="date">17 Oct 2021 at 00:33</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>My next follow up question would be how to make sure that only the exact values are found. So when I search Anneke the result is Anneke and not as it is now Janneke is also showed.</span> <span> - </span> <span class="display-name">Martin4523</span> <span> </span> <span class="date">17 Oct 2021 at 00:34</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>A new, different question should be asked as <i>A New Question</i>. But in this case, I think you will find that your new question has been asked and answered on Stack Overflow several times already. You can do some research for yourself. As an example, I performed a Google search which led me to several answers, including this: <a href="https://stackoverflow.com/questions/44003585/datatables-column-search-for-exact-match">DataTables column search for exact match</a>. So, please do some research, try to use the answers you find - and if you are still stuck, then you can write a new question. Good luck!</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">17 Oct 2021 at 01:23</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Thanks for your reaction. I did do that research found a lot of regex questions. But I cant figur out how to implent that regex into the above example</span> <span> - </span> <span class="display-name">Martin4523</span> <span> </span> <span class="date">17 Oct 2021 at 08:03</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Understood. If you ask this as a new question, be sure to show what research you have already done, so people will not spend time repeating that research. Also be sure to show what you actually tried, based on your research (show the specific code attempts) and also describe what happened when you ran the code. You can also take a look at <a href="https://stackoverflow.com/questions/how-to-ask">How to Ask</a> for more general guidance. I am sure someone will be able to help you.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">17 Oct 2021 at 13:57</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Hey thanks again. I have asked a new question see the folowing link. I will try to save my attempts next time as I mostly remove and search further untill i get stuck as I do now.. <a href="https://stackoverflow.com/questions/69602700/datatables-search-exact-match-on-header-search-column?noredirect=1#comment123026233_69602700" title="datatables search exact match on header search column">stackoverflow.com/questions/69602700/…</a></span> <span> - </span> <span class="display-name">Martin4523</span> <span> </span> <span class="date">17 Oct 2021 at 14:52</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>