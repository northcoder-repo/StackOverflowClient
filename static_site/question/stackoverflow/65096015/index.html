<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>jQuery Datatables rendering</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>jQuery Datatables rendering</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>0</span>
    </div>
    <div>
     <span>Asker: </span> <span>Jim</span>
    </div>
    <div>
     <span>Asked: </span> <span>1 Dec 2020 at 18:04</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/65096015/jquery-datatables-rendering">source</a>
    </div>
   </div>
   <div>
    <p>In my table I have two fields that are 0 or 1. One of "active" and one is "operative".</p>
    <p>So I added this code</p>
    <pre><code>"columnDefs": [ {

        "targets": 3,
        "data": "active",
        "render": function ( data, type, row, meta ) {
          if (data == 1)
            {return '&lt;i class="fas fa-check" style="color:green"&gt;&lt;/i&gt;';}
          else
            { return '&lt;i class="fas fa-times" style="color:red"&gt;&lt;/i&gt;';}
        },

        
        "targets": 4,
        "data": "operative",
        "render": function ( data, type, row, meta ) {
          if (data == 1)
            {return '&lt;i class="fas fa-check" style="color:green"&gt;&lt;/i&gt;';}
          else
            { return "";}
        }

  } ]
</code></pre>
    <p>which should work OK. The column numbers are correct, but the table only render colum 4. If I remove the definition for column 4 it renders column 3 correctly.</p>
    <p>Here is a screenshot of the bit in question:</p>
    <p><a href="https://i.stack.imgur.com/0bQmO.png" rel="nofollow noreferrer"><img src="/question/stackoverflow/65096015/0bQmO.png" alt="enter image description here"></a></p>
    <p>Here is the full definition of the table</p>
    <pre><code>&lt;script type="text/javascript"&gt;

 $(function () {
 var table = $('.data-table').DataTable({
"iDisplayLength": 25,
"lengthMenu": [ [10, 25, 50,100,200, -1], [10, 25, 50,100,200, "All"] ],
    columnDefs: [
    {
        targets: -1,
        className: 'dt-right'
    }],
    processing: true,
    serverSide: true,
    ajax:"{{ route('AllUsersData') }}",
    columns: [
        
        {data: 'name', name: 'name'},
        {data: 'email', name: 'email'},
        {data: 'company',name: 'company'},
        {data: 'active', name:'active'},
        {data: 'operative', name: 'operative'},
        {data: 'superAdmin', name:'superAdmin'},
        {data: 'action', name: 'action', orderable: false, searchable: false},
    ],

     "columnDefs": [ {

        "targets": 3,
        "data": "active",
        "render": function ( data, type, row, meta ) {
          if (data == 1)
            {return '&lt;i class="fas fa-check" style="color:green"&gt;&lt;/i&gt;';}
          else
            { return '&lt;i class="fas fa-times" style="color:red"&gt;&lt;/i&gt;';}
        },

        
        "targets": 4,
        "data": "operative",
        "render": function ( data, type, row, meta ) {
          if (data == 1)
            {return '&lt;i class="fas fa-check" style="color:green"&gt;&lt;/i&gt;';}
          else
            { return "";}
        },

         "targets": 5,
        "data": "superAdmin",
        "render": function ( data, type, row, meta ) {
          if (data == 1)
            {return '&lt;i class="fas fa-check" style="color:green"&gt;&lt;/i&gt;';}
          else
            { return "";}
        }


  } ]

    });
  });
&lt;/script&gt;
</code></pre>
    <p>Here is a sample of the returned data from the ajax call:</p>
    <p><a href="https://i.stack.imgur.com/uqQ0D.png" rel="nofollow noreferrer"><img src="/question/stackoverflow/65096015/uqQ0D.png" alt="enter image description here"></a></p>
   </div>
   <div class="tags">
    <span class="tag">jquery</span><span class="tag">datatables</span><span class="tag">render</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td></td>
       <td><span>Can you <a href="https://stackoverflow.com/posts/65096015/edit">edit</a> the question, to show (1) some sample source JSON(?) data, (2) the DataTable definition, and (3) the HTML table code?</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">1 Dec 2020 at 19:58</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>I have added the data as requested</span> <span> - </span> <span class="display-name">Jim</span> <span> </span> <span class="date">1 Dec 2020 at 20:52</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>Sorry I should have stated I added a column. Always it is the last one that renders correctly</span> <span> - </span> <span class="display-name">Jim</span> <span> </span> <span class="date">1 Dec 2020 at 21:07</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>Thanks for the updates. For future reference, it is always better to provide the actual data (the original JSON in this case) as formatted text, rather than (or maybe as well as) a screenshot of the data. It is easier to copy and test.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">1 Dec 2020 at 22:11</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>andrewJames</span>
     </div>
     <div>
      <span> Answered: </span> <span>1 Dec 2020 at 22:10</span>
     </div>
    </div>
    <div>
     <p>Some observations:</p>
     <p>1 - You have 2 separate <code>columnDefs</code> sections - these should be merged into one - otherwise the first one, containing <code>className: 'dt-right'</code>, will be ignored.</p>
     <p>2 - The second larger <code>columnDefs</code> section is missing some curly braces. You have an overall structure like this:</p>
     <pre><code>"columnDefs": [...]
</code></pre>
     <p>Within that, each <code>targets</code> section needs to be contained in its own <code>{...}</code> object:</p>
     <pre><code>    "columnDefs": [
      {
        targets: -1,
        className: 'dt-right'
      },     
      {
        "targets": 3,
        "data": "active",
        "render": function ( data, type, row, meta ) {
          if (data == 1)
            {return '&lt;i class="fas fa-check" style="color:green"&gt;x&lt;/i&gt;';}
          else
            { return '&lt;i class="fas fa-times" style="color:red"&gt;y&lt;/i&gt;';}
        }
      },
      {
        "targets": 4,
        "data": "operative",
        "render": function ( data, type, row, meta ) {
          if (data == 1)
            {return '&lt;i class="fas fa-check" style="color:green"&gt;q&lt;/i&gt;';}
          else
            { return "p";}
        }
      },
      {
        "targets": 5,
        "data": "superAdmin",
        "render": function ( data, type, row, meta ) {
          if (data == 1)
            {return '&lt;i class="fas fa-check" style="color:green"&gt;w&lt;/i&gt;';}
          else
            { return "s";}
        }
      } 
    ]
</code></pre>
     <p>3 - I would be careful using statements such as <code>if(data == 1)</code>. In this case, the value of data is a string for example, <code>"1"</code> or <code>"0"</code>. So you are effectively saying <code>if("1" == 1)</code>. This will evaluate to <code>true</code>...</p>
     <p>...but it would be safer to use <code>if(data === "1")</code> - where the triple-equals checks not only the value but also the data type.</p>
     <p>I think that should resolve your issues - but there may be additional problems hiding behind these ones. If so, those may need a follow-up question.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>Thanks so much. I did not see the extra colDefs. It's amazing how you can look at code and miss something. I have taken on board you if (data === "1") and now all is well. Thanks again!</span> <span> - </span> <span class="display-name">Jim</span> <span> </span> <span class="date">1 Dec 2020 at 22:39</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>