<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>How do I bundle a JRE into an EXE for a Java Application? Launch4j says "runtime is missing or corrupted."</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>How do I bundle a JRE into an EXE for a Java Application? Launch4j says "runtime is missing or corrupted."</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>42</span>
    </div>
    <div>
     <span>Asker: </span> <span>MagicGuy52</span>
    </div>
    <div>
     <span>Asked: </span> <span>21 Dec 2012 at 20:07</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/13996547/how-do-i-bundle-a-jre-into-an-exe-for-a-java-application-launch4j-says-runtime">source</a>
    </div>
   </div>
   <div>
    <p>I am new to programming in Java but am generally familiar with how everything works. I would like to be able to put both a jar file and a jre into a windows executable(exe) so that when I distribute it, the client needn't have a JRE installed. What program should I use?</p>
    <p>I have launch4j and it seems to do exactly what I want but when I try to run the app, I get "This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted."</p>
    <p>I want my app to just be a runnable exe, not an installer. At the very least, can anyone show me how to correctly bundle a JRE with launch4j?</p>
   </div>
   <div class="tags">
    <span class="tag">jar</span><span class="tag">exe</span><span class="tag">java</span><span class="tag">launch4j</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td></td>
       <td><span>What doesn't work when you use launch4j?</span> <span> - </span> <span class="display-name">Code-Apprentice</span> <span> </span> <span class="date">21 Dec 2012 at 20:10</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>I get error message: "This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted".</span> <span> - </span> <span class="display-name">MagicGuy52</span> <span> </span> <span class="date">21 Dec 2012 at 20:19</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>Please edit your question to describe exactly what you tried with L4J and what happens.</span> <span> - </span> <span class="display-name">Code-Apprentice</span> <span> </span> <span class="date">21 Dec 2012 at 20:21</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@DaveJarvis did you check <a href="http://launch4j.sourceforge.net/" rel="nofollow noreferrer">launch4j</a>? According to its websit it "is a cross-platform tool for wrapping Java applications [...] in lightweight Windows native executables [which] can be configured to [....] use a bundled [jre]" Looks like it meets OP's needs</span> <span> - </span> <span class="display-name">Miserable Variable</span> <span> </span> <span class="date">21 Dec 2012 at 20:35</span></td>
      </tr>
      <tr>
       <td>1</td>
       <td><span>It does but it is an installer. I do not see a way to create an exe that's not an installer.</span> <span> - </span> <span class="display-name">MagicGuy52</span> <span> </span> <span class="date">21 Dec 2012 at 20:57</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>i have created executable file for my java software using launch4j but the file can not open in other machine. so that is the problem with launch4j. so for that, don't use launch4j if you want to supply that software to client.</span> <span> - </span> <span class="display-name">Pranjal</span> <span> </span> <span class="date">2 Dec 2016 at 06:31</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>You can't use launch4j to embed a JRE inside your exe (see also <a href="http://stackoverflow.com/a/41263145">stackoverflow.com/a/41263145</a>). Launch4j only allows you to bundle a JRE together with your exe, so alongside it.</span> <span> - </span> <span class="display-name">THelper</span> <span> </span> <span class="date">21 Dec 2016 at 13:02</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span> <span class="arrow"> <a href="#answer_2">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>43</span>
     </div>
     <div>
      <span>Answerer: </span> <span>ban-geoengineering</span>
     </div>
     <div>
      <span> Answered: </span> <span>25 Mar 2013 at 16:44</span>
     </div>
    </div>
    <div>
     <p>The only way I could bundle a JRE was to use <a href="http://launch4j.sourceforge.net/" rel="noreferrer">Launch4J</a> and <a href="http://jrsoftware.org/isinfo.php" rel="noreferrer">Inno Setup Compiler</a>.</p>
     <p>First, create a <code>jre6</code> folder (for example) in the same directory as your output file (.exe).</p>
     <p>Then copy the JRE from your system into your <strong>jre6</strong> folder.</p>
     <p>Then you open Launch4J and set the <strong>Bundled JRE path</strong> - just type in <code>jre6</code>. Then click the Build button (obviously, after you've entered all the other parameters - but the only value you need to enter on the <strong>JRE</strong> tab itself is the <strong>Bundled JRE path</strong> value.)</p>
     <p>I would have expected that to work, but if you then move the .exe to a new location (so it is no longer co-located with your <strong>jre6</strong> folder) you get the <em>This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted</em> error when you try to run the application...</p>
     <p>I've been playing around with this all day and there was no way I could get <em>Launch4J</em> to include the JRE in the .exe file. Really poor in my opinion, as their documentation does not seem to allude to this issue at all.</p>
     <p>So what I did to solve was to use <em>Inno Setup Compiler (ISC)</em>. This app is used to wrap your .exe as a Windows Installer file. So I added a setting to the ISC script that copies the JRE into the installer package. The line I added to the script (in the <code>[Files]</code> section) was:</p>
     <pre><code>Source: "M:\Netbeans\MyApp\jre6\*"; DestDir: "{app}\jre6\"; Flags: recursesubdirs createallsubdirs
</code></pre>
     <p>...a bit of workaround, but it did the trick.</p>
     <p>Repeat all the above steps, and you should be sorted.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>Is there any way to do all this with maven?</span> <span> - </span> <span class="display-name">Marcus</span> <span> </span> <span class="date">27 Jan 2017 at 11:10</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Sorry, but I don't know Maven. You may be better off posting a new SO question.</span> <span> - </span> <span class="display-name">ban-geoengineering</span> <span> </span> <span class="date">27 Jan 2017 at 12:22</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>I don't understand your workaround. My NetBeans project folder has no jre6. There is a jre6 in C:\Program Files\Java. Also, if NetBeans project is used to create a Native exe it (NetBeans) uses Inno setup internally to create an installer, and if that installer is executed it puts a jre folder in User AppData\Local, e.g. C:\Users\Ed Sowell\AppData\Local\TryNativePackaging\runtime\jre.</span> <span> - </span> <span class="display-name">Ed S</span> <span> </span> <span class="date">14 Mar 2017 at 13:48</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@EdS You will need to create the jre6 folder and copy your jre files into there (I think, likely from <code>C:\Program Files\Java</code>). My answer is from four years ago, so NetBeans may have changed a lot from then and I haven't created a desktop application since then. I'll help more if I can, but you may need to post a new question on SO if you're still stuck.</span> <span> - </span> <span class="display-name">ban-geoengineering</span> <span> </span> <span class="date">14 Mar 2017 at 15:11</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Sorry to be so dense, but still don't understand how this all works. What concerns me now is the Source statement: M:\Netbeans\MyApp\jre6*"; DestDir: "{app}\jre6\"; Flags: recursesubdirs createallsubdirs</span> <span> - </span> <span class="display-name">Ed S</span> <span> </span> <span class="date">18 Mar 2017 at 17:46</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>No worries - I've been there plenty of times! :-) So "M:\Netbeans\MyApp\" is your particular Netbeans project directory - obviously, you will need to change this. Then, within that directory, create a "jre6" folder which you then need to dump all your JRE files into. The "Flags" part you should probably leave unchanged.</span> <span> - </span> <span class="display-name">ban-geoengineering</span> <span> </span> <span class="date">18 Mar 2017 at 17:52</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Perhaps I've got it all wrong, but isn't the Inno setup script creating an installer that is to be distributed and ultimately run on the end users machine? If so, it would seem that the jre would have to be made available online and then downloaded in the [code] section into {tmp} then referenced from {tmp} from there in the Source statement?</span> <span> - </span> <span class="display-name">Ed S</span> <span> </span> <span class="date">18 Mar 2017 at 18:03</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Yes, ISC is for creating an installer that you can distribute, but the whole point of bundling the JRE is so user won't have to manually download it later. It's a tidy solution as everything is contained within the installer. (It also gives you full control over which JRE version is used with your app - in my example, it's JRE6.)</span> <span> - </span> <span class="display-name">ban-geoengineering</span> <span> </span> <span class="date">20 Mar 2017 at 09:08</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>If you're still getting the "runtime is missing or corrupted" message despite following the above steps, make sure you are using the correct JVM for your machine. I cloned my own project that was created on 32-bit Windows but I got the "runtime is missing or <b>corrupted</b>" error. This time, the solution was to download the latest JVM for my machine from <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" rel="nofollow noreferrer">oracle.com/technetwork/java/javase/downloads/index.html</a> and include that instead. :-)</span> <span> - </span> <span class="display-name">ban-geoengineering</span> <span> </span> <span class="date">15 Jan 2018 at 17:42</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Also, <i>Inno Setup Compiler</i> is now just called <i>Inno Setup</i> and can be downloaded via <a href="http://www.jrsoftware.org/" rel="nofollow noreferrer">jrsoftware.org</a> .</span> <span> - </span> <span class="display-name">ban-geoengineering</span> <span> </span> <span class="date">15 Jan 2018 at 17:44</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>If you specify a <i>relative path</i> to the <code>jre6</code> folder in the Bundled JRE Path field, would it work?</span> <span> - </span> <span class="display-name">Ko Ga</span> <span> </span> <span class="date">27 Oct 2019 at 08:01</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@KobbiGal Yes, I think that's what I suggested in my answer - typing in just <code>jre6</code> does make it relative. If you meant <i>absolute</i>, I'm not sure so you'd have to give that a try.</span> <span> - </span> <span class="display-name">ban-geoengineering</span> <span> </span> <span class="date">28 Oct 2019 at 12:17</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@ban-geoengineering - I meant relative as in <code>./jre6</code>, not just <code>jre6</code>.</span> <span> - </span> <span class="display-name">Ko Ga</span> <span> </span> <span class="date">28 Oct 2019 at 18:45</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@KobbiGal I'm not sure. I'm using Windows, so <code>jre6</code> is relative for me. If <code>./jre6</code> doesn't work for you, check out the documentation that comes bundled with Launch4j, or check out the support page: <a href="https://sourceforge.net/projects/launch4j/support" rel="nofollow noreferrer">sourceforge.net/projects/launch4j/support</a> .</span> <span> - </span> <span class="display-name">ban-geoengineering</span> <span> </span> <span class="date">28 Oct 2019 at 18:57</span></td>
       </tr>
       <tr>
        <td>2</td>
        <td><span>For those like me wanting to integrate launch4j + inno setup into a gradle task this might come in handy: <a href="https://blog.heckel.io/2014/05/29/gradle-create-windows-installers-debian-packages-manage-a-ppa-and-optional-sub-projects/" rel="nofollow noreferrer">blog.heckel.io/2014/05/29/â€¦</a> <a href="https://github.com/syncany/syncany/blob/develop/gradle/innosetup/INNOSETUP.md" rel="nofollow noreferrer">github.com/syncany/syncany/blob/develop/gradle/innosetup/â€¦</a></span> <span> - </span> <span class="display-name">Alex Rodriguez Lopez</span> <span> </span> <span class="date">30 Jan 2020 at 07:50</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_2"><span>Answer 2</span> <span class="arrow"> <a href="#answer_1">â†‘</a> </span> <span class="arrow"> <a href="#answer_3">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>8</span>
     </div>
     <div>
      <span>Answerer: </span> <span>jamlee</span>
     </div>
     <div>
      <span> Answered: </span> <span>13 Apr 2019 at 06:13</span>
     </div>
    </div>
    <div>
     <p>the easy method to package jre to exe that lanch4j packaged is use wrap.</p>
     <pre><code>warp-packer --arch windows-x64 --input_dir mycrt --exec run.bat --output single.exe
</code></pre>
     <p>and then stop cmd windows when launch exe.</p>
     <pre><code>editbin /subsystem:windows
</code></pre>
     <p><strong>warp</strong>: <a href="https://github.com/dgiagio/warp" rel="noreferrer">https://github.com/dgiagio/warp</a></p>
     <p><strong>editbin</strong>: installed by VS</p>
     <p>Demo:</p>
     <p><a href="https://i.stack.imgur.com/br2kh.png" rel="noreferrer"><img src="/question/stackoverflow/13996547/br2kh.png" alt="enter image description here"></a></p>
     <p><a href="https://i.stack.imgur.com/LtPtv.png" rel="noreferrer"><img src="/question/stackoverflow/13996547/LtPtv.png" alt="enter image description here"></a></p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>This worked well for me. Based on the info here, I wrote instructions to use jlink+warp+maven+javafx to create an executable JavaFX windows application file (.exe) in my answer to <a href="https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr">How to create a standalone .exe in Java (that runs without an installer and a JRE)</a>.</span> <span> - </span> <span class="display-name">jewelsea</span> <span> </span> <span class="date">3 Nov 2021 at 21:05</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_3"><span>Answer 3</span> <span class="arrow"> <a href="#answer_2">â†‘</a> </span> <span class="arrow"> <a href="#answer_4">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>3</span>
     </div>
     <div>
      <span>Answerer: </span> <span>David Miller</span>
     </div>
     <div>
      <span> Answered: </span> <span>13 Dec 2018 at 21:28</span>
     </div>
    </div>
    <div>
     <p><strong>Bundled JRE Solution for Inno Setup</strong></p>
     <p>In order to implement a bundled JRE solution with an application jar, I created an Inno Setup script that:</p>
     <p>1) copies the JRE into the install exe</p>
     <p>2) executes the equivalent of terminal command: java -jar myjar.jar using the bundled JRE</p>
     <p>Firstly I copy the JRE:</p>
     <pre><code>#define MyJREPath "C:\Program Files\Java\jre1.8.0_191"

[Files]
Source: "{#MyJREPath}\*"; DestDir: "{app}\runtime\jre\";  \
        Flags: ignoreversion recursesubdirs createallsubdirs;  
</code></pre>
     <p>I follow the directory structure convention shown here: <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/self-contained-packaging.html" rel="nofollow noreferrer">https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/self-contained-packaging.html</a></p>
     <p>To run the equivalent of java -jar myjar.jar:</p>
     <pre><code>[Run]
Filename: "{app}\runtime\jre\bin\javaw.exe"; Parameters: " -jar myjar.jar"; \
          WorkingDir: "{app}\app\"; \
          Description: "{cm:LaunchProgram,{#StringChange(MyAppName, '&amp;', '&amp;&amp;')}}"; \
          Flags: postinstall skipifsilent   
</code></pre>
     <p>(n.b. java.exe runs with a terminal and javaw.exe runs without a terminal)</p>
     <p>Desktop shortcut needs to have the right filename, parameters and working directory:</p>
     <pre><code>[Icons]
Name: "{commondesktop}\{#MyAppName}"; \
      IconFilename: "{app}\app\{#MyAppIcoName}"; \
      Filename: "{app}\runtime\jre\bin\javaw.exe"; \
      Parameters: " -jar myjar.jar"; \
      WorkingDir: "{app}\app\"; \
      Tasks: desktopicon

[Tasks]
Name: "desktopicon"; \
    Description: "{cm:CreateDesktopIcon}"; \
    GroupDescription: "{cm:AdditionalIcons}"; \
    Flags: unchecked
</code></pre>
     <p>For the icing on the cake, in order make my script handle both bundled JRE and none bundled options I use the Preprocessor IF statement (duplicated in each script section) to test whether the script has an empty MyJREPath or not. If MyJREPath is not empty and so a bundled JRE solution is required I use the coding above; alternatively if a bundled solution is not required then I use more "normal" coding shown the Inno Setup examples or generated by their wizard. Here's the IF statement:</p>
     <pre><code>#if MyJREPath != ""
    ; bundled JRE required

#else
    ; bundled JRE not required
#endif
</code></pre>
     <p>Here's most of my script put together:</p>
     <pre><code>        ; Script generated by the Inno Setup Script Wizard.
        ; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!


        ; some more #defines here

        #define MyAppExeName "javaw.exe"
        #define MyJREPath "C:\Program Files\Java\jre1.8.0_191" 
        ;#define MyJREPath ""




        [Setup]
        ; NOTE: The value of AppId uniquely identifies this application.
        ; Do not use the same AppId value in installers for other applications.
        ; (To generate a new GUID, click Tools | Generate GUID inside the IDE.)
        AppId=XXXXXXXXXX
        AppName={#MyAppName}
        AppVersion={#MyAppVersion}
        ;AppVerName={#MyAppName} {#MyAppVersion}
        AppPublisher={#MyAppPublisher}
        DefaultGroupName={#MyAppPublisher}
        AppPublisherURL={#MyAppURL}
        AppSupportURL={#MyAppURL}
        AppUpdatesURL={#MyAppURL}   
        DefaultDirName={pf}\{#MyDefaultDirName}
        DisableProgramGroupPage=yes
        LicenseFile={#MyInnoSetupDir}\system\{#MyLicenseFile}
        OutputDir={#MyInnoSetupDir}

        #if MyJREPath != "" 
          ; run app with bundled JRE
          OutputBaseFilename={#MyAppName}-{#MyAppVersion}-bundledJRE-setup
        #else
          ; run app without bundled JRE
          OutputBaseFilename={#MyAppName}-{#MyAppVersion}-setup          
        #endif 

        SetupIconFile={#MyInnoSetupDir}\{#MyAppIcoName}
        Compression=lzma
        SolidCompression=yes  
        AppComments={#MyAppName}
        AppCopyright={#MyAppCopyright}  
        UninstallDisplayIcon={#MyInnoSetupDir}\{#MyAppIcoName}
        UninstallDisplayName={#MyAppName}
        WizardImageStretch=No
        WizardSmallImageFile={#MyInnoSetupDir}\{#MyAppBmpName}



        [Languages]
        Name: "english"; MessagesFile: "compiler:Default.isl"
        ;Name: "german"; MessagesFile: "compiler:Languages\German.isl"

        [Tasks]
        Name: "desktopicon"; \
                Description: "{cm:CreateDesktopIcon}"; \
                GroupDescription: "{cm:AdditionalIcons}"; \
                Flags: unchecked
        Name: "quicklaunchicon"; \
                Description: "{cm:CreateQuickLaunchIcon}"; \
                GroupDescription: "{cm:AdditionalIcons}"; \
                Flags: unchecked; OnlyBelowVersion: 0,6.1

        [Files]
        ; bundle JRE if required
        #if MyJREPath != "" 
            Source: "{#MyJREPath}\*"; DestDir: "{app}\runtime\jre\";  \
                Flags: ignoreversion recursesubdirs createallsubdirs;       
        #endif      

        ; copy jar and all files  
        Source: "{#MyInnoSetupDir}\*"; DestDir: "{app}\app\"; \        
                Flags: ignoreversion recursesubdirs createallsubdirs


        [Icons]
        #if MyJREPath != ""
          ; set up icons with bundled JRE
          Name: "{commonprograms}\{#MyAppName}"; \
                  IconFilename: "{app}\app\{#MyAppIcoName}"; \
                  Filename: "{app}\runtime\jre\bin\{#MyAppExeName}"; \
                  Parameters: " -jar {#MyJarName}"; \
                  WorkingDir: "{app}\app\"
          Name: "{commondesktop}\{#MyAppName}"; \
                  IconFilename: "{app}\app\{#MyAppIcoName}"; \
                  Filename: "{app}\runtime\jre\bin\{#MyAppExeName}"; \
                  Parameters: " -jar {#MyJarName}"; \
                  WorkingDir: "{app}\app\"; \
                  Tasks: desktopicon            
          Name: "{userappdata}\Microsoft\Internet Explorer\Quick Launch\{#MyAppName}"; \
                  IconFilename: "{app}\app\{#MyAppIcoName}"; \
                  Filename: "{app}\runtime\jre\bin\{#MyAppExeName}"; \
                  Parameters: " -jar {#MyJarName}"; \
                  WorkingDir: "{app}\app\"; \
                  Tasks: quicklaunchicon
        #else
          ; set up icons without bundled JRE
          Name: "{commonprograms}\{#MyAppName}"; \
                  IconFilename: "{app}\app\{#MyAppIcoName}"; \
                  Filename: "{app}\app\{#MyJarName}"; \
                  WorkingDir: "{app}\app\"
          Name: "{commondesktop}\{#MyAppName}"; \
                  IconFilename: "{app}\app\{#MyAppIcoName}"; \
                  Filename: "{app}\app\{#MyJarName}"; \
                  WorkingDir: "{app}\app\"; \
                  Tasks: desktopicon            
          Name: "{userappdata}\Microsoft\Internet Explorer\Quick Launch\{#MyAppName}"; \
                  IconFilename: "{app}\app\{#MyAppIcoName}"; \
                  Filename: "{app}\app\{#MyJarName}"; \
                  WorkingDir: "{app}\app\"; \
                  Tasks: quicklaunchicon 
        #endif

        [Run]
        #if MyJREPath != ""
          ; run app with bundled JRE
          Filename: "{app}\runtime\jre\bin\{#MyAppExeName}"; Parameters: " -jar {#MyJarName}"; \
                  WorkingDir: "{app}\app\"; \
                  Description: "{cm:LaunchProgram,{#StringChange(MyAppName, '&amp;', '&amp;&amp;')}}"; \
                  Flags: postinstall skipifsilent          
        #else
          ; run app without bundled JRE
          Filename: "{app}\app\{#MyJarName}"; \
                  WorkingDir: "{app}\app\"; \
                  Description: "{cm:LaunchProgram,{#StringChange(MyAppName, '&amp;', '&amp;&amp;')}}"; \
                  Flags: shellexec postinstall skipifsilent          
        #endif 
</code></pre>
     <p>Hope this helps.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>Great help. Just helped me to bundle my jre with the app in inno setup 6</span> <span> - </span> <span class="display-name">Kwesi Aryee</span> <span> </span> <span class="date">12 Feb 2022 at 12:27</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_4"><span>Answer 4</span> <span class="arrow"> <a href="#answer_3">â†‘</a> </span> <span class="arrow"> <a href="#answer_5">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>3</span>
     </div>
     <div>
      <span>Answerer: </span> <span>user1767316</span>
     </div>
     <div>
      <span> Answered: </span> <span>26 Apr 2020 at 10:02</span>
     </div>
    </div>
    <div>
     <p>The Java Packager included with JDKs from JDK 7 Update 6, is the <a href="https://docs.oracle.com/javase/10/deploy/self-contained-application-packaging.htm" rel="nofollow noreferrer">official way</a> to embed JRE along with your code in a native executable file. <a href="https://github.com/fvarrui/JavaPackager" rel="nofollow noreferrer">Some maven plugin</a> seems to package the task of packaging and generating native executable for major plateforms.</p>
     <p>From JDK11 java packager would need to be downloaded according to <a href="https://medium.com/@adam_carroll/java-packager-with-jdk11-31b3d620f4a8" rel="nofollow noreferrer">java-packager-with-jdk11</a> witch demonstrates packaging using gradle</p>
     <p>Another approach may be to build a <a href="https://www.graalvm.org/reference-manual/native-image/" rel="nofollow noreferrer">GraalVM Native image</a> with the contstraint to find alternatives to libraries using reflexion which is not supported.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>not suggesting the graalvm as the current situation is not fully supported the swing &amp; awt frames, etc.... still many works to do.</span> <span> - </span> <span class="display-name">gumuruh</span> <span> </span> <span class="date">9 Apr 2022 at 02:24</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_5"><span>Answer 5</span> <span class="arrow"> <a href="#answer_4">â†‘</a> </span> <span class="arrow"> <a href="#answer_6">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>2</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Mike</span>
     </div>
     <div>
      <span> Answered: </span> <span>21 Dec 2012 at 21:17</span>
     </div>
    </div>
    <div>
     <p>I've never used the Launch4J product, good luck in getting it configured correctly.</p>
     <p>Looks like you might be able to go to the Discussion Forum on Sourceforge for other hints <a href="http://sourceforge.net/projects/launch4j/forums/forum/332683" rel="nofollow">here</a></p>
     <p>Other Suggestions:</p>
     <p>Most of the products I've seen from IBM (Websphere) and Oracle just extract a JRE under the installation directory and configure the startup batch command to use the installed JRE. Essentially the JRE and your jar file would be installed in one shot.</p>
     <p>The installation exe usually checks to see if it's already installed and skips that step if it finds it already there. This is useful for upgrades of just the jar file.</p>
     <p>Having the local installation also solves the issue of the customer installing their own JRE which may be incompatible or contain bugs. This way your dealing with a known JRE version.</p>
     <p>The excelsior route is OK if you don't have a graphical component to your application (It's been a while, that restriction may have changed). There are other restrictions as well, but you probably just better off just distributing a JRE with your code in a single executable installer.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>You seem to know our product since its infancy! In fact, Excelsior JET was first certified Java Compatible back in 2005, so it's been fully supporting Swing/AWT since then. It also handles Eclipse RCP just fine, JavaFX 2 is a bit tricky but works. You can download natively compiled Eclipse 4.2 Classic and JavaFX 2 Ensmeble demo from the gallery: <a href="http://www.excelsior-usa.com/jetgallery.html" rel="nofollow noreferrer">excelsior-usa.com/jetgallery.html</a> Disclaimer: I work for Excelsior.</span> <span> - </span> <span class="display-name">Dmitry Leskov</span> <span> </span> <span class="date">29 Dec 2012 at 09:19</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_6"><span>Answer 6</span> <span class="arrow"> <a href="#answer_5">â†‘</a> </span> <span class="arrow"> <a href="#answer_7">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Nivedha</span>
     </div>
     <div>
      <span> Answered: </span> <span>5 Feb 2018 at 11:47</span>
     </div>
    </div>
    <div>
     <p>Its easy to bundle jre into launch4j..</p>
     <p>just copy the jre into the same output folder</p>
     <p>In the bundle jre environment text box, just give the jre folder itself</p>
     <p>In the environment variable text box (present in the same page below), give until bin</p>
     <p>Then create exe.. It works as expected without jre in machine.</p>
     <p>Thanks</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>1</td>
        <td><span>This assumes you are using some other method to install the JRE on the target machine, next to the .exe file that Launch4j builds.</span> <span> - </span> <span class="display-name">simpleuser</span> <span> </span> <span class="date">22 Mar 2019 at 21:15</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_7"><span>Answer 7</span> <span class="arrow"> <a href="#answer_6">â†‘</a> </span> <span class="arrow"> <a href="#answer_8">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>tcb</span>
     </div>
     <div>
      <span> Answered: </span> <span>21 Dec 2012 at 21:05</span>
     </div>
    </div>
    <div>
     <p>It seems you need native code compiler. These compilers produce native code which doesn't require JRE.</p>
     <p>Check this article - <a href="http://web.archive.org/web/20190128082712/https://www.excelsior-usa.com/articles/java-to-exe.html#aot" rel="nofollow noreferrer">http://web.archive.org/web/20190128082712/https://www.excelsior-usa.com/articles/java-to-exe.html#aot</a>.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>execelsior is dead ...</span> <span> - </span> <span class="display-name">gumuruh</span> <span> </span> <span class="date">9 Apr 2022 at 02:25</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_8"><span>Answer 8</span> <span class="arrow"> <a href="#answer_7">â†‘</a> </span> <span class="arrow"> <a href="#answer_9">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>-3</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Matt Klooster</span>
     </div>
     <div>
      <span> Answered: </span> <span>21 Dec 2012 at 20:12</span>
     </div>
    </div>
    <div>
     <p>What you're asking for isn't going to be easy to do (if it's doable at all.) If I were you I would look into creating an executable JAR file:</p>
     <p><a href="https://stackoverflow.com/questions/8159046/java-eclipse-create-executable-jar">java eclipse create executable jar</a></p>
     <p>Another option would be to use Java Web Start. This was assuming you're using a modern browser the JNLP will automatically prompt the user to install the correct version of Java.</p>
     <p><a href="http://docs.oracle.com/javase/tutorial/deployment/webstart/index.html" rel="nofollow noreferrer">http://docs.oracle.com/javase/tutorial/deployment/webstart/index.html</a></p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>Is there any way that an executable jar could be run without jre? I had believed it impossible. Also, with a web start, does the app have to be online for it to work?</span> <span> - </span> <span class="display-name">MagicGuy52</span> <span> </span> <span class="date">21 Dec 2012 at 20:23</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>No, executable JAR needs a JRE. Webstart doesn't have to be online, you can point it at local location. The only limitation is you need to open it with a browser, and include the &lt;offline-enabled&gt; node in the JNLP file. Here's a good question about doing that: <a href="http://stackoverflow.com/questions/2032491/local-alternative-to-jnlp-file">local-alternative-to-jnlp-file</a></span> <span> - </span> <span class="display-name">Matt Klooster</span> <span> </span> <span class="date">21 Dec 2012 at 20:54</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_9"><span>Answer 9</span> <span class="arrow"> <a href="#answer_8">â†‘</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>-3</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Ridzuan Adris</span>
     </div>
     <div>
      <span> Answered: </span> <span>15 May 2014 at 02:46</span>
     </div>
    </div>
    <div>
     <p>There are several reason why launch4j wont run smoothly. some of the reason is:</p>
     <p>1) user do not run the application as Administrator</p>
     <p>2) User do not setup icon image properly. must strictly .ico</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>Yes, I have used <code>.jpg</code> icon and it give me the above <code>JRE</code> error.</span> <span> - </span> <span class="display-name">Ebraheem Alrabeea</span> <span> </span> <span class="date">13 Oct 2018 at 22:15</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>