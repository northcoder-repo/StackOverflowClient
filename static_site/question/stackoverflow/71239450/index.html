<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>GPG keys issue while installing mysql-community-server</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>GPG keys issue while installing mysql-community-server</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>29</span>
    </div>
    <div>
     <span>Asker: </span> <span>jignesh kumar</span>
    </div>
    <div>
     <span>Asked: </span> <span>23 Feb 2022 at 15:09</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/71239450/gpg-keys-issue-while-installing-mysql-community-server">source</a>
    </div>
   </div>
   <div>
    <p>While Installing <strong>mysql-community-server</strong> getting bellow error:</p>
    <p><strong>Command:</strong></p>
    <pre><code> sudo yum install mysql-community-server
</code></pre>
    <p><strong>Error:</strong></p>
    <pre><code>warning: /var/cache/yum/x86_64/2/mysql57-community/packages/mysql-community-libs-compat-5.7.37-1.el7.x86_64.rpm: Header V4 RSA/SHA256 Signature, key ID 3a79bd29: NOKEY
Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql


The GPG keys listed for the "MySQL 5.7 Community Server" repository are already installed but they are not correct for this package.
Check that the correct key URLs are configured for this repository.


 Failing package is: mysql-community-libs-compat-5.7.37-1.el7.x86_64
 GPG Keys are configured as: file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql

</code></pre>
    <p>Can anyone help on this...</p>
   </div>
   <div class="tags">
    <span class="tag">php</span><span class="tag">mysql</span><span class="tag">linux</span><span class="tag">package</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td></td>
       <td><span>Please clarify your specific problem or provide additional details to highlight exactly what you need. As it's currently written, it's hard to tell exactly what you're asking.</span> <span> - </span> <span class="display-name">Community</span> <span> </span> <span class="date">24 Feb 2022 at 02:55</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span> <span class="arrow"> <a href="#answer_2">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>104</span>
     </div>
     <div>
      <span>Answerer: </span> <span>huytmb</span>
     </div>
     <div>
      <span> Answered: </span> <span>25 Feb 2022 at 11:40</span>
     </div>
    </div>
    <div>
     <p>From: <a href="https://dev.mysql.com/doc/refman/8.0/en/checking-rpm-signature.html" rel="noreferrer">https://dev.mysql.com/doc/refman/8.0/en/checking-rpm-signature.html</a></p>
     <p>There is no separate signature. RPM packages have a built-in GPG signature and MD5 checksum.</p>
     <p>rpm also supports loading the key directly from a URL:</p>
     <pre><code>rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>15</td>
        <td><span>This worked for me on Amazon linux 2</span> <span> - </span> <span class="display-name">Nafsin Vk</span> <span> </span> <span class="date">9 Mar 2022 at 06:44</span></td>
       </tr>
       <tr>
        <td>2</td>
        <td><span>Worked for me on centos 7.9 / aws ec2 - using the "rpm import..." - THANKS!</span> <span> - </span> <span class="display-name">bhu Boue vidya</span> <span> </span> <span class="date">15 Mar 2022 at 00:28</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>Worked for me for Oracle Linux 7</span> <span> - </span> <span class="display-name">Chibuzo</span> <span> </span> <span class="date">10 Apr 2022 at 16:43</span></td>
       </tr>
       <tr>
        <td>4</td>
        <td><span>Worked on Centos 7</span> <span> - </span> <span class="display-name">huytmb</span> <span> </span> <span class="date">12 Apr 2022 at 10:18</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>Worked on Fedora 35</span> <span> - </span> <span class="display-name">Journey_Man</span> <span> </span> <span class="date">11 May 2022 at 13:08</span></td>
       </tr>
       <tr>
        <td>2</td>
        <td><span>Add sudo at the beginning is necessary for my case</span> <span> - </span> <span class="display-name">Nguyen Tan Dat</span> <span> </span> <span class="date">20 Jun 2022 at 07:20</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Worked for amazon-linux 2 machine thanks</span> <span> - </span> <span class="display-name">Mani</span> <span> </span> <span class="date">26 Nov 2022 at 04:30</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>It worked for my on aws linux 2. Thanks</span> <span> - </span> <span class="display-name">Son Lam</span> <span> </span> <span class="date">5 Jan 2023 at 09:54</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_2"><span>Answer 2</span> <span class="arrow"> <a href="#answer_1">↑</a> </span> <span class="arrow"> <a href="#answer_3">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>8</span>
     </div>
     <div>
      <span>Answerer: </span> <span>H Arif</span>
     </div>
     <div>
      <span> Answered: </span> <span>7 Mar 2022 at 13:14</span>
     </div>
    </div>
    <div>
     <p>The GPG keys for the new release has been changed. See this for further info: <a href="https://support.cpanel.net/hc/en-us/articles/4419382481815?input_string=gpg+keys+problem+with+mysql+5.7" rel="noreferrer">https://support.cpanel.net/hc/en-us/articles/4419382481815?input_string=gpg+keys+problem+with+mysql+5.7</a></p>
     <p>Steps to resovled this error the updated MySQL GPG will need to be installed.</p>
     <ol>
      <li>
       <p>For existing systems, the MySQL repository file in /etc/yum.repos.d/ will need to have its 'gpgkey' line adjusted to:</p>
       <p>gpgkey=https://repo.mysql.com/RPM-GPG-KEY-mysql-2022</p></li>
     </ol>
     <p>Once adjusted, run the update once more:</p>
     <pre><code>/usr/local/cpanel/scripts/upcp
</code></pre>
     <ol start="2">
      <li>
       <p>For new installations you can import the key before running the installer:</p>
       <p>rpm --import <a href="https://repo.mysql.com/RPM-GPG-KEY-mysql-2022" rel="noreferrer">https://repo.mysql.com/RPM-GPG-KEY-mysql-2022</a></p></li>
     </ol>
     <p>Ubuntu:</p>
     <pre><code>wget -q -O https://repo.mysql.com/RPM-GPG-KEY-mysql-2022 | apt-key add -
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_3"><span>Answer 3</span> <span class="arrow"> <a href="#answer_2">↑</a> </span> <span class="arrow"> <a href="#answer_4">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>3</span>
     </div>
     <div>
      <span>Answerer: </span> <span>ch saikiran</span>
     </div>
     <div>
      <span> Answered: </span> <span>24 Feb 2022 at 10:29</span>
     </div>
    </div>
    <div>
     <p>I had the same problem with two DNS-ONLY servers.</p>
     <p>I edited the /etd/yum.repos.d/Mysql57.repo file and changed all the "gpgcheck=1" lines to "gpgcheck=0"</p>
     <p>Then I executed yum update</p>
     <p>Then I edited the /etd/yum.repos.d/Mysql57.repo file and changed all the "gpgcheck=0" lines back to "gpgcheck=1"</p>
     <p>Finally, I updated the cPanel software.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>2</td>
        <td><span>Thanks for the Answer, but i resolve it by running ```` sudo rpm --import <a href="https://repo.mysql.com/RPM-GPG-KEY-mysql-2022" rel="nofollow noreferrer">repo.mysql.com/RPM-GPG-KEY-mysql-2022</a> ```` before the ```` sudo yum install mysql-community-server ```` and its just works fine!!!</span> <span> - </span> <span class="display-name">jignesh kumar</span> <span> </span> <span class="date">24 Feb 2022 at 11:30</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>It's a workaround when you are in a DMZ server.</span> <span> - </span> <span class="display-name">Jonyx4</span> <span> </span> <span class="date">1 Mar 2023 at 23:35</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_4"><span>Answer 4</span> <span class="arrow"> <a href="#answer_3">↑</a> </span> <span class="arrow"> <a href="#answer_5">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>David Harrison</span>
     </div>
     <div>
      <span> Answered: </span> <span>8 Apr 2022 at 07:03</span>
     </div>
    </div>
    <div>
     <p>This solved it for me on Debian 11:</p>
     <pre><code>wget --quiet --output-document - https://repo.mysql.com/RPM-GPG-KEY-mysql-2022 | gpg --no-default-keyring --keyring gnupg-ring:/etc/apt/trusted.gpg.d/mysql2022.gpg --import
chmod 644 /etc/apt/trusted.gpg.d/mysql2022.gpg
</code></pre>
     <p>Before that <code>apt-get update</code> reported the key error, after that all good.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_5"><span>Answer 5</span> <span class="arrow"> <a href="#answer_4">↑</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Lorenzo Regalado</span>
     </div>
     <div>
      <span> Answered: </span> <span>26 Oct 2022 at 00:17</span>
     </div>
    </div>
    <div>
     <p>You could use one of the following.</p>
     <p>With rpm based installations:</p>
     <pre><code>rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022
</code></pre>
     <p>Apt based:</p>
     <pre><code>wget -q -O - https://repo.mysql.com/RPM-GPG-KEY-mysql-2022 | apt-key add -
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>