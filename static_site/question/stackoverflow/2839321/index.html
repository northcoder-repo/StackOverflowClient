<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>Connect Java to a MySQL database</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>Connect Java to a MySQL database</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>361</span>
    </div>
    <div>
     <span>Asker: </span> <span>abson</span>
    </div>
    <div>
     <span>Asked: </span> <span>15 May 2010 at 07:39</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/2839321/connect-java-to-a-mysql-database">source</a>
    </div>
   </div>
   <div>
    <p>How do you connect to a MySQL database in Java?</p>
    <p>When I try, I get</p>
    <pre><code>java.sql.SQLException: No suitable driver found for jdbc:mysql://database/table
    at java.sql.DriverManager.getConnection(DriverManager.java:689)
    at java.sql.DriverManager.getConnection(DriverManager.java:247)
</code></pre>
    <p>Or</p>
    <pre><code>java.lang.ClassNotFoundException: com.mysql.jdbc.Driver
</code></pre>
    <p>Or</p>
    <pre><code>java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver
</code></pre>
   </div>
   <div class="tags">
    <span class="tag">java</span><span class="tag">mysql</span><span class="tag">jdbc</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td>1</td>
       <td><span>Here's a short 3-minute video tutorial that demonstrates using MySQL from Java. Check it out here: <a href="https://www.youtube.com/watch?v=3KT0haOSTEg" rel="nofollow noreferrer">Quick Tutorial: Connecting to MySQL database using Java</a></span> <span> - </span> <span class="display-name">drorw</span> <span> </span> <span class="date">10 Oct 2018 at 12:47</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span> <span class="arrow"> <a href="#answer_2">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>534</span>
     </div>
     <div>
      <span>Answerer: </span> <span>BalusC</span>
     </div>
     <div>
      <span> Answered: </span> <span>15 May 2010 at 13:55</span>
     </div>
    </div>
    <div>
     <p>Here's a step by step explanation how to install MySQL and JDBC and how to use it:</p>
     <ol start="0">
      <li>
       <p><strong><a href="http://dev.mysql.com/downloads/mysql/" rel="noreferrer">Download</a> and install the MySQL server</strong>. Just do it the usual way. Remember the port number whenever you've changed it. It's by default <code>3306</code>.</p></li>
      <li>
       <p><strong><a href="http://dev.mysql.com/downloads/connector/j/" rel="noreferrer">Download</a> the JDBC driver and put in classpath</strong>, extract the ZIP file and put the containing JAR file in the classpath. The vendor-specific JDBC driver is a concrete implementation of the <a href="http://docs.oracle.com/javase/8/docs/api/java/sql/package-summary.html" rel="noreferrer">JDBC API</a> (<a href="http://docs.oracle.com/javase/tutorial/jdbc/index.html" rel="noreferrer">tutorial here</a>).</p>
       <p>If you're using an IDE like Eclipse or Netbeans, then you can add it to the classpath by adding the JAR file as <em>Library</em> to the <em>Build Path</em> in project's properties.</p>
       <p>If you're doing it "plain vanilla" in the command console, then you need to specify the path to the JAR file in the <code>-cp</code> or <code>-classpath</code> argument when executing your Java application.</p>
       <pre>java -cp .;/path/to/mysql-connector.jar com.example.YourClass</pre>
       <p>The <code>.</code> is just there to add the <em>current</em> directory to the classpath as well so that it can locate <code>com.example.YourClass</code> and the <code>;</code> is the classpath separator as it is in Windows. In Unix and clones <code>:</code> should be used.</p></li>
      <li>
       <p><strong>Create a <a href="http://dev.mysql.com/doc/refman/5.7/en/create-database.html" rel="noreferrer">database</a> in MySQL</strong>. Let's create a database <code>javabase</code>. You of course want World Domination, so let's use UTF-8 as well.</p>
       <pre><code> CREATE DATABASE javabase DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;
</code></pre></li>
      <li>
       <p><strong><a href="http://dev.mysql.com/doc/refman/5.7/en/adding-users.html" rel="noreferrer">Create a user</a> for Java and <a href="http://dev.mysql.com/doc/refman/5.7/en/grant.html" rel="noreferrer">grant</a> it access</strong>. Simply because using <code>root</code> is a bad practice.</p>
       <pre><code> CREATE USER 'java'@'localhost' IDENTIFIED BY 'password';
 GRANT ALL ON javabase.* TO 'java'@'localhost' IDENTIFIED BY 'password';
</code></pre>
       <p>Yes, <code>java</code> is the username and <code>password</code> is the password here.</p></li>
      <li>
       <p><strong><a href="http://dev.mysql.com/doc/connector-j/en/connector-j-reference-configuration-properties.html" rel="noreferrer">Determine</a> the JDBC URL</strong>. To connect the MySQL database using Java you need an JDBC URL in the following syntax:</p>
       <pre>jdbc:mysql://hostname:port/databasename</pre>
       <ul>
        <li>
         <p><strong><code>hostname</code></strong>: The hostname where MySQL server is installed. If it's installed at the same machine where you run the Java code, then you can just use <code>localhost</code>. It can also be an IP address like <code>127.0.0.1</code>. If you encounter connectivity problems and using <code>127.0.0.1</code> instead of <code>localhost</code> solved it, then you've a problem in your network/DNS/hosts config.</p></li>
        <li>
         <p><strong><code>port</code></strong>: The TCP/IP port where MySQL server listens on. This is by default <code>3306</code>.</p></li>
        <li>
         <p><strong><code>databasename</code></strong>: The name of the database you'd like to connect to. That's <code>javabase</code>.</p></li>
       </ul>
       <p>So the final URL should look like:</p>
       <pre>jdbc:mysql://localhost:3306/javabase</pre></li>
      <li>
       <p><strong><a href="http://dev.mysql.com/doc/connector-j/en/connector-j-usagenotes-basic.html" rel="noreferrer">Test the connection</a> to MySQL using Java</strong>. Create a simple Java class with a <code>main()</code> method to test the connection.</p>
       <pre><code> String url = "jdbc:mysql://localhost:3306/javabase";
 String username = "java";
 String password = "password";

 System.out.println("Connecting database...");

 try (Connection connection = DriverManager.getConnection(url, username, password)) {
     System.out.println("Database connected!");
 } catch (SQLException e) {
     throw new IllegalStateException("Cannot connect the database!", e);
 }
</code></pre>
       <p>If you get a <code>SQLException: No suitable driver</code>, then it means that either the JDBC driver wasn't autoloaded at all or that the JDBC URL is wrong (i.e. it wasn't recognized by any of the loaded drivers). Normally, a JDBC 4.0 driver should be autoloaded when you just drop it in runtime classpath. To exclude one and other, you can always manually load it as below:</p>
       <pre><code> System.out.println("Loading driver...");

 try {
     Class.forName("com.mysql.jdbc.Driver");
     System.out.println("Driver loaded!");
 } catch (ClassNotFoundException e) {
     throw new IllegalStateException("Cannot find the driver in the classpath!", e);
 }
</code></pre>
       <p>Note that the <code>newInstance()</code> call is <strong>not</strong> needed here. It's just to fix the old and buggy <code>org.gjt.mm.mysql.Driver</code>. <a href="https://stackoverflow.com/questions/2092659/what-is-difference-between-class-forname-and-class-forname-newinstance/2093236#2093236">Explanation here</a>. If this line throws <code>ClassNotFoundException</code>, then the JAR file containing the JDBC driver class is simply not been placed in the classpath.</p>
       <p>Note that you don't need to load the driver <strong>everytime</strong> <em>before</em> connecting. Just only once during application startup is enough.</p>
       <p>If you get a <code>SQLException: Connection refused</code> or <code>Connection timed out</code> or a MySQL specific <code>CommunicationsException: Communications link failure</code>, then it means that the DB isn't reachable at all. This can have one or more of the following causes:</p>
       <ol>
        <li>IP address or hostname in JDBC URL is wrong.</li>
        <li>Hostname in JDBC URL is not recognized by local DNS server.</li>
        <li>Port number is missing or wrong in JDBC URL.</li>
        <li>DB server is down.</li>
        <li>DB server doesn't accept TCP/IP connections.</li>
        <li>DB server has run out of connections.</li>
        <li>Something in between Java and DB is blocking connections, e.g. a firewall or proxy. <br><br></li>
       </ol>
       <p>To solve the one or the other, follow the following advices:</p>
       <ol>
        <li>Verify and test them with <code>ping</code>.</li>
        <li>Refresh DNS or use IP address in JDBC URL instead.</li>
        <li>Verify it based on <code>my.cnf</code> of MySQL DB.</li>
        <li>Start the DB.</li>
        <li>Verify if mysqld is started without the <code>--skip-networking option</code>.</li>
        <li>Restart the DB and fix your code accordingly that it closes connections in <code>finally</code>.</li>
        <li>Disable firewall and/or configure firewall/proxy to allow/forward the port. <br><br></li>
       </ol>
       <p>Note that closing the <code>Connection</code> is <strong>extremely</strong> important. If you don't close connections and keep getting a lot of them in a short time, then the database may run out of connections and your application may break. Always acquire the <code>Connection</code> in a <a href="https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html" rel="noreferrer"><code>try-with-resources</code> statement</a>. Or if you're not on Java 7 yet, explicitly close it in <code>finally</code> of a <code>try-finally</code> block. Closing in <code>finally</code> is just to ensure that it get closed as well in case of an exception. This also applies to <code>Statement</code>, <code>PreparedStatement</code> and <code>ResultSet</code>.</p></li>
     </ol>
     <p>That was it as far the connectivity concerns. You can find <a href="http://balusc.blogspot.com/2008/07/dao-tutorial-data-layer.html" rel="noreferrer">here</a> a more advanced tutorial how to load and store fullworthy Java model objects in a database with help of a basic DAO class.</p>
     <hr>
     <p>Using a Singleton Pattern for the DB connection is a bad approach. See among other questions: <a href="http://stackoverflow.com/q/9428573/">Is it safe to use a static java.sql.Connection instance in a multithreaded system?</a>. This is a #1 starters mistake.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>I was getting the same error. Updating the driver version worked for me. <a href="https://downloads.mysql.com/archives/c-j/" rel="nofollow noreferrer">downloads.mysql.com/archives/c-j</a></span> <span> - </span> <span class="display-name">Nafees Ahmad</span> <span> </span> <span class="date">4 Jun 2022 at 18:12</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_2"><span>Answer 2</span> <span class="arrow"> <a href="#answer_1">â†‘</a> </span> <span class="arrow"> <a href="#answer_3">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>231</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Sean Owen</span>
     </div>
     <div>
      <span> Answered: </span> <span>15 May 2010 at 09:10</span>
     </div>
    </div>
    <div>
     <p><code>DriverManager</code> is a fairly old way of doing things. The better way is to get a <code>DataSource</code>, either by looking one up that your app server container already configured for you:</p>
     <pre><code>Context context = new InitialContext();
DataSource dataSource = (DataSource) context.lookup("java:comp/env/jdbc/myDB");
</code></pre>
     <p>or instantiating and configuring one from your database driver directly:</p>
     <pre><code>MysqlDataSource dataSource = new MysqlDataSource();
dataSource.setUser("scott");
dataSource.setPassword("tiger");
dataSource.setServerName("myDBHost.example.org");
</code></pre>
     <p>and then obtain connections from it, same as above:</p>
     <pre><code>Connection conn = dataSource.getConnection();
Statement stmt = conn.createStatement();
ResultSet rs = stmt.executeQuery("SELECT ID FROM USERS");
...
rs.close();
stmt.close();
conn.close();
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>1</td>
        <td><span>how come the other examples use <code>com.mysql.jdbc.Driver</code>? is this method better?</span> <span> - </span> <span class="display-name">Jason S</span> <span> </span> <span class="date">21 May 2010 at 03:21</span></td>
       </tr>
       <tr>
        <td>8</td>
        <td><span>I think this is the old-style Driver class that works with the old-style driver mechanism. <code>MysqlDataSource</code> implements <code>javax.sql.DataSource</code> which is the newer mechanism.</span> <span> - </span> <span class="display-name">Sean Owen</span> <span> </span> <span class="date">21 May 2010 at 09:00</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@SeanOwen +1 for Good explanation. I was not aware of this method, because most of the people talk about DriverManager.</span> <span> - </span> <span class="display-name">Sachin Kumar</span> <span> </span> <span class="date">24 Sep 2015 at 20:16</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>Hi @SeanOwen I wonder that, why do we close <code>rs</code> and <code>stmt</code>? Why not just <code>conn</code>?</span> <span> - </span> <span class="display-name">Kamuran SÃ¶necek</span> <span> </span> <span class="date">14 Apr 2016 at 06:37</span></td>
       </tr>
       <tr>
        <td>4</td>
        <td><span>Maybe you should add dataSource.setDatabaseName("database").</span> <span> - </span> <span class="display-name">Myoch</span> <span> </span> <span class="date">22 May 2016 at 11:14</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@SeanOwen Yes: Why do we need to close both of them ?</span> <span> - </span> <span class="display-name">cram2208</span> <span> </span> <span class="date">29 May 2016 at 03:42</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>It's good practice to close() things explicitly, though it is more code. Any good implementation would have to close the resources when the connection closes, yes. Consider other contexts where you want to reuse a statement or connection though. In Java 7's try-with-resources, you get this behavior for free anyway:</span> <span> - </span> <span class="display-name">Sean Owen</span> <span> </span> <span class="date">29 May 2016 at 13:22</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>How do I configure the context: <code>java:comp/env/jdbc/myDB</code> and where can it be found/configured?</span> <span> - </span> <span class="display-name">luukvhoudt</span> <span> </span> <span class="date">13 Jun 2016 at 19:14</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>There is a good tutorial here: <a href="http://www.journaldev.com/2509/java-datasource-jdbc-datasource-example" rel="nofollow noreferrer">journaldev.com/2509/java-datasource-jdbc-datasource-example</a></span> <span> - </span> <span class="display-name">Douglas</span> <span> </span> <span class="date">4 Sep 2017 at 13:40</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>According to the <a href="https://docs.oracle.com/javase/9/docs/api/java/sql/Statement.html#close" rel="nofollow noreferrer">Java API specification</a>, you do not need to close <code>ResultSet</code> objects: "When a <code>Statement</code> object is closed, its current <code>ResultSet</code> object, if one exists, is also closed."</span> <span> - </span> <span class="display-name">GÃ©ry Ogam</span> <span> </span> <span class="date">10 Dec 2017 at 00:15</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Perhaps this example should be updated to use PreparedStatements instead, as they're generally preferable for security reasons? Or should it be left alone for simplicity's sake?</span> <span> - </span> <span class="display-name">IceMetalPunk</span> <span> </span> <span class="date">4 Jun 2018 at 04:13</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>I think PreparedStatement is orthogonal - point here is connecting to the DB.</span> <span> - </span> <span class="display-name">Sean Owen</span> <span> </span> <span class="date">4 Jun 2018 at 20:46</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_3"><span>Answer 3</span> <span class="arrow"> <a href="#answer_2">â†‘</a> </span> <span class="arrow"> <a href="#answer_4">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>47</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Madan Sapkota</span>
     </div>
     <div>
      <span> Answered: </span> <span>14 Jun 2015 at 05:15</span>
     </div>
    </div>
    <div>
     <h2>Initialize database constants</h2>
     <p>Create constant properties database username, password, URL and drivers, polling limit etc.</p>
     <pre><code>// init database constants
// com.mysql.jdbc.Driver
private static final String DATABASE_DRIVER = "com.mysql.cj.jdbc.Driver";
private static final String DATABASE_URL = "jdbc:mysql://localhost:3306/database_name";
private static final String USERNAME = "root";
private static final String PASSWORD = "";
private static final String MAX_POOL = "250"; // set your own limit
</code></pre>
     <h2>Initialize Connection and Properties</h2>
     <p>Once the connection is established, it is better to store for reuse purpose.</p>
     <pre><code>// init connection object
private Connection connection;
// init properties object
private Properties properties;
</code></pre>
     <h2>Create Properties</h2>
     <p>The properties object hold the connection information, check if it is already set.</p>
     <pre><code>// create properties
private Properties getProperties() {
    if (properties == null) {
        properties = new Properties();
        properties.setProperty("user", USERNAME);
        properties.setProperty("password", PASSWORD);
        properties.setProperty("MaxPooledStatements", MAX_POOL);
    }
    return properties;
}
</code></pre>
     <h2>Connect the Database</h2>
     <p>Now connect to database using the constants and properties initialized.</p>
     <pre><code>// connect database
public Connection connect() {
    if (connection == null) {
        try {
            Class.forName(DATABASE_DRIVER);
            connection = DriverManager.getConnection(DATABASE_URL, getProperties());
        } catch (ClassNotFoundException | SQLException e) {
            // Java 7+
            e.printStackTrace();
        }
    }
    return connection;
}
</code></pre>
     <h2>Disconnect the database</h2>
     <p>Once you are done with database operations, just close the connection.</p>
     <pre><code>// disconnect database
public void disconnect() {
    if (connection != null) {
        try {
            connection.close();
            connection = null;
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
     <h2>Everything together</h2>
     <p>Use this class <code>MysqlConnect</code> directly after changing database_name, username and password etc.</p>
     <pre><code>import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.util.Properties;

public class MysqlConnect {
    // init database constants
    private static final String DATABASE_DRIVER = "com.mysql.cj.jdbc.Driver";
    private static final String DATABASE_URL = "jdbc:mysql://localhost:3306/database_name";
    private static final String USERNAME = "root";
    private static final String PASSWORD = "";
    private static final String MAX_POOL = "250";

    // init connection object
    private Connection connection;
    // init properties object
    private Properties properties;

    // create properties
    private Properties getProperties() {
        if (properties == null) {
            properties = new Properties();
            properties.setProperty("user", USERNAME);
            properties.setProperty("password", PASSWORD);
            properties.setProperty("MaxPooledStatements", MAX_POOL);
        }
        return properties;
    }

    // connect database
    public Connection connect() {
        if (connection == null) {
            try {
                Class.forName(DATABASE_DRIVER);
                connection = DriverManager.getConnection(DATABASE_URL, getProperties());
            } catch (ClassNotFoundException | SQLException e) {
                e.printStackTrace();
            }
        }
        return connection;
    }

    // disconnect database
    public void disconnect() {
        if (connection != null) {
            try {
                connection.close();
                connection = null;
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
    }
}
</code></pre>
     <h2>How to Use?</h2>
     <p>Initialize the database class.</p>
     <pre><code>// !_ note _! this is just init
// it will not create a connection
MysqlConnect mysqlConnect = new MysqlConnect();
</code></pre>
     <p>Somewhere else in your code ...</p>
     <pre><code>String sql = "SELECT * FROM `stackoverflow`";
try {
    PreparedStatement statement = mysqlConnect.connect().prepareStatement(sql);
    ... go on ...
    ... go on ...
    ... DONE ....
} catch (SQLException e) {
    e.printStackTrace();
} finally {
    mysqlConnect.disconnect();
}
</code></pre>
     <p>This is all <strong>:)</strong> If anything to improve edit it! Hope this is helpful.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>Mark, does each class need to maintain it's own separate MysqlConnect instance open at all times - assuming they need to interact wit the data? I'm just wondering how this setup works between classes.</span> <span> - </span> <span class="display-name">Michael Sims</span> <span> </span> <span class="date">19 Nov 2017 at 16:42</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>in place of <code>com.mysql.jdbc.Driver</code> this <code>jdbc:mysql://localhost:3306/stocks</code> should be used as the former is deprecated.</span> <span> - </span> <span class="display-name">StealthTrails</span> <span> </span> <span class="date">23 Oct 2018 at 12:20</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>If you are going to hardwire account name, password, database name etc, this way is very clumsy. Just put all of those details into the JDBC URL string. (Including the pool size ...)</span> <span> - </span> <span class="display-name">Stephen C</span> <span> </span> <span class="date">6 Mar 2020 at 02:12</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_4"><span>Answer 4</span> <span class="arrow"> <a href="#answer_3">â†‘</a> </span> <span class="arrow"> <a href="#answer_5">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>27</span>
     </div>
     <div>
      <span>Answerer: </span> <span>heffaklump</span>
     </div>
     <div>
      <span> Answered: </span> <span>15 May 2010 at 07:43</span>
     </div>
    </div>
    <div>
     <pre><code>String url = "jdbc:mysql://127.0.0.1:3306/yourdatabase";
String user = "username";
String password = "password";

// Load the Connector/J driver
Class.forName("com.mysql.jdbc.Driver").newInstance();
// Establish connection to MySQL
Connection conn = DriverManager.getConnection(url, user, password);
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>what is yourdatabase in here? database name?</span> <span> - </span> <span class="display-name">Koray Tugay</span> <span> </span> <span class="date">24 Mar 2013 at 00:04</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span><i>newInstance()</i> is not necessary. Is it?</span> <span> - </span> <span class="display-name">Mohamed Ennahdi El Idrissi</span> <span> </span> <span class="date">12 Dec 2016 at 16:28</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>Nope. It isn't. And since Java 6 this whole approach is out of date. And the driver class name has changed and ....</span> <span> - </span> <span class="display-name">Stephen C</span> <span> </span> <span class="date">6 Mar 2020 at 02:05</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>What is interesting is that in the doc for DriverManager <a href="https://docs.oracle.com/javase/6/docs/api/java/sql/DriverManager.html" rel="nofollow noreferrer">docs.oracle.com/javase/6/docs/api/java/sql/DriverManager.htmâ€Œâ€‹l</a> it is stated that no longer Class.forName() is needed but instead some properties file java.sql.Driver could be used</span> <span> - </span> <span class="display-name">vmrvictor</span> <span> </span> <span class="date">13 Jul 2020 at 10:55</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>database name here seems to be "yourdatabase" as you can see in the url</span> <span> - </span> <span class="display-name">vmrvictor</span> <span> </span> <span class="date">13 Jul 2020 at 10:56</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_5"><span>Answer 5</span> <span class="arrow"> <a href="#answer_4">â†‘</a> </span> <span class="arrow"> <a href="#answer_6">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>13</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Kilian Foth</span>
     </div>
     <div>
      <span> Answered: </span> <span>15 May 2010 at 07:48</span>
     </div>
    </div>
    <div>
     <p>Here's the very minimum you need to get data out of a MySQL database:</p>
     <pre><code>Class.forName("com.mysql.jdbc.Driver").newInstance();
Connection conn = DriverManager.getConnection
   ("jdbc:mysql://localhost:3306/foo", "root", "password");

Statement stmt = conn.createStatement();
stmt.execute("SELECT * FROM `FOO.BAR`");
stmt.close();
conn.close();
</code></pre>
     <p>Add exception handling, configuration etc. to taste.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>3</td>
        <td><span>why do you need <code>Class.forName(...).newInstance()</code>?</span> <span> - </span> <span class="display-name">Don Cheadle</span> <span> </span> <span class="date">21 Apr 2015 at 21:21</span></td>
       </tr>
       <tr>
        <td>8</td>
        <td><span>@mmcrae You don't, since 2007.</span> <span> - </span> <span class="display-name">user207421</span> <span> </span> <span class="date">13 Feb 2017 at 05:39</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_6"><span>Answer 6</span> <span class="arrow"> <a href="#answer_5">â†‘</a> </span> <span class="arrow"> <a href="#answer_7">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>3</span>
     </div>
     <div>
      <span>Answerer: </span> <span>kapil das</span>
     </div>
     <div>
      <span> Answered: </span> <span>15 Aug 2013 at 13:56</span>
     </div>
    </div>
    <div>
     <p>you need to have mysql connector jar in your classpath.</p>
     <p>in Java JDBC API makes everything with databases. using JDBC we can write Java applications to<br>
       1. Send queries or update SQL to DB(any relational Database) 2. Retrieve and process the results from DB</p>
     <p>with below three steps we can able to retrieve data from any Database</p>
     <pre><code>Connection con = DriverManager.getConnection(
                     "jdbc:myDriver:DatabaseName",
                     dBuserName,
                     dBuserPassword);

Statement stmt = con.createStatement();
ResultSet rs = stmt.executeQuery("SELECT a, b, c FROM Table");

while (rs.next()) {
    int x = rs.getInt("a");
    String s = rs.getString("b");
    float f = rs.getFloat("c");
}
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_7"><span>Answer 7</span> <span class="arrow"> <a href="#answer_6">â†‘</a> </span> <span class="arrow"> <a href="#answer_8">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>2</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Jwalant</span>
     </div>
     <div>
      <span> Answered: </span> <span>21 Jan 2012 at 06:24</span>
     </div>
    </div>
    <div>
     <p>You can see all steps to connect MySQL database from Java application <a href="http://apekshit.com/t/51/Steps-to-connect-Database-using-JAVA" rel="nofollow noreferrer">here</a>. For other database, you just need to change the driver in first step only. Please make sure that you provide right path to database and correct username and password.</p>
     <p>Visit <a href="http://apekshit.com/t/51/Steps-to-connect-Database-using-JAVA" rel="nofollow noreferrer">http://apekshit.com/t/51/Steps-to-connect-Database-using-JAVA</a></p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_8"><span>Answer 8</span> <span class="arrow"> <a href="#answer_7">â†‘</a> </span> <span class="arrow"> <a href="#answer_9">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>2</span>
     </div>
     <div>
      <span>Answerer: </span> <span>KhiLan PaTeL</span>
     </div>
     <div>
      <span> Answered: </span> <span>6 Oct 2015 at 13:08</span>
     </div>
    </div>
    <div>
     <p>Short and Sweet code.</p>
     <pre class="lang-java prettyprint-override"><code>try {       
    Class.forName("com.mysql.jdbc.Driver");
    System.out.println("Driver Loaded");
    conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/testDB","root","");
    //Database Name - testDB, Username - "root", Password - ""
    System.out.println("Connected...");         
} catch(Exception e) {
    e.printStackTrace();
}
</code></pre>
     <p>For SQL server 2012</p>
     <pre class="lang-java prettyprint-override"><code>try {
    String url = "jdbc:sqlserver://KHILAN:1433;databaseName=testDB;user=Khilan;password=Tuxedo123"; 
    //KHILAN is Host    and 1433 is port number     
    Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver");
    System.out.println("Driver Loaded");
    conn = DriverManager.getConnection(url);
    System.out.println("Connected...");
} catch(Exception e) {
    e.printStackTrace();
}
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_9"><span>Answer 9</span> <span class="arrow"> <a href="#answer_8">â†‘</a> </span> <span class="arrow"> <a href="#answer_10">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>2</span>
     </div>
     <div>
      <span>Answerer: </span> <span>AJC</span>
     </div>
     <div>
      <span> Answered: </span> <span>31 Mar 2017 at 21:33</span>
     </div>
    </div>
    <div>
     <p>MySQL JDBC Connection with useSSL.</p>
     <pre><code>private String db_server = BaseMethods.getSystemData("db_server");
private String db_user = BaseMethods.getSystemData("db_user");
private String db_password = BaseMethods.getSystemData("db_password");

private String connectToDb() throws Exception {
   String jdbcDriver = "com.mysql.jdbc.Driver";
   String dbUrl = "jdbc:mysql://" + db_server  +
        "?verifyServerCertificate=false" +
        "&amp;useSSL=true" +
        "&amp;requireSSL=true";
    System.setProperty(jdbcDriver, "");
    Class.forName(jdbcDriver).newInstance();

    Connection conn = DriverManager.getConnection(dbUrl, db_user, db_password);
    Statement statement = conn.createStatement();
    String query = "SELECT EXTERNAL_ID FROM offer_letter where ID =" + "\"" + letterID + "\"";
    ResultSet resultSet = statement.executeQuery(query);
    resultSet.next();
    return resultSet.getString(1);
}
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>The way the query string is created is an example of a very bad practice that is vulnerable to SQL injection attacks.</span> <span> - </span> <span class="display-name">BigMac66</span> <span> </span> <span class="date">8 Apr 2021 at 03:51</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_10"><span>Answer 10</span> <span class="arrow"> <a href="#answer_9">â†‘</a> </span> <span class="arrow"> <a href="#answer_11">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>xxxvodnikxxx</span>
     </div>
     <div>
      <span> Answered: </span> <span>28 May 2015 at 09:50</span>
     </div>
    </div>
    <div>
     <p><code>Connection</code> I was using some time ago, it was looking like the easiest way, but also there were recommendation to make there <code>if</code> statement- exactly</p>
     <pre><code>Connection con = DriverManager.getConnection(
                     "jdbc:myDriver:DatabaseName",
                     dBuserName,
                     dBuserPassword);
if (con != null){
 //..handle your code there 
}
</code></pre>
     <p>Or something like in that way :)</p>
     <p>Probably there's some case, while <code>getConnection</code> can return <code>null</code> :)</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_11"><span>Answer 11</span> <span class="arrow"> <a href="#answer_10">â†‘</a> </span> <span class="arrow"> <a href="#answer_12">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Nhat Dinh</span>
     </div>
     <div>
      <span> Answered: </span> <span>24 Apr 2019 at 13:05</span>
     </div>
    </div>
    <div>
     HOW 
     <ul>
      <li>To set up the Driver to run a quick sample</li>
     </ul>
     <pre><code>1. Go to https://dev.mysql.com/downloads/connector/j/, get the latest version of Connector/J

2. Remember to set the classpath to include the path of the connector jar file.
If we don't set it correctly, below errors can occur:

No suitable driver found for jdbc:mysql://127.0.0.1:3306/msystem_development

java.lang.ClassNotFoundException: com.mysql.jdbc:Driver
</code></pre>
     <ul>
      <li>To set up the CLASSPATH</li>
     </ul>
     <p>Method 1: set the CLASSPATH variable.</p>
     <pre><code>export CLASSPATH=".:mysql-connector-java-VERSION.jar"
java MyClassFile
</code></pre>
     <p>In the above command, I have set the CLASSPATH to the current folder and mysql-connector-java-VERSION.jar file. So when the <code>java MyClassFile</code> command executed, java application launcher will try to load all the Java class in CLASSPATH. And it found the <code>Drive</code> class =&gt; BOOM errors was gone.</p>
     <p>Method 2:</p>
     <pre><code>java -cp .:mysql-connector-java-VERSION.jar MyClassFile
</code></pre>
     <p><em>Note: Class.forName("com.mysql.jdbc.Driver"); This is deprecated at this moment 2019 Apr.</em></p>
     <p>Hope this can help someone!</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_12"><span>Answer 12</span> <span class="arrow"> <a href="#answer_11">â†‘</a> </span> <span class="arrow"> <a href="#answer_13">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>-1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Sarat Chandra</span>
     </div>
     <div>
      <span> Answered: </span> <span>9 Jan 2017 at 17:13</span>
     </div>
    </div>
    <div>
     <p>MySql JDBC Connection:</p>
     <pre><code>Class.forName("com.mysql.jdbc.Driver");     

Connection con=DriverManager.getConnection("jdbc:mysql://localhost:3306/DatabaseName","Username","Password");         
Statement stmt=con.createStatement();            
stmt = con.createStatement();
ResultSet rs=stmt.executeQuery("Select * from Table");  
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_13"><span>Answer 13</span> <span class="arrow"> <a href="#answer_12">â†‘</a> </span> <span class="arrow"> <a href="#answer_14">â†“</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>-1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Corrupted_S.K</span>
     </div>
     <div>
      <span> Answered: </span> <span>17 Sep 2017 at 10:01</span>
     </div>
    </div>
    <div>
     <p><strong>Short Code</strong></p>
     <pre><code>public class DB {

    public static Connection c;

    public static Connection getConnection() throws Exception {
        if (c == null) {
            Class.forName("com.mysql.jdbc.Driver");
            c =DriverManager.getConnection("jdbc:mysql://localhost:3306/DATABASE", "USERNAME", "Password");
        }
        return c;
    }

    // Send data TO Database
    public static void setData(String sql) throws Exception {
        DB.getConnection().createStatement().executeUpdate(sql);
    }

    // Get Data From Database
    public static ResultSet getData(String sql) throws Exception {
        ResultSet rs = DB.getConnection().createStatement().executeQuery(sql);
        return rs;
    }
}
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_14"><span>Answer 14</span> <span class="arrow"> <a href="#answer_13">â†‘</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>-2</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Chew Zai</span>
     </div>
     <div>
      <span> Answered: </span> <span>22 Feb 2020 at 11:29</span>
     </div>
    </div>
    <div>
     <p><strong>Download JDBC Driver</strong></p>
     <p>Download link (Select platform independent): <a href="https://dev.mysql.com/downloads/connector/j/" rel="nofollow noreferrer">https://dev.mysql.com/downloads/connector/j/</a></p>
     <p><strong>Move JDBC Driver to C Drive</strong></p>
     <p>Unzip the files and move to C:\ drive. Your driver path should be like <code>C:\mysql-connector-java-8.0.19\mysql-connector-java-8.0.19</code></p>
     <p><strong>Run Your Java</strong></p>
     <pre><code>java -cp "C:\mysql-connector-java-8.0.19\mysql-connector-java-8.0.19\mysql-connector-java-8.0.19.jar" testMySQL.java
</code></pre>
     <p>testMySQL.java</p>
     <pre><code>import java.sql.*;
import java.io.*;

public class testMySQL {
    public static void main(String[] args) {
    // TODO Auto-generated method stub
        try
        {  
            Class.forName("com.mysql.cj.jdbc.Driver");  
            Connection con=DriverManager.getConnection(  
                "jdbc:mysql://localhost:3306/db?useSSL=false&amp;useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC","root","");  
            Statement stmt=con.createStatement();  
            ResultSet rs=stmt.executeQuery("show databases;");  
            System.out.println("Connected");  
        }
        catch(Exception e)
        {
            System.out.println(e);
        }

    }  

}
</code></pre>
     <p><a href="https://i.stack.imgur.com/cWLTE.jpg" rel="nofollow noreferrer"><img src="/question/stackoverflow/2839321/cWLTE.jpg" alt="enter image description here"></a></p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>