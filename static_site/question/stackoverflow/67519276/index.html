<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>jQuery DataTable: thousands separator option doesn't work</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>jQuery DataTable: thousands separator option doesn't work</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>0</span>
    </div>
    <div>
     <span>Asker: </span> <span>core114</span>
    </div>
    <div>
     <span>Asked: </span> <span>13 May 2021 at 12:30</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/67519276/jquery-datatable-thousands-separator-option-doesnt-work">source</a>
    </div>
   </div>
   <div>
    <p>Here I set as described the <a href="https://datatables.net/reference/option/language.thousands" rel="nofollow noreferrer">data table thousand separator</a>, but it doesn't work the way I expected.</p>
    <p>Can anybody help me?</p>
    <p></p>
    <div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
     <div class="snippet-code">
      <pre class="snippet-code-js lang-js prettyprint-override"><code>$('#example').dataTable( {
  "language": {
    "thousands": "'"
  }
} );</code></pre>
      <pre class="snippet-code-css lang-css prettyprint-override"><code>table.dataTable thead th {
  border-bottom: 0;
}
table.dataTable tfoot th {
  border-top: 0;
}</code></pre>
      <pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
&lt;link href="http://cdn.datatables.net/rowreorder/1.0.0/css/rowReorder.dataTables.css" rel="stylesheet"/&gt;
&lt;script src="https://cdn.datatables.net/1.10.9/js/jquery.dataTables.js"&gt;&lt;/script&gt;
&lt;script src="https://cdn.datatables.net/rowreorder/1.0.0/js/dataTables.rowReorder.js"&gt;&lt;/script&gt;



&lt;link href="http://cdn.datatables.net/1.10.0/css/jquery.dataTables.css" rel="stylesheet"/&gt;
&lt;script src="http://cdn.datatables.net/plug-ins/1.10.24/sorting/formatted-numbers.js"&gt;&lt;/script&gt;

&lt;table id="example"&gt;
        &lt;thead&gt;
            &lt;tr&gt;
                &lt;th&gt;Seq.&lt;/th&gt;
                &lt;th&gt;Name&lt;/th&gt;
                &lt;th&gt;Position&lt;/th&gt;
                &lt;th&gt;Office&lt;/th&gt;
                &lt;th&gt;Start date&lt;/th&gt;
                &lt;th&gt;Salary&lt;/th&gt;
            &lt;/tr&gt;
        &lt;/thead&gt;
 
        
        &lt;tbody&gt;
            &lt;tr&gt;
                &lt;td&gt;2&lt;/td&gt;
                &lt;td&gt;Tiger Nixon&lt;/td&gt;
                &lt;td&gt;System Architect&lt;/td&gt;
                &lt;td&gt;Edinburgh&lt;/td&gt;
                &lt;td&gt;2011/04/25&lt;/td&gt;
                &lt;td&gt;320800&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;22&lt;/td&gt;
                &lt;td&gt;Garrett Winters&lt;/td&gt;
                &lt;td&gt;Accountant&lt;/td&gt;
                &lt;td&gt;Tokyo&lt;/td&gt;
                &lt;td&gt;2011/07/25&lt;/td&gt;
                &lt;td&gt;170750&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;6&lt;/td&gt;
                &lt;td&gt;Ashton Cox&lt;/td&gt;
                &lt;td&gt;Junior Technical Author&lt;/td&gt;
                &lt;td&gt;San Francisco&lt;/td&gt;
                &lt;td&gt;2009/01/12&lt;/td&gt;
                &lt;td&gt;86000&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;41&lt;/td&gt;
                &lt;td&gt;Cedric Kelly&lt;/td&gt;
                &lt;td&gt;Senior Javascript Developer&lt;/td&gt;
                &lt;td&gt;Edinburgh&lt;/td&gt;
                &lt;td&gt;2012/03/29&lt;/td&gt;
                &lt;td&gt;433060&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;55&lt;/td&gt;
                &lt;td&gt;Airi Satou&lt;/td&gt;
                &lt;td&gt;Accountant&lt;/td&gt;
                &lt;td&gt;Tokyo&lt;/td&gt;
                &lt;td&gt;2008/11/28&lt;/td&gt;
                &lt;td&gt;162700&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;21&lt;/td&gt;
                &lt;td&gt;Brielle Williamson&lt;/td&gt;
                &lt;td&gt;Integration Specialist&lt;/td&gt;
                &lt;td&gt;New York&lt;/td&gt;
                &lt;td&gt;2012/12/02&lt;/td&gt;
                &lt;td&gt;372000&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;46&lt;/td&gt;
                &lt;td&gt;Herrod Chandler&lt;/td&gt;
                &lt;td&gt;Sales Assistant&lt;/td&gt;
                &lt;td&gt;San Francisco&lt;/td&gt;
                &lt;td&gt;2012/08/06&lt;/td&gt;
                &lt;td&gt;137500&lt;/td&gt;
            &lt;/tr&gt;
          
        &lt;/tbody&gt;
    &lt;/table&gt;</code></pre>
     </div>
    </div>
    <p></p>
    <p>Thanks</p>
   </div>
   <div class="tags">
    <span class="tag">javascript</span><span class="tag">html</span><span class="tag">datatables</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td></td>
       <td><span>I think this is a misunderstanding about how <a href="https://datatables.net/reference/option/language.thousands%60" rel="nofollow noreferrer"><code>language.thousands</code></a> works. It is used to control the way data is displayed in <a href="https://datatables.net/reference/option/info" rel="nofollow noreferrer">"table information"</a>, which means the text such as "Showing 11 to 20 of 1.234 entries (filtered from 2.345 total entries)". It does not affect the data in the body of the table.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">13 May 2021 at 12:59</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>There is a discussion about this on the DataTables web site, including various ways you can control the thousands and decimal notation for numbers: <a href="https://datatables.net/forums/discussion/61322" rel="nofollow noreferrer">thousands separator doesn`t work</a></span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">13 May 2021 at 13:01</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>Correction: 1st link from 1st comment: <a href="https://datatables.net/reference/option/language.thousands" rel="nofollow noreferrer"><code>language.thousands</code></a></span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">13 May 2021 at 13:18</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@andrewjames yes I tried but not working</span> <span> - </span> <span class="display-name">core114</span> <span> </span> <span class="date">13 May 2021 at 13:44</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>Tried what? And now working how? You can <a href="https://stackoverflow.com/posts/67519276/edit">edit</a> your question to show (a) what you tried, (b) what the outcome was, (c) any related console errors, (d) what you wanted the outcome to be. See <a href="https://stackoverflow.com/help/minimal-reproducible-example">minimal reproducible example</a>.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">13 May 2021 at 13:46</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>Also, bear in mind that the source data in your question does not match the data in your Fiddle. One shows numbers such as <code>&lt;td&gt;320800&lt;/td&gt;</code>; but the other shows numbers such as <code>&lt;td&gt;$320800&lt;/td&gt;</code>. These have different formats.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">13 May 2021 at 13:48</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>Your basic question has not changed. And therefore my answer is also the same: You appear to have misunderstood how <code>language.thousands</code> actually works. You can see how to format numbers in the link I provided in my second comment.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">13 May 2021 at 14:24</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@andrewjames your answer not working, can you added your solution here</span> <span> - </span> <span class="display-name">core114</span> <span> </span> <span class="date">13 May 2021 at 14:41</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>What answer are you referring to?</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">13 May 2021 at 14:41</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>@andrewjames I refer this <a href="https://datatables.net/forums/discussion/61322" rel="nofollow noreferrer">datatables.net/forums/discussion/61322</a></span> <span> - </span> <span class="display-name">core114</span> <span> </span> <span class="date">13 May 2021 at 14:43</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>Which part of that discussion are you referring to? Update your question and show us the code you tried to use. And show us what happened when you tried to use it. And show us any related error messages which were generated. And show us what you wanted to happen instead.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">13 May 2021 at 14:52</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span> <span class="arrow"> <a href="#answer_2">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>andrewJames</span>
     </div>
     <div>
      <span> Answered: </span> <span>13 May 2021 at 16:19</span>
     </div>
    </div>
    <div>
     <p>You can use a column <a href="https://datatables.net/reference/option/columns.render" rel="nofollow noreferrer">render function</a> to convert your source data from numbers without thousands separators to the format you want.</p>
     <p></p>
     <div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
      <div class="snippet-code">
       <pre class="snippet-code-js lang-js prettyprint-override"><code>$(document).ready(function() {

  var table = $('#example').DataTable( {
    "lengthMenu": [ 5, 10, 50, 100 ], // just for testing!
    columnDefs: [
      { 
        targets: [5], 
        render: function ( data, type, row, meta ) {
          return '$' + parseInt(data).toLocaleString('en-US');
        }
      }
    ]
  } );

} );</code></pre>
       <pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Demo&lt;/title&gt;
  &lt;script src="https://code.jquery.com/jquery-3.5.1.js"&gt;&lt;/script&gt;
  &lt;script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.js"&gt;&lt;/script&gt;
  &lt;link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.css"&gt;
  &lt;link rel="stylesheet" type="text/css" href="https://datatables.net/media/css/site-examples.css"&gt;

&lt;/head&gt;

&lt;body&gt;

&lt;div style="margin: 20px;"&gt;

    &lt;table id="example" class="display dataTable cell-border" style="width:100%"&gt;
        &lt;thead&gt;
            &lt;tr&gt;
                &lt;th&gt;Name&lt;/th&gt;
                &lt;th&gt;Position&lt;/th&gt;
                &lt;th&gt;Office in Country&lt;/th&gt;
                &lt;th&gt;Age&lt;/th&gt;
                &lt;th&gt;Start date&lt;/th&gt;
                &lt;th&gt;Salary&lt;/th&gt;
            &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;
            &lt;tr&gt;
                &lt;td&gt;2&lt;/td&gt;
                &lt;td&gt;Tiger Nixon&lt;/td&gt;
                &lt;td&gt;System Architect&lt;/td&gt;
                &lt;td&gt;Edinburgh&lt;/td&gt;
                &lt;td&gt;2011/04/25&lt;/td&gt;
                &lt;td&gt;320800&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;22&lt;/td&gt;
                &lt;td&gt;Garrett Winters&lt;/td&gt;
                &lt;td&gt;Accountant&lt;/td&gt;
                &lt;td&gt;Tokyo&lt;/td&gt;
                &lt;td&gt;2011/07/25&lt;/td&gt;
                &lt;td&gt;170750&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;6&lt;/td&gt;
                &lt;td&gt;Ashton Cox&lt;/td&gt;
                &lt;td&gt;Junior Technical Author&lt;/td&gt;
                &lt;td&gt;San Francisco&lt;/td&gt;
                &lt;td&gt;2009/01/12&lt;/td&gt;
                &lt;td&gt;86000&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;41&lt;/td&gt;
                &lt;td&gt;Cedric Kelly&lt;/td&gt;
                &lt;td&gt;Senior Javascript Developer&lt;/td&gt;
                &lt;td&gt;Edinburgh&lt;/td&gt;
                &lt;td&gt;2012/03/29&lt;/td&gt;
                &lt;td&gt;433060&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;55&lt;/td&gt;
                &lt;td&gt;Airi Satou&lt;/td&gt;
                &lt;td&gt;Accountant&lt;/td&gt;
                &lt;td&gt;Tokyo&lt;/td&gt;
                &lt;td&gt;2008/11/28&lt;/td&gt;
                &lt;td&gt;162700&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;21&lt;/td&gt;
                &lt;td&gt;Brielle Williamson&lt;/td&gt;
                &lt;td&gt;Integration Specialist&lt;/td&gt;
                &lt;td&gt;New York&lt;/td&gt;
                &lt;td&gt;2012/12/02&lt;/td&gt;
                &lt;td&gt;372000&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;46&lt;/td&gt;
                &lt;td&gt;Herrod Chandler&lt;/td&gt;
                &lt;td&gt;Sales Assistant&lt;/td&gt;
                &lt;td&gt;San Francisco&lt;/td&gt;
                &lt;td&gt;2012/08/06&lt;/td&gt;
                &lt;td&gt;137500&lt;/td&gt;
            &lt;/tr&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;

&lt;/div&gt;

&lt;/body&gt;</code></pre>
      </div>
     </div>
     <p></p>
     <p>This has the following features:</p>
     <ol>
      <li>
       <p>It will work for every record in the table, not just for those which are displayed on the first page.</p></li>
      <li>
       <p>It does not require a regular expression such as <code>data.replace(/\B(?=(\d{3})+(?!\d))/g, ",");</code> - and is therefore easier to understand.</p></li>
      <li>
       <p>It uses JavaScript's built-in support for number formatting using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString" rel="nofollow noreferrer"><code>toLocaleString</code></a>. This means it is also possible to change the thousands separator by applying a different locale (the language tag). For example, if you replace <code>'en-US'</code> with <code>fr-FR</code>, then you will get the type of thousands separator used in France, which is a space - so <code>$320 800</code> instead of <code>$320,800</code>.</p></li>
     </ol>
     <hr>
     <p>The above code assumes the source data is provided as number <em>without</em> a currency symbol:</p>
     <pre><code>&lt;td&gt;320800&lt;/td&gt;
</code></pre>
     <p>If the source data already has a currency symbol at the start of the string, for example, like this:</p>
     <pre><code>&lt;td&gt;$320800&lt;/td&gt;
</code></pre>
     <p>then you would need to adjust the render function as follows:</p>
     <pre class="lang-js prettyprint-override"><code>render: function ( data, type, row, meta ) {
  return data.substring(0, 1) + parseInt(data.substring(1)).toLocaleString('en-US');
}
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_2"><span>Answer 2</span> <span class="arrow"> <a href="#answer_1">↑</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>core114</span>
     </div>
     <div>
      <span> Answered: </span> <span>13 May 2021 at 15:22</span>
     </div>
    </div>
    <div>
     <p>I resolve the issue , I using following code</p>
     <pre><code>$('#example').dataTable( {
  "language": {
    "thousands": "'"
  }
} );


function numberWithCommas(number) {
    var parts = number.toString().split(".");
    parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    return parts.join(".");
}
$(document).ready(function() {
  $("#example td").each(function() {
    var num = $(this).text();
    var commaNum = numberWithCommas(num);
    $(this).text(commaNum);
  });
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>Unfortunately, this approach will only work for data displayed on the first page of the DataTable. The data on page 2 (and subsequent pages) will not be formatted correctly. This is because you are only applying your formatting to the data which is visible in the DOM.</span> <span> - </span> <span class="display-name">andrewJames</span> <span> </span> <span class="date">13 May 2021 at 16:19</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>