<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>What is a practical use for a closure in JavaScript?</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css">
  <script type="text/x-mathjax-config">
            MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
            tex2jax: { inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
            TeX: {
            extensions: ["begingroup.js"],
            noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
            Macros: { href: "{}" }
            },
            messageStyle: "none",
            styles: { ".MathJax_Display, .MathJax_Preview, .MathJax_Preview > *": { "background": "inherit" } },
            SEEditor: "mathjaxEditing"
            });
        </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"></script>
 </head>
 <body>
  <div class="question">
   <a href="/questions">All Questions</a>
   <h2>What is a practical use for a closure in JavaScript?</h2>
   <div class="container-metadata">
    <div>
     <span>Score: </span> <span>346</span>
    </div>
    <div>
     <span>Asker: </span> <span>alex</span>
    </div>
    <div>
     <span>Asked: </span> <span>28 Apr 2010 at 09:39</span>
    </div>
    <div>
     <a href="https://stackoverflow.com/questions/2728278">source</a>
    </div>
   </div>
   <div>
    <p>I'm <a href="http://jsbin.com/ojuxo/edit" rel="noreferrer">trying</a> my hardest to wrap my head around JavaScript closures.</p>
    <p>I get that by returning an inner function, it will have access to any variable defined in its immediate parent.</p>
    <p>Where would this be useful to me? Perhaps I haven't quite got my head around it yet. Most of the <a href="http://blog.morrisjohns.com/javascript_closures_for_dummies.html" rel="noreferrer">examples I have seen online</a> don't provide any real world code, just vague examples.</p>
    <p>Can someone show me a real world use of a closure?</p>
    <p>Is this one, for example?</p>
    <pre><code>var warnUser = function (msg) {
    var calledCount = 0;
    return function() {
       calledCount++;
       alert(msg + '\nYou have been warned ' + calledCount + ' times.');
    };
};

var warnForTamper = warnUser('You can not tamper with our HTML.');
warnForTamper();
warnForTamper();
</code></pre>
   </div>
   <div class="tags">
    <span class="tag">javascript</span><span class="tag">closures</span><span class="tag">terminology</span>
   </div>
   <hr>
   <div class="comment">
    <table>
     <tbody>
      <tr>
       <td>26</td>
       <td><span>+1 for trying your hardest :-) Closures can seem really daunting to begin with, I know they were for me. Once you get the hang of them, you'll instantly be a much better coder.</span> <span> - </span> <span class="display-name">Andy E</span> <span> </span> <span class="date">28 Apr 2010 at 09:54</span></td>
      </tr>
      <tr>
       <td>10</td>
       <td><span>I've just written a <a href="http://skilldrick.co.uk/2010/11/a-brief-introduction-to-closures/" rel="nofollow noreferrer">blog post</a> about closures in JavaScript that you may find helfpul.</span> <span> - </span> <span class="display-name">Skilldrick</span> <span> </span> <span class="date">23 Nov 2010 at 14:48</span></td>
      </tr>
      <tr>
       <td>1</td>
       <td><span>@Skilldrick. link is dead... and also I found this practical example to be very helpful. <a href="https://www.youtube.com/watch?v=w1s9PgtEoJs" rel="nofollow noreferrer">youtube.com/watch?v=w1s9PgtEoJs</a>.</span> <span> - </span> <span class="display-name">Abhi</span> <span> </span> <span class="date">6 Jul 2016 at 17:45</span></td>
      </tr>
      <tr>
       <td></td>
       <td><span>Closures are also used for currying functions</span> <span> - </span> <span class="display-name">Ghos3t</span> <span> </span> <span class="date">5 Apr 2021 at 17:38</span></td>
      </tr>
     </tbody>
    </table>
   </div>
   <br>
   <div>
    <h2 id="answer_1"><span>Answer 1</span> <span class="arrow"> <a href="#answer_2">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>340</span>
     </div>
     <div>
      <span>Answerer: </span> <span>anon</span>
     </div>
     <div>
      <span> Answered: </span> <span>19 Aug 2016 at 17:53</span>
     </div>
    </div>
    <div>
     <p>Suppose, you want to <strong>count the number of times user clicked a button</strong> on a webpage.</p>
     <p>For this, you are triggering a function on <strong><code>onclick</code></strong> event of button to update the count of the variable</p>
     <pre><code>&lt;button onclick="updateClickCount()"&gt;click me&lt;/button&gt;
</code></pre>
     <h3>Now there could be many approaches like:</h3>
     <ol>
      <li>
       <p>You could use a <strong>global variable</strong>, and a function to increase the <strong>counter</strong>:</p>
       <pre><code> var counter = 0;

 function updateClickCount() {
     ++counter;
     // Do something with counter
 }
</code></pre>
       <p>But, the pitfall is that <strong>any script on the page can change the counter, without calling <code>updateClickCount()</code></strong>.</p></li>
     </ol>
     <hr>
     <ol start="2">
      <li>
       <p>Now, you might be thinking of declaring the variable inside the function:</p>
       <pre><code> function updateClickCount() {
     var counter = 0;
     ++counter;
     // Do something with counter
 }
</code></pre>
       <p>But, hey! Every time <code>updateClickCount()</code> function is called, the <strong>counter is set to 1 again.</strong></p></li>
     </ol>
     <hr>
     <ol start="3">
      <li>
       <p>Thinking about <strong>nested functions</strong>?</p>
       <p>Nested functions have access to the scope "above" them.</p>
       <p>In this example, the inner function <code>updateClickCount()</code> has access to the counter variable in the parent function <code>countWrapper()</code>:</p>
       <pre><code> function countWrapper() {
     var counter = 0;
     function updateClickCount() {
         ++counter;
         // Do something with counter
     }
     updateClickCount();
     return counter;
 }
</code></pre>
       <p>This could have solved the counter dilemma, if you could reach the <code>updateClickCount()</code> function from the outside and you also need to find a way to execute <code>counter = 0</code> only once not everytime.</p></li>
     </ol>
     <hr>
     <ol start="4">
      <li>
       <p><strong>Closure to the rescue! (self-invoking function)</strong>:</p>
       <pre><code> var updateClickCount = (function(){
     var counter = 0;

     return function(){
         ++counter;
         // Do something with counter
     }
 })();
</code></pre>
       <p>The self-invoking function only runs once. It sets the <code>counter</code> to zero (0), and returns a function expression.</p>
       <p>This way <code>updateClickCount</code> becomes a function. The "wonderful" part is that it can access the counter in the parent scope.</p>
       <p>This is called a <strong>JavaScript closure</strong>. It makes it possible for a function to have "<em>private</em>" variables.</p>
       <p>The <code>counter</code> is protected by the scope of the anonymous function, and can only be changed using the <code>updateClickCount()</code> function!</p></li>
     </ol>
     <h3>A more lively example on closures</h3>
     <p></p>
     <div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
      <div class="snippet-code">
       <pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script&gt;
var updateClickCount = (function(){
    var counter = 0;

    return function(){
        ++counter;
        document.getElementById("spnCount").innerHTML = counter;
    }
})();
&lt;/script&gt;

&lt;html&gt;
&lt;button onclick="updateClickCount()"&gt;click me&lt;/button&gt;
&lt;div&gt; you've clicked
    &lt;span id="spnCount"&gt; 0 &lt;/span&gt; times!
&lt;/div&gt;
&lt;/html&gt;</code></pre>
      </div>
     </div>
     <p></p>
     <hr>
     <p>Reference: <em><a href="https://www.w3schools.com/js/js_function_closures.asp" rel="noreferrer">JavaScript Closures</a></em></p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>82</td>
        <td><span>This is the first answer that made me say "Oh, <i>that's</i> why I would use closures!"</span> <span> - </span> <span class="display-name">user736893</span> <span> </span> <span class="date">7 Jun 2017 at 15:45</span></td>
       </tr>
       <tr>
        <td>25</td>
        <td><span>I just read the w3schools page on closures and then came here for more info. This is the same as the w3schools page: <a href="https://www.w3schools.com/js/js_function_closures.asp" rel="nofollow noreferrer">w3schools.com/js/js_function_closures.asp</a></span> <span> - </span> <span class="display-name">tyelford</span> <span> </span> <span class="date">14 Jun 2017 at 12:31</span></td>
       </tr>
       <tr>
        <td>4</td>
        <td><span>Good answer. Note though that a closure doesn't <i>need</i> to be a self-invoking function, but it <i>can</i> be. When a closure <i>is</i> self invoking (i.e. immediately called by adding () after the function), this means the return value is immediately calculated, rather than the <i>function</i> being returned and the return value being calculated <i>later</i> once the function is invoked. A closure can actually be any function within another function, and its key characteristic is that it has access to the scope of the parent function including it's variables and methods.</span> <span> - </span> <span class="display-name">Chris Halcrow</span> <span> </span> <span class="date">13 Feb 2018 at 10:28</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>updateClickCount() is still accessible in the console in developer tools, and the definition can be changed. For example, updateClickCount = function() {console.log('hacked');}</span> <span> - </span> <span class="display-name">Pranjal Successena</span> <span> </span> <span class="date">16 Jul 2018 at 16:39</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>same as the example discussed here <a href="https://www.w3schools.com/js/js_function_closures.asp" rel="nofollow noreferrer">w3schools.com/js/js_function_closures.asp</a></span> <span> - </span> <span class="display-name">Nikhil Goyal</span> <span> </span> <span class="date">18 Jan 2019 at 21:11</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>What's the validity of this answer with ES6? You can just use let and solve the problem. Just curious.</span> <span> - </span> <span class="display-name">Esteban Vargas</span> <span> </span> <span class="date">7 Apr 2020 at 22:03</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>this answer looks scraped from w3school too much. It even contains unrelated description. <code>The counter is protected by the scope of the anonymous function, and can only be changed using the add function</code>, while there is no add function in the example code.</span> <span> - </span> <span class="display-name">DAMIEN JIANG</span> <span> </span> <span class="date">26 May 2021 at 02:40</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@EstebanVargas - I don't see how <code>let</code> can easily be used to solve the issue... Without wrapping everything in an IIFE, you still face the issue of not being able to initialise the <code>counter</code> variable, whilst protecting it from outside interference, and not resetting it to <code>1</code> everytime it's run. The ES6 easy solution would be to use <code>class</code>es, which can create private variables, and which behind the scenes uses closures to create the private <code>counter</code> variable, which can be seen in this fiddle - <a href="https://jsfiddle.net/gfy8n9um/" rel="nofollow noreferrer">jsfiddle.net/gfy8n9um</a> - By checking the console in a Chromium browser, within [[Scopes]].</span> <span> - </span> <span class="display-name">Jack_Hu</span> <span> </span> <span class="date">23 Jul 2022 at 11:22</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_2"><span>Answer 2</span> <span class="arrow"> <a href="#answer_1">↑</a> </span> <span class="arrow"> <a href="#answer_3">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>281</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Francisco Soto</span>
     </div>
     <div>
      <span> Answered: </span> <span>28 Apr 2010 at 09:47</span>
     </div>
    </div>
    <div>
     <p>I've used closures to do things like:</p>
     <pre><code>a = (function () {
    var privatefunction = function () {
        alert('hello');
    }

    return {
        publicfunction : function () {
            privatefunction();
        }
    }
})();
</code></pre>
     <p>As you can see there, <code>a</code> is now an object, with a method <code>publicfunction</code> ( <code>a.publicfunction()</code> ) which calls <code>privatefunction</code>, which only exists inside the closure. You can <strong>not</strong> call <code>privatefunction</code> directly (i.e. <code>a.privatefunction()</code> ), just <code>publicfunction()</code>.</p>
     <p>It's a minimal example, but maybe you can see uses to it? We used this to enforce public/private methods.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>34</td>
        <td><span>Ah, if this is a closure, then I have used closures without knowing it! I often put functions inside another like that, and then expose any I need public by returning an object literal like in your example.</span> <span> - </span> <span class="display-name">alex</span> <span> </span> <span class="date">28 Apr 2010 at 10:44</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>Yes, as you see, you keep the context of the function because the object you return references variables (and functions) inside it. So you've been using them, you just didn't know it.</span> <span> - </span> <span class="display-name">Francisco Soto</span> <span> </span> <span class="date">28 Apr 2010 at 10:54</span></td>
       </tr>
       <tr>
        <td>12</td>
        <td><span>Technically every function you make in Javascript on a browser is a closure because the window object is bound to it.</span> <span> - </span> <span class="display-name">Adam Gent</span> <span> </span> <span class="date">28 Apr 2010 at 12:17</span></td>
       </tr>
       <tr>
        <td>11</td>
        <td><span>I know this is an old question, but to me this still doesnt provide an adequate answer. Why not just call the function directly? Why do you need a private function?</span> <span> - </span> <span class="display-name">qodeninja</span> <span> </span> <span class="date">3 Feb 2014 at 19:17</span></td>
       </tr>
       <tr>
        <td>7</td>
        <td><span>Because even though the example has only a function, it could also have variables that are <i>not</i> accessible from the outside. Say: var obj = (function () { var value = 0; return { get: function () { return value; }, set: function (val) { value = val; } } })(); obj.set(20); obj.get(); =&gt; 20 etc.</span> <span> - </span> <span class="display-name">Francisco Soto</span> <span> </span> <span class="date">5 Feb 2014 at 18:17</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>I assume that a practical example would be to "cache" the result of a compicated computation. ie. if <code>privatefunction()</code> did some heavy calculation &amp; wanted to cache the result of this computation in a local var called <code>myHeavyComptRes</code>. see an example I created <a href="http://jsbin.com/medevicuyajo/1/edit?js,console" rel="nofollow noreferrer">jsbin.com/medevicuyajo/1/edit?js,console</a></span> <span> - </span> <span class="display-name">Adriano</span> <span> </span> <span class="date">22 Aug 2014 at 14:07</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>@alex here is an improvement of my previous comment's example <a href="http://jsbin.com/medevicuyajo/2/edit?js,console" rel="nofollow noreferrer">jsbin.com/medevicuyajo/2/edit?js,console</a> or its variation <a href="http://jsbin.com/medevicuyajo/3/edit?js,console" rel="nofollow noreferrer">jsbin.com/medevicuyajo/3/edit?js,console</a> , in the end closure seems to "only" be a work around for encapsulation as Javascript doesn't have any keyword ("private","public",...) providing such feature</span> <span> - </span> <span class="display-name">Adriano</span> <span> </span> <span class="date">22 Aug 2014 at 14:36</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>One possible interpretation of the upvotes to this the answer is that one of the most popular and practical uses of closures in JavaScript is to publish certain methods and not others (i.e. Hidding/Unhidding information in an object)?</span> <span> - </span> <span class="display-name">gaboroncancio</span> <span> </span> <span class="date">31 Oct 2014 at 13:54</span></td>
       </tr>
       <tr>
        <td>3</td>
        <td><span>Closures are incredibly useful in many situations but you have to be more adept in functional programming to get the most clever ways of using them. This is one simple way of using them that most people can use and understand right away.</span> <span> - </span> <span class="display-name">Francisco Soto</span> <span> </span> <span class="date">4 Nov 2014 at 19:31</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>How the typeof 'a' is object?</span> <span> - </span> <span class="display-name">karthikaruna</span> <span> </span> <span class="date">7 Apr 2017 at 12:48</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_3"><span>Answer 3</span> <span class="arrow"> <a href="#answer_2">↑</a> </span> <span class="arrow"> <a href="#answer_4">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>73</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Marcelo Cantos</span>
     </div>
     <div>
      <span> Answered: </span> <span>28 Apr 2010 at 09:57</span>
     </div>
    </div>
    <div>
     <p>The example you give is an excellent one. Closures are an abstraction mechanism that allow you to separate concerns very cleanly. Your example is a case of separating instrumentation (counting calls) from semantics (an error-reporting API). Other uses include:</p>
     <ol>
      <li>
       <p>Passing parameterised behaviour into an algorithm (classic higher-order programming):</p>
       <pre><code>function proximity_sort(arr, midpoint) {
    arr.sort(function(a, b) { a -= midpoint; b -= midpoint; return a*a - b*b; });
}
</code></pre></li>
      <li>
       <p>Simulating object oriented programming:</p>
       <pre><code>function counter() {
    var a = 0;
    return {
        inc: function() { ++a; },
        dec: function() { --a; },
        get: function() { return a; },
        reset: function() { a = 0; }
    }
}
</code></pre></li>
      <li>
       <p>Implementing exotic flow control, such as jQuery's Event handling and AJAX APIs.</p></li>
     </ol>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>3</td>
        <td><span>(<code>int</code>?) Last I checked, JavaScript was a duck-typed language. Perhaps you were thinking of Java?</span> <span> - </span> <span class="display-name">Hello71</span> <span> </span> <span class="date">5 Nov 2010 at 01:41</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>@Hello71: I was thinking of JavaScript, but old habits die hard. Good catch.</span> <span> - </span> <span class="display-name">Marcelo Cantos</span> <span> </span> <span class="date">5 Nov 2010 at 04:23</span></td>
       </tr>
       <tr>
        <td>2</td>
        <td><span>@MarceloCantos it looks like you have forgot a comma in counter's implementation. I edited your post to correct it. Hope that's ok :)</span> <span> - </span> <span class="display-name">Natan Streppel</span> <span> </span> <span class="date">9 Jan 2014 at 16:08</span></td>
       </tr>
       <tr>
        <td>2</td>
        <td><span>@Streppel: Good catch! I'm more than happy for you to make my code better. :-)</span> <span> - </span> <span class="display-name">Marcelo Cantos</span> <span> </span> <span class="date">10 Jan 2014 at 09:58</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>trying to understand #1... How would you call proximity_sort?</span> <span> - </span> <span class="display-name">Dave2081</span> <span> </span> <span class="date">11 Dec 2014 at 16:25</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@FunBeans: I tidied up the code to make it correct and more comprehensible. You pass an array and a midpoint, and the function sorts the elements based on how close they are to some midpoint.</span> <span> - </span> <span class="display-name">Marcelo Cantos</span> <span> </span> <span class="date">11 Dec 2014 at 21:16</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>Learning JS your second point gave me a headache! Great answer.</span> <span> - </span> <span class="display-name">Alexander Derck</span> <span> </span> <span class="date">7 Mar 2016 at 20:54</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_4"><span>Answer 4</span> <span class="arrow"> <a href="#answer_3">↑</a> </span> <span class="arrow"> <a href="#answer_5">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>37</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Mohd Asim Suhail</span>
     </div>
     <div>
      <span> Answered: </span> <span>2 Jun 2018 at 09:06</span>
     </div>
    </div>
    <div>
     <p>JavaScript closures can be used to implement <strong>throttle</strong> and <strong>debounce</strong> functionality in your application.</p>
     <h3>Throttling</h3>
     <p>Throttling puts a limit on as a maximum number of times a function can be called over time. As in "execute this function at most once every 100 milliseconds."</p>
     <p>Code:</p>
     <pre><code>const throttle = (func, limit) =&gt; {
  let isThrottling
  return function() {
    const args = arguments
    const context = this
    if (!isThrottling) {
      func.apply(context, args)
      isThrottling = true
      setTimeout(() =&gt; isThrottling = false, limit)
    }
  }
}
</code></pre>
     <h3>Debouncing</h3>
     <p>Debouncing puts a limit on a function not be called again until a certain amount of time has passed without it being called. As in "execute this function only if 100 milliseconds have passed without it being called."</p>
     <p>Code:</p>
     <pre><code>const debounce = (func, delay) =&gt; {
  let debouncing
  return function() {
    const context = this
    const args = arguments
    clearTimeout(debouncing)
    debouncing = setTimeout(() =&gt; func.apply(context, args), delay)
  }
}
</code></pre>
     <p>As you can see closures helped in implementing two beautiful features which every web application should have to provide smooth UI experience functionality.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_5"><span>Answer 5</span> <span class="arrow"> <a href="#answer_4">↑</a> </span> <span class="arrow"> <a href="#answer_6">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>21</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Andy E</span>
     </div>
     <div>
      <span> Answered: </span> <span>28 Apr 2010 at 09:51</span>
     </div>
    </div>
    <div>
     <p>Yes, that is a good example of a useful closure. The call to warnUser creates the <code>calledCount</code> variable in its scope and returns an anonymous function which is stored in the <code>warnForTamper</code> variable. Because there is still a closure making use of the calledCount variable, it isn't deleted upon the function's exit, so each call to the <code>warnForTamper()</code> will increase the scoped variable and alert the value.</p>
     <p>The most common issue I see on Stack Overflow is where someone wants to "delay" use of a variable that is increased upon each loop, but because the variable is scoped then each reference to the variable would be after the loop has ended, resulting in the end state of the variable:</p>
     <pre><code>for (var i = 0; i &lt; someVar.length; i++)
    window.setTimeout(function () {
        alert("Value of i was "+i+" when this timer was set" )
    }, 10000);
</code></pre>
     <p>This would result in every alert showing the same value of <code>i</code>, the value it was increased to when the loop ended. The solution is to create a new closure, a separate scope for the variable. This can be done using an instantly executed anonymous function, which receives the variable and stores its state as an argument:</p>
     <pre><code>for (var i = 0; i &lt; someVar.length; i++)
    (function (i) {
        window.setTimeout(function () {
            alert("Value of i was " + i + " when this timer was set")
        }, 10000);
    })(i);
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>Interesting -1, I guess this is not "a practical use for a closure in javascript"?</span> <span> - </span> <span class="display-name">Andy E</span> <span> </span> <span class="date">28 Apr 2010 at 11:25</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>I found some use in reading it so I awarded a +1 before the downvote.</span> <span> - </span> <span class="display-name">alex</span> <span> </span> <span class="date">28 Apr 2010 at 11:49</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>@alex: thanks, I did notice the upvote. I've almost gotten used to anonymous downvotes here at SO. It only annoys me because I'd really like to know if I've said something inaccurate or wrong, and they tend to make you think you've just been downvoted by some other answerer who wants better visibility for their own answer. Fortunately, I'm not the vengeful type ;-)</span> <span> - </span> <span class="display-name">Andy E</span> <span> </span> <span class="date">28 Apr 2010 at 14:30</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@Any E's head Well if anyone can let Andy or I know if there is any misleading information, we can amend and make SO a better place :)</span> <span> - </span> <span class="display-name">alex</span> <span> </span> <span class="date">28 Apr 2010 at 14:34</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>I think this is more a work around for JavaScripts broken block scope. You should just be able to add var j = i; before the first setTimeout and get the alert to use that j. Another work around is to use 'with' like so: for (var i = 0; i &lt; someVar.length; i++){ with({i:i}){window.setTimeout(function () {alert("Value of i was "+i+" when this timer was set" )}, 100);}}</span> <span> - </span> <span class="display-name">davidbuttar</span> <span> </span> <span class="date">3 Sep 2013 at 17:17</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@AndyE old answer I know, but I'm trying to understand this in terms of the definition of closure: <code>"To use a closure, simply define a function inside another function and expose it. To expose a function, return it or pass it to another function." ... "The inner function will have access to the variables in the outer function scope, even after the outer function has returned."</code> - Where is the "passing to another function or returning" portion happening? My guess is that the <code>IIFE</code> is able to remember the outer <code>i</code> for loop value at each iteration because the <code>IIFE</code> is passed to the window?</span> <span> - </span> <span class="display-name">user3871</span> <span> </span> <span class="date">17 Jul 2017 at 06:11</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@AndyE ...where the <code>i</code> in the outer <code>for-loop</code> is bound to the function's scope that contains the <code>for-loop</code>.</span> <span> - </span> <span class="display-name">user3871</span> <span> </span> <span class="date">17 Jul 2017 at 06:15</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>The funny thing is that your first code block is <i>already</i> using a closure: the callback function you're declaring in setTimeout. It has a reference to i, which is why when the callbacks are executed they all show the same value of i (they are all referencing the same variable).</span> <span> - </span> <span class="display-name">antoine</span> <span> </span> <span class="date">7 Jul 2018 at 21:42</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@antoine I don't see what's funny about that :-P (or how it's relevant to the question or answer)</span> <span> - </span> <span class="display-name">Andy E</span> <span> </span> <span class="date">13 Jul 2018 at 11:01</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>@AndyE Funny might not be the right word. I just noticed that often people use self-invoking functions to explain closures, like many answers on this page. But the callback function in the setTimeout is also a closure; it might be considered "a practical use" since you could access some other local variables from the callback. When I was learning about closures, realising this was useful to me - that closures are everywhere, not just in arcade JavaScript patterns.</span> <span> - </span> <span class="display-name">antoine</span> <span> </span> <span class="date">16 Jul 2018 at 15:32</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@antoine yeah, I guess people just find it easier to use the self-invoking function to explain, but you're right, it's odd that most people skirt around what a closure really is. I've interviewed potential recruits where I've asked them to explain a closure and sometimes they just awkwardly say 'it's a function that calls itself'</span> <span> - </span> <span class="display-name">Andy E</span> <span> </span> <span class="date">18 Jul 2018 at 10:22</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_6"><span>Answer 6</span> <span class="arrow"> <a href="#answer_5">↑</a> </span> <span class="arrow"> <a href="#answer_7">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>19</span>
     </div>
     <div>
      <span>Answerer: </span> <span>maerics</span>
     </div>
     <div>
      <span> Answered: </span> <span>28 Apr 2010 at 10:30</span>
     </div>
    </div>
    <div>
     <p>In the JavaScript (or any ECMAScript) language, in particular, closures are useful in hiding the implementation of functionality while still revealing the interface.</p>
     <p>For example, imagine you are writing a class of date utility methods and you want to allow users to look up weekday names by index, but you don't want them to be able to modify the array of names you use under the hood.</p>
     <pre><code>var dateUtil = {
  weekdayShort: (function() {
    var days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
    return function(x) {
      if ((x != parseInt(x)) || (x &lt; 1) || (x &gt; 7)) {
        throw new Error("invalid weekday number");
      }
      return days[x - 1];
    };
  }())
};
</code></pre>
     <p>Note that the <code>days</code> array could simply be stored as a property of the <code>dateUtil</code> object, but then it would be visible to users of the script and they could even change it if they wanted, without even needing your source code. However, since it's enclosed by the anonymous function which returns the date lookup function it is only accessible by the lookup function so it is now tamperproof.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>2</td>
        <td><span>This might sound dumb, but couldn't they just open up the JavaScript file itself and see your implementation?</span> <span> - </span> <span class="display-name">itsmichaelwang</span> <span> </span> <span class="date">15 Dec 2014 at 06:49</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>@Zapurdead: yes, they could of course <i>see</i> the implementation but they could not <i>change</i> the implementation (accidentally or intentionally) without directly modifying your source code. I suppose you could compare it to protected members in Java.</span> <span> - </span> <span class="display-name">maerics</span> <span> </span> <span class="date">15 Dec 2014 at 15:36</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>This is why closure exists as @maerics described here above ... ..closures are useful in hiding the implementation of functionality while still revealing the interface...</span> <span> - </span> <span class="display-name">MasterOfTheHouse</span> <span> </span> <span class="date">20 Dec 2021 at 17:55</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_7"><span>Answer 7</span> <span class="arrow"> <a href="#answer_6">↑</a> </span> <span class="arrow"> <a href="#answer_8">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>8</span>
     </div>
     <div>
      <span>Answerer: </span> <span>alex</span>
     </div>
     <div>
      <span> Answered: </span> <span>28 Apr 2010 at 13:25</span>
     </div>
    </div>
    <div>
     <p>There is a section on <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures#Practical_closures" rel="noreferrer">Practical Closures</a> at the <a href="https://developer.mozilla.org/en" rel="noreferrer">Mozilla Developer Network</a>.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>Looking through this, I don't see how it is "practical" as if I remove the whole <code>return function ()...</code> the code still works fine. The closure is not nessecary</span> <span> - </span> <span class="display-name">James Parsons</span> <span> </span> <span class="date">15 Aug 2015 at 02:47</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>@James_Parsons You couldn't then assign them to event handlers like they have done in the example then.</span> <span> - </span> <span class="display-name">alex</span> <span> </span> <span class="date">16 Aug 2015 at 23:57</span></td>
       </tr>
       <tr>
        <td></td>
        <td><span>closures are useful in hiding the implementation of functionality while still revealing the interface. It helps you create private members that can only be accessible changed and modified by using the closure..</span> <span> - </span> <span class="display-name">MasterOfTheHouse</span> <span> </span> <span class="date">20 Dec 2021 at 17:56</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_8"><span>Answer 8</span> <span class="arrow"> <a href="#answer_7">↑</a> </span> <span class="arrow"> <a href="#answer_9">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>7</span>
     </div>
     <div>
      <span>Answerer: </span> <span>EdwardG</span>
     </div>
     <div>
      <span> Answered: </span> <span>28 Apr 2010 at 12:09</span>
     </div>
    </div>
    <div>
     <p>If you're comfortable with the concept of instantiating a class in the object-oriented sense (i.e. to create an object of that class) then you're close to understanding closures.</p>
     <p>Think of it this way: when you instantiate two Person objects you know that the class member variable "Name" is not shared between instances; each object has its own 'copy'. Similarly, when you create a closure, the <em>free variable</em> ('calledCount' in your example above) is bound to the 'instance' of the function.</p>
     <p>I think your conceptual leap is slightly hampered by the fact that every function/closure returned by the warnUser function (aside: that's a <em>higher-order function</em>) closure binds 'calledCount' with the same initial value (0), whereas often when creating closures it is more useful to pass different initializers into the higher-order function, much like passing different values to the constructor of a class.</p>
     <p>So, suppose when 'calledCount' reaches a certain value you want to end the user's session; you might want different values for that depending on whether the request comes in from the local network or the big bad internet (yes, it's a contrived example). To achieve this, you could pass different initial values for calledCount into warnUser (i.e. -3, or 0?).</p>
     <p>Part of the problem with the literature is the nomenclature used to describe them ("lexical scope", "free variables"). Don't let it fool you, closures are more simple than would appear... prima facie ;-)</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_9"><span>Answer 9</span> <span class="arrow"> <a href="#answer_8">↑</a> </span> <span class="arrow"> <a href="#answer_10">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>7</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Luke Schlangen</span>
     </div>
     <div>
      <span> Answered: </span> <span>7 Oct 2016 at 21:48</span>
     </div>
    </div>
    <div>
     <p>Here, I have a greeting that I want to say several times. If I create a closure, I can simply call that function to record the greeting. If I don't create the closure, I have to pass my name in every single time.</p>
     <p>Without a closure (<a href="https://jsfiddle.net/lukeschlangen/pw61qrow/3/" rel="noreferrer">https://jsfiddle.net/lukeschlangen/pw61qrow/3/</a>):</p>
     <pre><code>function greeting(firstName, lastName) {
  var message = "Hello " + firstName + " " + lastName + "!";
  console.log(message);
}

greeting("Billy", "Bob");
greeting("Billy", "Bob");
greeting("Billy", "Bob");
greeting("Luke", "Schlangen");
greeting("Luke", "Schlangen");
greeting("Luke", "Schlangen");
</code></pre>
     <p>With a closure (<a href="https://jsfiddle.net/lukeschlangen/Lb5cfve9/3/" rel="noreferrer">https://jsfiddle.net/lukeschlangen/Lb5cfve9/3/</a>):</p>
     <pre><code>function greeting(firstName, lastName) {
  var message = "Hello " + firstName + " " + lastName + "!";

  return function() {
    console.log(message);
  }
}

var greetingBilly = greeting("Billy", "Bob");
var greetingLuke = greeting("Luke", "Schlangen");

greetingBilly();
greetingBilly();
greetingBilly();
greetingLuke();
greetingLuke();
greetingLuke();
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>1</td>
        <td><span>I am not sure but still without a closure u can call as var grretBilly= greeting("Billy", "Bob"); and call grretBilly(); It stilll would do the same ?? although u create closure or not thats a different issue but passing of name each time is not a issue here.</span> <span> - </span> <span class="display-name">user2906608</span> <span> </span> <span class="date">3 Dec 2018 at 06:15</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_10"><span>Answer 10</span> <span class="arrow"> <a href="#answer_9">↑</a> </span> <span class="arrow"> <a href="#answer_11">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>5</span>
     </div>
     <div>
      <span>Answerer: </span> <span>outis</span>
     </div>
     <div>
      <span> Answered: </span> <span>6 May 2010 at 22:26</span>
     </div>
    </div>
    <div>
     <p>Another common use for closures is to bind <code>this</code> in a method to a specific object, allowing it to be called elsewhere (such as as an event handler).</p>
     <pre><code>function bind(obj, method) {
    if (typeof method == 'string') {
        method = obj[method];
    }
    return function () {
        method.apply(obj, arguments);
    }
}
...
document.body.addEventListener('mousemove', bind(watcher, 'follow'), true);
</code></pre>
     <p>Whenever a mousemove event fires, <code>watcher.follow(evt)</code> is called.</p>
     <p>Closures are also an essential part of higher-order functions, allowing the very common pattern of rewriting multiple similar functions as a single higher order function by parameterizing the dissimilar portions. As an abstract example,</p>
     <pre><code>foo_a = function (...) {A a B}
foo_b = function (...) {A b B}
foo_c = function (...) {A c B}
</code></pre>
     <p>becomes</p>
     <pre><code>fooer = function (x) {
    return function (...) {A x B}
}
</code></pre>
     <p>where A and B aren't syntactical units but source code strings (not string literals).</p>
     <p>See "<a href="https://stackoverflow.com/questions/2775630/streamlining-my-javascript-with-a-function">Streamlining my javascript with a function</a>" for a concrete example.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_11"><span>Answer 11</span> <span class="arrow"> <a href="#answer_10">↑</a> </span> <span class="arrow"> <a href="#answer_12">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>5</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Abhilash KK</span>
     </div>
     <div>
      <span> Answered: </span> <span>1 Jun 2018 at 15:00</span>
     </div>
    </div>
    <div>
     <p>Here I have one simple example of the closure concept which we can use for in our E-commerce site or many others as well.</p>
     <p>I am adding my JSFiddle link with the example. It contains a small product list of three items and one cart counter.</p>
     <p><a href="https://jsfiddle.net/abhilashkj/3o6m1g6q/" rel="nofollow noreferrer">JSFiddle</a></p>
     <p></p>
     <div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
      <div class="snippet-code">
       <pre class="snippet-code-js lang-js prettyprint-override"><code>// Counter closure implemented function;
var CartCouter = function(){
  var counter = 0;

  function changeCounter(val){
      counter += val
  }

  return {
      increment: function(){
        changeCounter(1);
    },
    decrement: function(){
      changeCounter(-1);
    },
    value: function(){
      return counter;
    }
  }
}

var cartCount = CartCouter();

function updateCart() {
  document.getElementById('cartcount').innerHTML = cartCount.value();
}

var productlist = document.getElementsByClassName('item');
for(var i = 0; i&lt; productlist.length; i++){
  productlist[i].addEventListener('click', function(){
    if(this.className.indexOf('selected') &lt; 0){
      this.className += " selected";
      cartCount.increment();
      updateCart();
    }
    else{
      this.className = this.className.replace("selected", "");
      cartCount.decrement();
      updateCart();
    }
  })
}</code></pre>
       <pre class="snippet-code-css lang-css prettyprint-override"><code>.productslist{
  padding: 10px;
}
ul li{
  display: inline-block;
  padding: 5px;
  border: 1px solid #DDD;
  text-align: center;
  width: 25%;
  cursor: pointer;
}
.selected{
  background-color: #7CFEF0;
  color: #333;
}
.cartdiv{
  position: relative;
  float: right;
  padding: 5px;
  box-sizing: border-box;
  border: 1px solid #F1F1F1;
}</code></pre>
       <pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;div&gt;
    &lt;h3&gt;
        Practical use of a JavaScript closure concept/private variable.
    &lt;/h3&gt;

    &lt;div class="cartdiv"&gt;
        &lt;span id="cartcount"&gt;0&lt;/span&gt;
    &lt;/div&gt;

    &lt;div class="productslist"&gt;
        &lt;ul&gt;
            &lt;li class="item"&gt;Product 1&lt;/li&gt;
            &lt;li class="item"&gt;Product 2&lt;/li&gt;
            &lt;li class="item"&gt;Product 3&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
      </div>
     </div>
     <p></p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_12"><span>Answer 12</span> <span class="arrow"> <a href="#answer_11">↑</a> </span> <span class="arrow"> <a href="#answer_13">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>4</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Sunny S.M</span>
     </div>
     <div>
      <span> Answered: </span> <span>10 Aug 2015 at 07:49</span>
     </div>
    </div>
    <div>
     <p><strong>Use of Closures:</strong></p>
     <p>Closures are one of the most powerful features of JavaScript. JavaScript allows for the nesting of functions and grants the inner function full access to all the variables and functions defined inside the outer function (and all other variables and functions that the outer function has access to). However, the outer function does not have access to the variables and functions defined inside the inner function.</p>
     <p>This provides a sort of security for the variables of the inner function. Also, since the inner function has access to the scope of the outer function, the variables and functions defined in the outer function will live longer than the outer function itself, if the inner function manages to survive beyond the life of the outer function. A closure is created when the inner function is somehow made available to any scope outside the outer function.</p>
     <p>Example:</p>
     <pre><code>&lt;script&gt;
var createPet = function(name) {
  var sex;
  
  return {
    setName: function(newName) {
      name = newName;
    },
    
    getName: function() {
      return name;
    },
    
    getSex: function() {
      return sex;
    },
    
    setSex: function(newSex) {
      if(typeof newSex == "string" &amp;&amp; (newSex.toLowerCase() == "male" || newSex.toLowerCase() == "female")) {
        sex = newSex;
      }
    }
  }
}

var pet = createPet("Vivie");
console.log(pet.getName());                  // Vivie

console.log(pet.setName("Oliver"));   
console.log(pet.setSex("male"));
console.log(pet.getSex());                   // male
console.log(pet.getName());                  // Oliver
&lt;/script&gt;
</code></pre>
     <p>In the code above, the name variable of the outer function is accessible to the inner functions, and there is no other way to access the inner variables except through the inner functions. The inner variables of the inner function act as safe stores for the inner functions. They hold "persistent", yet secure, data for the inner functions to work with. The functions do not even have to be assigned to a variable, or have a name. read <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions#Defining_functions" rel="nofollow noreferrer">here</a> for detail.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_13"><span>Answer 13</span> <span class="arrow"> <a href="#answer_12">↑</a> </span> <span class="arrow"> <a href="#answer_14">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>2</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Tom</span>
     </div>
     <div>
      <span> Answered: </span> <span>10 Aug 2015 at 14:35</span>
     </div>
    </div>
    <div>
     <p>I like Mozilla's <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures#Closure" rel="nofollow noreferrer">function factory example</a>.</p>
     <pre><code>function makeAdder(x) {

    return function(y) {
        return x + y;
    };
}

var addFive = makeAdder(5);

console.assert(addFive(2) === 7);
console.assert(addFive(-5) === 0);
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td>16</td>
        <td><span>This is the type of example that doesn't help people understand closures or what good they're for, in my opinion. How many times have you ever written a closure to return a function to add numbers, other than as an example?</span> <span> - </span> <span class="display-name">Mohamad</span> <span> </span> <span class="date">2 Nov 2015 at 01:14</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_14"><span>Answer 14</span> <span class="arrow"> <a href="#answer_13">↑</a> </span> <span class="arrow"> <a href="#answer_15">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>2</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Tomasz Grabowski</span>
     </div>
     <div>
      <span> Answered: </span> <span>12 Aug 2016 at 11:30</span>
     </div>
    </div>
    <div>
     <p>The JavaScript module pattern uses closures. Its nice pattern allows you to have something alike "public" and "private" variables.</p>
     <pre><code>var myNamespace = (function () {

  var myPrivateVar, myPrivateMethod;

  // A private counter variable
  myPrivateVar = 0;

  // A private function which logs any arguments
  myPrivateMethod = function(foo) {
      console.log(foo);
  };

  return {

    // A public variable
    myPublicVar: "foo",

    // A public function utilizing privates
    myPublicFunction: function(bar) {

      // Increment our private counter
      myPrivateVar++;

      // Call our private method using bar
      myPrivateMethod(bar);
    }
  };

})();
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_15"><span>Answer 15</span> <span class="arrow"> <a href="#answer_14">↑</a> </span> <span class="arrow"> <a href="#answer_16">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>2</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Darren Crabb</span>
     </div>
     <div>
      <span> Answered: </span> <span>24 Oct 2017 at 14:07</span>
     </div>
    </div>
    <div>
     <p>This thread has helped me immensely in gaining a better understanding of how closures work.</p>
     <p>I've since done some experimentation of my own and came up with this fairly simple code which may help some other people see how closures can be used in a practical way and how to use the closure at different levels to maintain variables similar to static and/or global variables without risk of them getting overwritten or confused with global variables.</p>
     <p>This keeps track of button clicks, both at a local level for each individual button and a global level, counting every button click, contributing towards a single figure. Note I haven't used any global variables to do this, which is kind of the point of the exercise - having a handler that can be applied to any button that also contributes to something globally.</p>
     <p>Please experts, do let me know if I've committed any bad practices here! I'm still learning this stuff myself.</p>
     <pre><code>&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;Closures on button presses&lt;/title&gt;

    &lt;script type="text/javascript"&gt;

        window.addEventListener("load" , function () {
            /*
                Grab the function from the first closure,
                and assign to a temporary variable
                this will set the totalButtonCount variable
                that is used to count the total of all button clicks
            */
            var buttonHandler = buttonsCount();

            /*
                Using the result from the first closure (a function is returned)
                assign and run the sub closure that carries the
                individual variable for button count and assign to the click handlers
            */
            document.getElementById("button1").addEventListener("click" , buttonHandler() );
            document.getElementById("button2").addEventListener("click" , buttonHandler() );
            document.getElementById("button3").addEventListener("click" , buttonHandler() );

            // Now that buttonHandler has served its purpose it can be deleted if needs be
            buttonHandler = null;
        });


        function buttonsCount() {
            /*
                First closure level
                - totalButtonCount acts as a sort of global counter to count any button presses
            */
            var totalButtonCount = 0;

            return  function () {
                // Second closure level
                var myButtonCount = 0;

                return function (event) {
                    // Actual function that is called on the button click
                    event.preventDefault();
                    /*
                       Increment the button counts.
                       myButtonCount only exists in the scope that is
                       applied to each event handler and therefore acts
                       to count each button individually, whereas because
                       of the first closure totalButtonCount exists at
                       the scope just outside, it maintains a sort
                       of static or global variable state
                    */

                    totalButtonCount++;
                    myButtonCount++;

                    /*
                        Do something with the values ... fairly pointless
                        but it shows that each button contributes to both
                        its own variable and the outer variable in the
                        first closure
                    */
                    console.log("Total button clicks: "+totalButtonCount);
                    console.log("This button count: "+myButtonCount);
                }
            }
        }
    &lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;a href="#" id="button1"&gt;Button 1&lt;/a&gt;
    &lt;a href="#" id="button2"&gt;Button 2&lt;/a&gt;
    &lt;a href="#" id="button3"&gt;Button 3&lt;/a&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_16"><span>Answer 16</span> <span class="arrow"> <a href="#answer_15">↑</a> </span> <span class="arrow"> <a href="#answer_17">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>2</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Mandeep Kaur</span>
     </div>
     <div>
      <span> Answered: </span> <span>5 Feb 2020 at 16:00</span>
     </div>
    </div>
    <div>
     <h3>Explaining the practical use for a closure in JavaScript</h3>
     <p>When we create a function inside another function, we are creating a closure. Closures are powerful because they are capable of reading and manipulating the data of its outer functions. Whenever a function is invoked, a new scope is created for that call. The local variable declared inside the function belong to that scope and they can only be accessed from that function. When the function has finished the execution, the scope is usually destroyed.</p>
     <p>A simple example of such function is this:</p>
     <pre><code>function buildName(name) {
    const greeting = "Hello, " + name;
    return greeting;
}
</code></pre>
     <p>In above example, the function buildName() declares a local variable greeting and returns it. Every function call creates a new scope with a new local variable. After the function is done executing, we have no way to refer to that scope again, so it’s garbage collected.</p>
     <p>But how about when we have a link to that scope?</p>
     <p>Let’s look at the next function:</p>
     <p></p>
     <div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
      <div class="snippet-code">
       <pre class="snippet-code-js lang-js prettyprint-override"><code>function buildName(name) {
    const greeting = "Hello, " + name + " Welcome ";
    const sayName = function() {
        console.log(greeting);
    };
    return sayName;
}

const sayMyName = buildName("Mandeep");
sayMyName();  // Hello, Mandeep Welcome</code></pre>
      </div>
     </div>
     <p></p>
     <p>The function sayName() from this example is a closure. The sayName() function has its own local scope (with variable welcome) and has also access to the outer (enclosing) function’s scope. In this case, the variable greeting from buildName().</p>
     <p>After the execution of buildName is done, the scope is not destroyed in this case. The sayMyName() function still has access to it, so it won’t be garbage collected. However, there is no other way of accessing data from the outer scope except the closure. The closure serves as the gateway between the global context and the outer scope.</p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_17"><span>Answer 17</span> <span class="arrow"> <a href="#answer_16">↑</a> </span> <span class="arrow"> <a href="#answer_18">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>2</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Sundar Gautam</span>
     </div>
     <div>
      <span> Answered: </span> <span>31 Jan 2021 at 16:47</span>
     </div>
    </div>
    <div>
     <p>There are various use cases of closures.Here, I am going to explain most important usage of Closure concept.</p>
     <ul>
      <li>Closure can be used to create private methods and variables just like an object-oriented language like java, c++ and so on. Once you implemented private methods and variables, your variables defined inside a function won't be accessible by window object. This helps in data hiding and data security.</li>
     </ul>
     <pre><code>const privateClass = () =&gt; {
  let name = "sundar";
  function setName(changeName) {
    name = changeName;
  }
  function getName() {
    return name;
  }
  return {
    setName: setName,
    getName: getName,
  };
};

let javaLikeObject = privateClass(); \\ similar to new Class() in OOPS.

console.log(javaLikeObject.getName()); \\this will give sundar
javaLikeObject.setName("suresh");
console.log(javaLikeObject.getName()); \\this will give suresh

</code></pre>
     <ul>
      <li>Another real-life example of closure :</li>
     </ul>
     <p>Create index.html:</p>
     <pre><code>&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
    &lt;title&gt;Program with Javascript&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p id="first"&gt;&lt;/p&gt;
    &lt;p id="second"&gt;&lt;/p&gt;
    &lt;button onclick="applyingConcepts()"&gt;Click&lt;/button&gt;
    &lt;script src="./index.js"&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;

</code></pre>
     <p>2)In index.js:</p>
     <pre><code>  let count = 0;
  return () =&gt; {
    document.getElementById("first").innerHTML = count++;
  };
})();

</code></pre>
     <ul>
      <li>In this example, when you click a button, then your count will be updated on p#id. Note: You might be wondering what's special in this code. When you inspect, you will notice that you can't change the value of count using the window object. This means you have declared private variable count so this prevents your states from being spoiled by the client.</li>
     </ul>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_18"><span>Answer 18</span> <span class="arrow"> <a href="#answer_17">↑</a> </span> <span class="arrow"> <a href="#answer_19">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>1</span>
     </div>
     <div>
      <span>Answerer: </span> <span>stusmith</span>
     </div>
     <div>
      <span> Answered: </span> <span>28 Apr 2010 at 11:11</span>
     </div>
    </div>
    <div>
     <p>I wrote an article a while back about how closures can be used to simplify event-handling code. It compares ASP.NET event handling to client-side jQuery.</p>
     <p><a href="http://www.hackification.com/2009/02/20/closures-simplify-event-handling-code/" rel="nofollow noreferrer">http://www.hackification.com/2009/02/20/closures-simplify-event-handling-code/</a></p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_19"><span>Answer 19</span> <span class="arrow"> <a href="#answer_18">↑</a> </span> <span class="arrow"> <a href="#answer_20">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Paul Sweatte</span>
     </div>
     <div>
      <span> Answered: </span> <span>28 Jun 2013 at 01:48</span>
     </div>
    </div>
    <div>
     <p>Closures are a useful way to create <a href="/questions/tagged/generators" class="post-tag" title="show questions tagged 'generators'" rel="tag">generators</a>, a sequence incremented on-demand:</p>
     <p></p>
     <div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
      <div class="snippet-code">
       <pre class="snippet-code-js lang-js prettyprint-override"><code>    var foobar = function(i){var count = count || i; return function(){return ++count;}}

    baz = foobar(1);
    console.log("first call: " + baz()); //2
    console.log("second call: " + baz()); //3</code></pre>
      </div>
     </div>
     <p></p>
     <p>The differences are summarized as follows:</p>
     <pre>Anonymous functions                                    Defined functions

Cannot be used as a method                             Can be used as a method of an object

Exists only in the scope in which it is defined        Exists within the object it is defined in

Can only be called in the scope in which it is defined Can be called at any point in the code

Can be reassigned a new value or deleted               Cannot be deleted or changed
</pre>
     <p><strong>References</strong></p>
     <ul>
      <li><a href="http://www.adobe.com/devnet/actionscript/learning/as3-fundamentals/functions.html" rel="nofollow noreferrer">AS3 Fundamentals: Functions</a></li>
     </ul>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_20"><span>Answer 20</span> <span class="arrow"> <a href="#answer_19">↑</a> </span> <span class="arrow"> <a href="#answer_21">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Damodaran</span>
     </div>
     <div>
      <span> Answered: </span> <span>9 Feb 2016 at 06:39</span>
     </div>
    </div>
    <div>
     <p>Reference: <a href="http://dmitrysoshnikov.com/ecmascript/chapter-6-closures/#practical-usage-of-closures" rel="nofollow noreferrer">Practical usage of closures</a></p>
     <p>In practice, closures may create elegant designs, allowing customization of various calculations, deferred calls, callbacks, creating encapsulated scope, etc.</p>
     <p>An example is the sort method of arrays which accepts the sort condition function as an argument:</p>
     <pre><code>[1, 2, 3].sort(function (a, b) {
    ... // Sort conditions
});
</code></pre>
     <p>Mapping functionals as the map method of arrays which maps a new array by the condition of the functional argument:</p>
     <pre><code>[1, 2, 3].map(function (element) {
    return element * 2;
}); // [2, 4, 6]
</code></pre>
     <p>Often it is convenient to implement search functions with using functional arguments defining almost unlimited conditions for search:</p>
     <pre><code>someCollection.find(function (element) {
    return element.someProperty == 'searchCondition';
});
</code></pre>
     <p>Also, we may note applying functionals as, for example, a forEach method which applies a function to an array of elements:</p>
     <pre><code>[1, 2, 3].forEach(function (element) {
    if (element % 2 != 0) {
        alert(element);
    }
}); // 1, 3
</code></pre>
     <p>A function is applied to arguments (to a list of arguments — in apply, and to positioned arguments — in call):</p>
     <pre><code>(function () {
    alert([].join.call(arguments, ';')); // 1;2;3
}).apply(this, [1, 2, 3]);
</code></pre>
     <p>Deferred calls:</p>
     <pre><code>var a = 10;
setTimeout(function () {
    alert(a); // 10, after one second
}, 1000);
</code></pre>
     <p>Callback functions:</p>
     <pre><code>var x = 10;
// Only for example
xmlHttpRequestObject.onreadystatechange = function () {
    // Callback, which will be called deferral ,
    // when data will be ready;
    // variable "x" here is available,
    // regardless that context in which,
    // it was created already finished
    alert(x); // 10
};
</code></pre>
     <p>Creation of an encapsulated scope for the purpose of hiding auxiliary objects:</p>
     <pre><code>var foo = {};
(function (object) {
    var x = 10;
    object.getX = function _getX() {
        return x;
    };
})(foo);

alert(foo.getX()); // Get closured "x" – 10
</code></pre>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_21"><span>Answer 21</span> <span class="arrow"> <a href="#answer_20">↑</a> </span> <span class="arrow"> <a href="#answer_22">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Muhammad Usman</span>
     </div>
     <div>
      <span> Answered: </span> <span>3 Mar 2017 at 11:42</span>
     </div>
    </div>
    <div>
     <blockquote>
      <p>Much of the code we write in front-end JavaScript is event-based — we define some behavior, then attach it to an event that is triggered by the user (such as a click or a keypress). Our code is generally attached as a callback: a single function which is executed in response to the event. size12, size14, and size16 are now functions which will resize the body text to 12, 14, and 16 pixels, respectively. We can attach them to buttons (in this case links) as follows:</p>
     </blockquote>
     <pre><code>function makeSizer(size) {
    return function() {
    document.body.style.fontSize = size + 'px';
    };
}

var size12 = makeSizer(12);
var size14 = makeSizer(14);
var size16 = makeSizer(16);

document.getElementById('size-12').onclick = size12;
document.getElementById('size-14').onclick = size14;
document.getElementById('size-16').onclick = size16;
</code></pre>
     <p><a href="https://jsfiddle.net/vnkuZ/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=vnkuZ" rel="nofollow noreferrer">Fiddle</a></p>
    </div>
    <hr>
    <div class="comment">
     <table>
      <tbody>
       <tr>
        <td></td>
        <td><span>While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer's long-term value.</span> <span> - </span> <span class="display-name">Donald Duck</span> <span> </span> <span class="date">3 Mar 2017 at 12:04</span></td>
       </tr>
       <tr>
        <td>1</td>
        <td><span>this example, it seems to me, could be implemented without closure via a standard function. I'm trying to find an example of something that COULDN'T be implemented without closure</span> <span> - </span> <span class="display-name">Zach Smith</span> <span> </span> <span class="date">5 May 2017 at 16:26</span></td>
       </tr>
      </tbody>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_22"><span>Answer 22</span> <span class="arrow"> <a href="#answer_21">↑</a> </span> <span class="arrow"> <a href="#answer_23">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>ShAkKiR</span>
     </div>
     <div>
      <span> Answered: </span> <span>21 May 2018 at 07:57</span>
     </div>
    </div>
    <div>
     <p>In the given sample, the value of the enclosed variable 'counter' is protected and can be altered only using the given functions (increment, decrement). Because it is in a closure,</p>
     <p></p>
     <div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
      <div class="snippet-code">
       <pre class="snippet-code-js lang-js prettyprint-override"><code>var MyCounter = function (){
    var counter = 0;
    return {
        increment:function () {return counter += 1;},
        decrement:function () {return counter -= 1;},
        get:function () {return counter;}
    };
};

var x = MyCounter();
// Or
var y = MyCounter();

alert(x.get()); // 0
alert(x.increment()); // 1
alert(x.increment()); // 2

alert(y.increment()); // 1
alert(x.get()); // x is still 2</code></pre>
      </div>
     </div>
     <p></p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_23"><span>Answer 23</span> <span class="arrow"> <a href="#answer_22">↑</a> </span> <span class="arrow"> <a href="#answer_24">↓</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Krystian Wójcicki</span>
     </div>
     <div>
      <span> Answered: </span> <span>5 Apr 2020 at 18:22</span>
     </div>
    </div>
    <div>
     <p>I'm trying to learn closures and I think the example that I have created is a practical use case. You can run a snippet and see the result in the console.</p>
     <p>We have two separate users who have separate data. Each of them can see the actual state and update it.</p>
     <p></p>
     <div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
      <div class="snippet-code">
       <pre class="snippet-code-js lang-js prettyprint-override"><code>function createUserWarningData(user) {
  const data = {
    name: user,
    numberOfWarnings: 0,
  };

  function addWarning() {
    data.numberOfWarnings = data.numberOfWarnings + 1;
  }

  function getUserData() {
    console.log(data);
    return data;
  }

  return {
    getUserData: getUserData,
    addWarning: addWarning,
  };
}

const user1 = createUserWarningData("Thomas");
const user2 = createUserWarningData("Alex");

//USER 1
user1.getUserData(); // Returning data user object
user1.addWarning(); // Add one warning to specific user
user1.getUserData(); // Returning data user object

//USER2
user2.getUserData(); // Returning data user object
user2.addWarning(); // Add one warning to specific user
user2.addWarning(); // Add one warning to specific user
user2.getUserData(); // Returning data user object</code></pre>
      </div>
     </div>
     <p></p>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <div>
    <h2 id="answer_24"><span>Answer 24</span> <span class="arrow"> <a href="#answer_23">↑</a> </span></h2>
    <div class="container-metadata">
     <div>
      <span>Score: </span> <span>0</span>
     </div>
     <div>
      <span>Answerer: </span> <span>Balram Singh</span>
     </div>
     <div>
      <span> Answered: </span> <span>24 Aug 2022 at 02:52</span>
     </div>
    </div>
    <div>
     <p>Everyone has explained the practical use cases of closure: the definition and a couple of examples.</p>
     <p>I want to contribute a list of use cases of Closures:</p>
     <ul>
      <li>suppose you want to count no of times a button is clicked; Closure is the best choice.</li>
      <li>Throttling and Debounce</li>
      <li>Currying</li>
      <li>Memorize</li>
      <li>Maintaining state in the async world</li>
      <li>Functions like once</li>
      <li>setTimeouts</li>
      <li>Iterators</li>
     </ul>
    </div>
    <hr>
    <div class="comment">
     <table>
     </table>
    </div>
   </div>
   <br>
   <div>
    <span>License: </span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span>by </span> <a href="https://stackoverflow.com/legal/terms-of-service#licensing">Stack Overflow Inc.</a>
   </div>
  </div>
 </body>
</html>